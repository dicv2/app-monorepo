!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2b66ab32-7962-4ee4-9ad7-49eb1961c03d",e._sentryDebugIdIdentifier="sentry-dbid-2b66ab32-7962-4ee4-9ad7-49eb1961c03d")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024112814)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[69450],{304695:(e,t,r)=>{r.d(t,{V:()=>NetworksFilterItem});var o=r(324586),a=r(839850),n=r(17617),s=r(490343),i=r(831085),l=["networkImageUri","networkName","isSelected","tooltipContent","disabled"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function NetworksFilterItem(e){var{networkImageUri:t,networkName:r,isSelected:o,tooltipContent:c,disabled:p}=e,m=(0,a.A)(e,l),d=(0,i.jsxs)(s.XStack,_objectSpread(_objectSpread(_objectSpread(_objectSpread({justifyContent:"center",px:"$3",py:"$1.5",borderRadius:"$2",userSelect:"none",borderWidth:n.A.hairlineWidth,borderColor:o?"$borderActive":"$border"},!o&&!p&&{focusable:!0,hoverStyle:{bg:"$bgStrongHover"},pressStyle:{bg:"$bgStrongActive"},focusVisibleStyle:{outlineWidth:2,outlineStyle:"solid",outlineColor:"$focusRing"}}),p&&{opacity:.5}),m),{},{children:[t?(0,i.jsx)(s.Image,{height:"$6",width:"$6",borderRadius:"$full",$gtMd:{height:"$5",width:"$5"},children:(0,i.jsx)(s.Image.Source,{source:{uri:t}})}):null,r?(0,i.jsx)(s.SizableText,{numberOfLines:1,color:o?"$text":"$textSubdued",size:"$bodyLgMedium",$gtMd:{size:"$bodyMdMedium"},children:r}):null]}));return c?(0,i.jsx)(s.Tooltip,{renderContent:c,placement:"top",renderTrigger:d,"data-sentry-element":"Tooltip","data-sentry-component":"NetworksFilterItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/components/NetworksFilterItem/index.tsx"}):d}},793437:(e,t,r)=>{r.d(t,{X:()=>OpenInAppButton});var o=r(586330),a=r(514041),n=r(908867),s=r(17617),i=r(490343),l=r(889949),c=r(726130),p=r(334439),m=r(663522),d=r(117746),k=r(911998),u=r(831085);function OpenInAppButton({buildDeepLinkUrl:e,buildFullUrl:t}){var r=(0,n.A)(),{result:h}=(0,k.yk)((0,o.A)((function*(){var t=e();return(yield d.Ay.linkingCanOpenURL(t))?t:""})),[e]),f=((0,a.useMemo)((function(){return m.Ay.isWebMobile?m.Ay.isWebMobileAndroid?"Open by OneKey Android":m.Ay.isWebMobileIOS?"Open by OneKey iOS":void 0:"Open by OneKey Desktop"}),[]),(0,a.useCallback)((0,o.A)((function*(){var e=yield t();i.Dialog.show({title:r.formatMessage({id:p.ETranslations.open_in_mobile_app}),floatingPanelProps:{overflow:"hidden"},renderContent:(0,u.jsxs)(i.Stack,{children:[(0,u.jsx)(i.Stack,{alignItems:"center",justifyContent:"center",overflow:"hidden",children:(0,u.jsx)(i.Stack,{p:"$4",borderRadius:"$6",borderCurve:"continuous",borderWidth:s.A.hairlineWidth,borderColor:"$borderSubdued",children:(0,u.jsx)(i.QRCode,{value:e,logo:l,logoSize:40,size:224})})}),(0,u.jsxs)(i.XStack,{m:"$-5",mt:"$5",py:"$4",px:"$5",backgroundColor:"$bgSubdued",alignItems:"center",children:[(0,u.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSubdued",flex:1,children:r.formatMessage({id:p.ETranslations.dont_have_mobile_app_yet})}),(0,u.jsx)(i.Button,{size:"small",onPress:function(){(0,d.Dr)(c.A8)},children:r.formatMessage({id:p.ETranslations.global_download})})]})]}),showFooter:!1})})),[t,r]));return(0,u.jsx)(i.Button,{size:"small",onPress:f,"data-sentry-element":"Button","data-sentry-component":"OpenInAppButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/components/OpenInAppButton/index.tsx",children:r.formatMessage({id:p.ETranslations.open_in_mobile_app})})}},394285:(e,t,r)=>{r.d(t,{V:()=>TradingView});var o=r(165167),a=r(259347),n=r(514041),s=r(185339),i=r(886738),l=r(825903),c={bn:"en",de:"de",en:"en","en-US":"en",es:"es","fr-FR":"fr","hi-IN":"en",id:"id","it-IT":"it","ja-JP":"ja","ko-KR":"ko",pt:"pt","pt-BR":"pt",ru:"ru","th-TH":"th","uk-UA":"ru",vi:"vi","zh-CN":"zh_CN","zh-HK":"zh_HK","zh-TW":"zh_TW"},useTradingViewUri=function({identifier:e,baseToken:t,targetToken:r},{hideSideToolbar:o=!1}){var a=(0,l.YE)(),p=(0,i.L)(),m=(0,n.useMemo)((function(){return c[p]||"en"}),[p]),d=(0,s.H4)(),k=(0,n.useMemo)((function(){return d[0].timeZone||"Etc/UTC"}),[d]);return(0,n.useMemo)((function(){var n={show_popup_button:"false",autosize:"true",symbol:`${e.toUpperCase()}:${t.toUpperCase()}${r.toUpperCase()}`,interval:"D",timezone:k,theme:a,style:"1",locale:m,hide_legend:"true",allow_symbol_change:"true",save_image:"false",withdateranges:"true",calendar:"false",hide_volume:"true",hide_side_toolbar:o?"1":"0",support_host:"https://www.tradingview.com",isTransparent:"true"};return"dark"===a&&(n.backgroundColor="rgba(27, 27, 27, 1)"),`https://www.tradingview-widget.com/embed-widget/advanced-chart/?t=${Date.now()}&locale=${m}#${JSON.stringify(n)}`}),[t,o,e,m,r,a,k])},p=r(831085);function WebView({uri:e,style:t}){return(0,p.jsx)("div",{style:t,"data-sentry-component":"WebView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/components/TradingView/WebView.tsx",children:(0,p.jsx)("iframe",{style:{height:"100%",width:"100%",border:0},frameBorder:"0",title:"TradingView",src:e,sandbox:"allow-orientation-lock allow-scripts\tallow-top-navigation allow-top-navigation-by-user-activation allow-same-origin allow-popups"})})}function TradingView(e){var[t,r]=(0,o.Yl)(e),{targetToken:n,identifier:s,baseToken:i}=t,{gtMd:l}=(0,a.Qf)(),c=useTradingViewUri({targetToken:n,identifier:s,baseToken:i},{hideSideToolbar:!l});return(0,p.jsx)(WebView,{uri:c,style:r,"data-sentry-element":"WebView","data-sentry-component":"TradingView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/components/TradingView/index.tsx"})}},714718:(e,t,r)=>{r.d(t,{A:()=>useFormatDate});var o=r(514041),a=r(243915),n=r(152111),s=r(724726),i=r(584941),l=r(121684),c=r(567807),p=r(886738);function useFormatDate(){var e=(0,p.L)(),t=(0,o.useCallback)((function(t,r){var o;o="string"==typeof t?(0,a.A)(t):t;try{return(0,n.A)(o,null!=r?r:"PPp",{locale:(0,c.mw)(e)})}catch(e){return"-"}}),[e]),r=(0,o.useCallback)((function(r,o){var n,s;s="string"==typeof r?(0,a.A)(r):r;var i=(new Date).getFullYear(),l=(new Date).getMonth(),c="yyyy/LL/dd, HH:mm";return["de","es","en-US","fr-FR","it-IT","uk-UA"].includes(e)&&(c="LL/dd/yyyy, HH:mm"),(i===s.getFullYear()&&o?.hideTheYear||o?.hideYear)&&(c=(c=c.replace("yyyy/","")).replace("/yyyy","")),(l===s.getMonth()&&o?.hideTheMonth||o?.hideMonth)&&(c=c.replace("LL/","")),o?.hideTimeForever&&(c=c.replace(", HH:mm","")),o?.onlyTime&&(c="HH:mm"),null!=(n=t(s,c))?n:""}),[t,e]),m=(0,o.useCallback)((function(e,r){var o,n,s;return n="string"==typeof e?(0,a.A)(e):e,(new Date).getFullYear()===n.getFullYear()&&r?.hideTheYear||r?.hideYear?null!=(s=t(n,"MMMM"))?s:"":null!=(o=t(n,"MMMM, yyyy"))?o:""}),[t]),d=(0,o.useCallback)((function(t,r){var o;return null!=(o=(0,s.A)(t,r,{locale:(0,c.mw)(e)}))?o:""}),[e]),k=(0,o.useCallback)((function(t){var r;return null!=(r=(0,i.A)(t,{addSuffix:!0,locale:(0,c.mw)(e)}))?r:""}),[e]),u=(0,o.useCallback)((function(t){var r;return null!=(r=(0,l.A)(t,{locale:(0,c.mw)(e)}))?r:""}),[e]);return(0,o.useMemo)((function(){return{format:t,formatDate:r,formatMonth:m,formatDistanceToNow:k,formatDuration:u,formatDistanceStrict:d}}),[t,r,m,k,u,d])}},639563:(e,t,r)=>{r.d(t,{HM:()=>c,V8:()=>m,oV:()=>p});var o,a,n,s=r(586330),i=r(117746),l=r(547669),c=(o=(0,s.A)((function*({networkId:e,address:t}){if(e&&t){var r={networkId:e,param:t,type:"address"},o=yield l.A.serviceExplorer.buildExplorerUrl(r);(0,i.GE)(o)}})),function openExplorerAddressUrl(e){return o.apply(this,arguments)}),p=(a=(0,s.A)((function*({networkId:e,txid:t}){if(e&&t){var r={networkId:e,param:t,type:"transaction"},o=yield l.A.serviceExplorer.buildExplorerUrl(r);(0,i.GE)(o)}})),function openTransactionDetailsUrl(e){return a.apply(this,arguments)}),m=(n=(0,s.A)((function*({networkId:e,tokenAddress:t}){if(e&&t){var r={networkId:e,param:t,type:"token"},o=yield l.A.serviceExplorer.buildExplorerUrl(r);(0,i.GE)(o)}})),function openTokenDetailsUrl(e){return n.apply(this,arguments)})},69450:(e,t,r)=>{r.r(t),r.d(t,{default:()=>MarketDetailWithProvider});var o=r(324586),a=r(586330),n=r(514041),s=r(654266),i=r(908867),l=r(490343),c=r(471169),p=r(211129),m=r(334439),d=r(351453),k=r(663522),u=r(193068),h=r(584186),f=r(796151),y=r(547669),g=r(793437),x=r(498356),w=r(954393),b=r(911998),v=r(241440),M=r(567807),S=r(839850),j=r(831085),T=["children"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=6;function ViewMoreText(e){var{children:t}=e,r=(0,S.A)(e,T),o=(0,i.A)(),[a,s]=(0,n.useState)(0),[c,p]=(0,n.useState)(D),d=(0,n.useRef)(0),k=(0,n.useCallback)((function({nativeEvent:{layout:{height:e}}}){d.current||(d.current=e,s((function(e){return e+1})))}),[]),u=(0,n.useRef)(0),h=(0,n.useCallback)((function({nativeEvent:{layout:{height:e}}}){u.current||(u.current=e),s((function(e){return e+1}))}),[]),f=u.current<d.current,y=(0,n.useCallback)((function(){p((function(e){return e?void 0:D}))}),[]),g=a<2;return(0,j.jsxs)(l.YStack,{"data-sentry-element":"YStack","data-sentry-component":"ViewMoreText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketAbout.tsx",children:[(0,j.jsxs)(l.YStack,{gap:"$3","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketAbout.tsx",children:[(0,j.jsx)(l.Stack,{onLayout:h,"data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketAbout.tsx",children:(0,j.jsx)(l.SizableText,_objectSpread(_objectSpread({size:"$bodyMd",numberOfLines:c},r),{},{"data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketAbout.tsx",children:t}))}),f?(0,j.jsx)(l.Button,{size:"medium",variant:"secondary",onPress:y,$gtMd:{size:"small"},children:o.formatMessage({id:c?m.ETranslations.global_view_more:m.ETranslations.global_view_less})}):null]}),g?(0,j.jsx)(l.Stack,{onLayout:k,opacity:0,position:"absolute",left:0,top:0,children:(0,j.jsx)(l.SizableText,_objectSpread(_objectSpread({size:"$bodyMd"},r),{},{children:t}))}):null]})}function MarketAbout({children:e}){var t=(0,i.A)();return e?(0,j.jsxs)(l.YStack,{gap:"$3",pt:"$10",children:[(0,j.jsx)(l.SizableText,{size:"$headingSm",children:t.formatMessage({id:m.ETranslations.global_about})}),(0,j.jsx)(ViewMoreText,{color:"$textSubdued",children:e})]}):null}var P=r(880590),$=r(639563);function MarketTokenAddress({tokenName:e,address:t,uri:r,networkId:o,tokenNameColor:s,tokenNameSize:c="$bodyMdMedium",addressSize:p="$bodyMd"}){var d=(0,i.A)(),{copyText:k}=(0,l.useClipboard)(),{result:u}=(0,b.yk)((function(){return y.A.serviceNetwork.getNetwork({networkId:o})}),[o],{checkIsFocused:!1,overrideIsFocused:function(){return!1}}),h=(0,l.useDialogInstance)(),f=(0,n.useCallback)((0,a.A)((function*(){(0,$.HM)({networkId:o,address:t})})),[h,o,t]),g=(0,n.useCallback)((function(){return r?(0,j.jsx)(l.Image,{size:"$5",src:decodeURIComponent(r),borderRadius:"$full"}):o?(0,j.jsx)(P.um,{size:"$5",networkId:o}):(0,j.jsx)(l.Stack,{width:"$5",height:"$5",ai:"center",jc:"center",bg:"$bgStrong",borderRadius:"$full",children:(0,j.jsx)(l.Icon,{size:"$2.5",name:"PlaceholderSolid"})})}),[o,r]);return(0,j.jsxs)(l.XStack,{gap:"$1.5",ai:"center","data-sentry-element":"XStack","data-sentry-component":"MarketTokenAddress","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenAddress.tsx",children:[g(),(0,j.jsxs)(l.XStack,{gap:"$2","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenAddress.tsx",children:[(0,j.jsx)(l.SizableText,{color:s,size:c,"data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenAddress.tsx",children:`${e||u?.name||""}:`}),(0,j.jsx)(l.SizableText,{size:p,"data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenAddress.tsx",children:`${t.slice(0,6)}...${t.slice(t.length-4,t.length)}`})]}),(0,j.jsx)(l.IconButton,{title:d.formatMessage({id:m.ETranslations.global_copy}),variant:"tertiary",color:"$iconSubdued",icon:"Copy3Outline",size:"small",iconSize:"$4",onPress:function(){return k(t)},"data-sentry-element":"IconButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenAddress.tsx"}),(0,j.jsx)(l.IconButton,{title:d.formatMessage({id:m.ETranslations.global_view_in_blockchain_explorer}),variant:"tertiary",color:"$iconSubdued",icon:"OpenOutline",size:"small",iconSize:"$4",onPress:f,"data-sentry-element":"IconButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenAddress.tsx"})]})}var O=4;function MarketDetailOverviewContract({detailPlatforms:e}){var t=(0,i.A)(),r=(0,n.useMemo)((function(){return e?Object.keys(e).filter((function(t){return!!t&&!e[t].hideContractAddress})):[]}),[e]),o=r.length<=O,[a,s]=(0,n.useState)(o),c=(0,n.useCallback)((function(){s((function(e){return!e}))}),[]),p=(0,n.useMemo)((function(){return a?r:r.slice(0,O)}),[a,r]);return e&&r.length?(0,j.jsxs)(l.YStack,{pt:"$3",gap:"$3",children:[(0,j.jsx)(l.SizableText,{color:"$textSubdued",size:"$bodySm",children:t.formatMessage({id:m.ETranslations.global_contract})}),p.map((function(t){var r=e[t];return(0,j.jsx)(MarketTokenAddress,{tokenNameSize:"$bodyMd",tokenNameColor:"$textSubdued",addressSize:"$bodyMdMedium",networkId:r.onekeyNetworkId,address:r.contract_address},t)})),o?null:(0,j.jsx)(l.Button,{size:"medium",variant:"secondary",onPress:c,$gtMd:{size:"small"},children:t.formatMessage({id:a?m.ETranslations.global_view_less:m.ETranslations.global_view_more})})]}):null}var _=r(378302),I=r(781889);function OverviewPriceChange({title:e,children:t}){return(0,j.jsxs)(l.YStack,{alignItems:"center",flexBasis:0,flexGrow:1,"data-sentry-element":"YStack","data-sentry-component":"OverviewPriceChange","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,j.jsx)(l.SizableText,{color:"$textSubdued",size:"$bodySm","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:e}),(0,j.jsx)(I.E,{size:"$bodyMdMedium",width:"100%",textAlign:"center","data-sentry-element":"PriceChangePercentage","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:t})]})}function Overview24PriceChange({name:e,symbol:t,currentPrice:r,low:o,high:a,lastUpdated:s}){var p=(0,i.A)(),[d]=(0,c.useSettingsPersistAtom)(),k=d.currencyInfo.symbol,u=(0,_.u)({name:e,symbol:t,price:r,lastUpdated:new Date(s).getTime()}),h=Math.min(Number(o),Number(u)),f=Math.max(Number(a),Number(u)),y=(0,n.useMemo)((function(){var e=new v.A(u);if(!e.isNaN()){var t=new v.A(h),r=new v.A(f);return Number(e.minus(t).div(r.minus(t)).shiftedBy(2).toFixed(2))}}),[u,h,f]);return(0,j.jsxs)(l.YStack,{gap:"$2.5","data-sentry-element":"YStack","data-sentry-component":"Overview24PriceChange","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,j.jsx)(l.SizableText,{size:"$bodyMd",color:"$textSubdued","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:p.formatMessage({id:m.ETranslations.market_24h_price_range})}),void 0!==y?(0,j.jsx)(l.Progress,{value:y,height:"$1"}):null,(0,j.jsxs)(l.XStack,{jc:"space-between","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,j.jsxs)(l.XStack,{gap:"$1","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,j.jsx)(l.SizableText,{color:"$textSubdued",size:"$bodyMd","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:p.formatMessage({id:m.ETranslations.market_low})}),(0,j.jsx)(l.NumberSizeableText,{size:"$bodyMdMedium",formatter:"price",formatterOptions:{currency:k},"data-sentry-element":"NumberSizeableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:h})]}),(0,j.jsxs)(l.XStack,{gap:"$1","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,j.jsx)(l.SizableText,{color:"$textSubdued",size:"$bodyMd","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:p.formatMessage({id:m.ETranslations.market_high})}),(0,j.jsx)(l.NumberSizeableText,{size:"$bodyMdMedium",formatter:"price",formatterOptions:{currency:k},"data-sentry-element":"NumberSizeableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:f})]})]})]})}function OverviewMarketVOLItem({title:e,rank:t,children:r,currency:o,tooltip:a}){var[n]=(0,c.useSettingsPersistAtom)();return(0,j.jsxs)(l.YStack,{pb:"$3",flexBasis:0,flexGrow:1,borderColor:"$borderSubdued",borderBottomWidth:"$px","data-sentry-element":"YStack","data-sentry-component":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,j.jsx)(l.SizableText,{color:"$textSubdued",size:"$bodySm","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:e}),(0,j.jsxs)(l.XStack,{gap:"$1",ai:"center",pt:"$0.5","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,j.jsx)(l.NumberSizeableText,{size:"$bodyMdMedium",formatter:"marketCap",formatterOptions:o?{currency:n.currencyInfo.symbol}:void 0,"data-sentry-element":"NumberSizeableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:r}),t?(0,j.jsx)(l.SizableText,{size:"$bodySm",bg:"$bgStrong",color:"$textSubdued",borderRadius:"$1",px:"$1",children:`#${t}`}):null,a?(0,j.jsx)(l.Popover.Tooltip,{title:e,tooltip:a}):null]})]})}function OverviewMarketVOL({symbol:e,currentPrice:t,fdv:r,volume24h:o,marketCap:a,marketCapRank:s,maxSupply:c,totalSupply:p,circulatingSupply:d,detailPlatforms:k,atl:u,ath:h}){var f=(0,i.A)(),y=(0,n.useMemo)((function(){return(0,v.A)(h.value).minus(t).dividedBy(h.value).multipliedBy(100).toFixed(4)}),[h.value,t]),g=(0,n.useMemo)((function(){return(0,v.A)(t).minus(u.value).dividedBy(u.value).multipliedBy(100).toFixed(4)}),[u.value,t]),x=(0,n.useMemo)((function(){return e.toUpperCase()}),[e]);return(0,j.jsxs)(l.YStack,{pt:"$10","data-sentry-element":"YStack","data-sentry-component":"OverviewMarketVOL","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,j.jsxs)(l.YStack,{gap:"$3","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,j.jsxs)(l.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,j.jsx)(OverviewMarketVOLItem,{currency:!0,title:f.formatMessage({id:m.ETranslations.market_24h_vol_usd}),"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:o||"-"}),(0,j.jsx)(OverviewMarketVOLItem,{currency:!0,title:f.formatMessage({id:m.ETranslations.global_market_cap}),rank:s,"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:a||"-"})]}),(0,j.jsxs)(l.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,j.jsx)(OverviewMarketVOLItem,{currency:!0,title:f.formatMessage({id:m.ETranslations.global_fdv}),"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:r||"-"}),(0,j.jsx)(OverviewMarketVOLItem,{title:f.formatMessage({id:m.ETranslations.global_circulating_supply}),"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:d||"-"})]}),(0,j.jsxs)(l.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,j.jsx)(OverviewMarketVOLItem,{title:f.formatMessage({id:m.ETranslations.global_total_supply}),"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:p||"-"}),(0,j.jsx)(OverviewMarketVOLItem,{title:f.formatMessage({id:m.ETranslations.global_max_supply}),"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:c||"∞"})]}),(0,j.jsxs)(l.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,j.jsx)(OverviewMarketVOLItem,{title:f.formatMessage({id:m.ETranslations.market_all_time_high}),currency:!0,tooltip:f.formatMessage({id:m.ETranslations.market_ath_desc},{token:x,time:(0,M._Q)(new Date(h.time)),price:(0,j.jsx)(l.NumberSizeableText,{formatter:"price",formatterOptions:{currency:"$"},children:h.value}),percent:(0,j.jsx)(l.NumberSizeableText,{formatter:"priceChange",children:y})}),"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:h.value}),(0,j.jsx)(OverviewMarketVOLItem,{title:f.formatMessage({id:m.ETranslations.market_all_time_low}),currency:!0,tooltip:f.formatMessage({id:m.ETranslations.market_atl_desc},{token:x,time:(0,M._Q)(new Date(u.time)),price:(0,j.jsx)(l.NumberSizeableText,{formatter:"price",formatterOptions:{currency:"$"},children:u.value}),percent:(0,j.jsx)(l.NumberSizeableText,{formatter:"priceChange",children:g})}),"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:u.value})]})]}),(0,j.jsx)(MarketDetailOverviewContract,{detailPlatforms:k,"data-sentry-element":"MarketDetailOverviewContract","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx"})]})}function MarketDetailOverview({token:{name:e,symbol:t,detailPlatforms:r,stats:{atl:o,ath:a,maxSupply:n,totalSupply:s,circulatingSupply:c,currentPrice:p,lastUpdated:d,performance:k,volume24h:u,marketCap:h,marketCapRank:f,fdv:y,low24h:g,high24h:x},about:w}}){var b=(0,i.A)();return(0,j.jsx)(l.NestedScrollView,{"data-sentry-element":"NestedScrollView","data-sentry-component":"MarketDetailOverview","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:(0,j.jsxs)(l.YStack,{pb:"$10",$md:{px:"$5"},"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,j.jsxs)(l.XStack,{borderWidth:"$px",borderRadius:"$2",borderColor:"$borderSubdued",py:"$3",my:"$6","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,j.jsx)(OverviewPriceChange,{title:b.formatMessage({id:m.ETranslations.market_1d}),"data-sentry-element":"OverviewPriceChange","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:k.priceChangePercentage24h}),(0,j.jsx)(OverviewPriceChange,{title:b.formatMessage({id:m.ETranslations.market_1w}),"data-sentry-element":"OverviewPriceChange","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:k.priceChangePercentage7d}),(0,j.jsx)(OverviewPriceChange,{title:b.formatMessage({id:m.ETranslations.market_1m}),"data-sentry-element":"OverviewPriceChange","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:k.priceChangePercentage30d}),(0,j.jsx)(OverviewPriceChange,{title:b.formatMessage({id:m.ETranslations.market_1y}),"data-sentry-element":"OverviewPriceChange","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:k.priceChangePercentage1y})]}),(0,j.jsx)(Overview24PriceChange,{name:e,symbol:t,currentPrice:p,low:g,high:x,lastUpdated:d,"data-sentry-element":"Overview24PriceChange","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx"}),(0,j.jsx)(OverviewMarketVOL,{symbol:t,volume24h:u,currentPrice:p,fdv:y,marketCap:h,ath:a,atl:o,marketCapRank:f,maxSupply:n,totalSupply:s,circulatingSupply:c,detailPlatforms:r,"data-sentry-element":"OverviewMarketVOL","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx"}),(0,j.jsx)(MarketAbout,{"data-sentry-element":"MarketAbout","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:w})]})})}var C=r(217715),z=r(172120),A=r(202338);function TextCell({title:e,children:t,rank:r}){var[o]=(0,c.useSettingsPersistAtom)(),a=o.currencyInfo.symbol;return(0,j.jsxs)(l.YStack,{pt:"$3","data-sentry-element":"YStack","data-sentry-component":"TextCell","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TextCell.tsx",children:[(0,j.jsx)(l.SizableText,{size:"$bodySm",color:"$textSubdued","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TextCell.tsx",children:e}),(0,j.jsxs)(l.XStack,{gap:"$1",ai:"center","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TextCell.tsx",children:[(0,j.jsx)(l.NumberSizeableText,{numberOfLines:1,size:"$bodyMdMedium",formatter:"marketCap",formatterOptions:{currency:a},"data-sentry-element":"NumberSizeableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TextCell.tsx",children:t}),r?(0,j.jsx)(l.YStack,{px:"$1",borderRadius:"$1",bg:"$bgStrong",children:(0,j.jsx)(l.SizableText,{size:"$bodySm",color:"$textSubdued",children:`#${r}`})}):null]})]})}var E=r(117746);function MarketDetailLinks({token:{links:{discordUrl:e,homePageUrl:t,telegramUrl:r,twitterUrl:o,whitepaper:a},explorers:n}}){var s=(0,i.A)();return(0,j.jsx)(l.NestedScrollView,{contentContainerStyle:{minHeight:"101%"},"data-sentry-element":"NestedScrollView","data-sentry-component":"MarketDetailLinks","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:(0,j.jsxs)(l.YStack,{px:"$5",$gtMd:{pr:0},"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:[(0,j.jsxs)(l.YStack,{py:"$5",gap:"$2","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:[(0,j.jsx)(l.SizableText,{size:"$headingSm",color:"$textSubdued","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:s.formatMessage({id:m.ETranslations.global_community})}),(0,j.jsxs)(l.XStack,{gap:"$3","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:[o?(0,j.jsx)(l.IconButton,{title:"X",icon:"Xbrand",onPress:function(){return(0,E.Dr)(o)}}):null,r?(0,j.jsx)(l.IconButton,{title:"Telegram",icon:"TelegramBrand",onPress:function(){return(0,E.Dr)(r)}}):null,e?(0,j.jsx)(l.IconButton,{title:"Discord",icon:"DiscordBrand",onPress:function(){return(0,E.Dr)(e)}}):null]})]}),(0,j.jsxs)(l.YStack,{py:"$5",gap:"$2","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:[(0,j.jsx)(l.SizableText,{size:"$headingSm",color:"$textSubdued","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:s.formatMessage({id:m.ETranslations.global_official_links})}),(0,j.jsxs)(l.XStack,{gap:"$3","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:[t?(0,j.jsx)(l.Button,{iconAfter:"OpenOutline",onPress:function(){return(0,E.Dr)(t)},children:s.formatMessage({id:m.ETranslations.global_website})}):null,a?(0,j.jsx)(l.Button,{icon:"BookOpenOutline",iconAfter:"OpenOutline",onPress:function(){return(0,E.Dr)(a)},children:s.formatMessage({id:m.ETranslations.global_white_paper})}):null]})]}),n.length?(0,j.jsxs)(l.YStack,{py:"$5",children:[(0,j.jsx)(l.SizableText,{size:"$headingSm",color:"$textSubdued",children:s.formatMessage({id:m.ETranslations.global_explorers})}),(0,j.jsx)(l.XStack,{flexWrap:"wrap",children:n.map((function({url:e,name:t}){return(0,j.jsx)(l.Button,{mt:"$2",mr:"$3",iconAfter:"OpenOutline",onPress:function(){return(0,E.Dr)(e)},children:t},e)}))})]}):null]})})}var N=r(304695);function MarketPoolIcon({uri:e}){return(0,j.jsxs)(l.Image,{size:"$5",borderRadius:"$full","data-sentry-element":"Image","data-sentry-component":"MarketPoolIcon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketPoolIcon.tsx",children:[(0,j.jsx)(l.Image.Source,{src:e,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketPoolIcon.tsx"}),(0,j.jsx)(l.Image.Fallback,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketPoolIcon.tsx",children:(0,j.jsx)(l.Stack,{flex:1,borderRadius:"$full",bg:"$bgDisabled",ai:"center",jc:"center","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketPoolIcon.tsx",children:(0,j.jsx)(l.Icon,{size:"$3.5",color:"$iconSubdued",name:"SwitchHorOutline","data-sentry-element":"Icon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketPoolIcon.tsx"})})}),(0,j.jsx)(l.Image.Loading,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketPoolIcon.tsx",children:(0,j.jsx)(l.Skeleton,{width:"100%",height:"100%","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketPoolIcon.tsx"})})]})}var L=r(936748);function PoolDetailsItem({title:e,children:t,currency:r,isNumeric:o=!1,formatter:a="marketCap",bordered:s=!0}){var[i]=(0,c.useSettingsPersistAtom)(),p=i.currencyInfo.symbol,m=(0,n.useMemo)((function(){return o?(0,j.jsx)(l.NumberSizeableText,{size:"$bodyMdMedium",formatter:a,formatterOptions:r?{currency:p}:void 0,children:t}):"string"==typeof t?(0,j.jsx)(l.SizableText,{size:"$bodyMdMedium",children:t}):t}),[t,r,p,a,o]);return(0,j.jsxs)(l.YStack,{pb:"$3",flexBasis:0,flexGrow:1,gap:"$0.5",borderColor:"$borderSubdued",borderBottomWidth:s?"$px":0,"data-sentry-element":"YStack","data-sentry-component":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,j.jsx)(l.SizableText,{color:"$textSubdued",size:"$bodySm","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:e}),m]})}function PoolDetailDialog({item:{attributes:e,dexName:t,dexLogoUrl:r,onekeyNetworkId:o,id:a,baseTokenImageUrl:n,quoteTokenImageUrl:s,relationships:{baseToken:c,quoteToken:p,dex:{data:{id:d}}}}}){var k=(0,i.A)(),[u,h]=e.name.split("/");return(0,j.jsxs)(l.YStack,{gap:"$3","data-sentry-element":"YStack","data-sentry-component":"PoolDetailDialog","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,j.jsxs)(l.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,j.jsx)(PoolDetailsItem,{title:k.formatMessage({id:m.ETranslations.global_pair}),"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:e.name}),(0,j.jsx)(PoolDetailsItem,{title:k.formatMessage({id:m.ETranslations.global_dex}),"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:(0,j.jsxs)(l.XStack,{gap:"$1.5","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,j.jsx)(MarketPoolIcon,{uri:r,"data-sentry-element":"MarketPoolIcon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx"}),(0,j.jsx)(l.SizableText,{size:"$bodyMdMedium","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:t})]})})]}),(0,j.jsxs)(l.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,j.jsx)(PoolDetailsItem,{title:k.formatMessage({id:m.ETranslations.global_price}),currency:!0,isNumeric:!0,formatter:"price","data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:e.baseTokenPriceUsd}),(0,j.jsx)(PoolDetailsItem,{title:k.formatMessage({id:m.ETranslations.market_24h_txns}),isNumeric:!0,"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:String(e.transactions.h24.buys+e.transactions.h24.sells)})]}),(0,j.jsxs)(l.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,j.jsx)(PoolDetailsItem,{title:k.formatMessage({id:m.ETranslations.market_twenty_four_hour_volume}),isNumeric:!0,"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:e.volumeUsd.h24}),(0,j.jsx)(PoolDetailsItem,{title:k.formatMessage({id:m.ETranslations.global_liquidity}),isNumeric:!0,currency:!0,formatter:"marketCap","data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:e.reserveInUsd})]}),(0,j.jsxs)(l.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,j.jsx)(PoolDetailsItem,{title:k.formatMessage({id:m.ETranslations.global_fdv}),isNumeric:!0,"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:e.fdvUsd}),(0,j.jsx)(PoolDetailsItem,{title:k.formatMessage({id:m.ETranslations.market_days_since_launch}),"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:k.formatMessage({id:m.ETranslations.market_number_of_days},{number:(0,L.A)(new Date,new Date(e.poolCreatedAt))})})]}),(0,j.jsxs)(l.YStack,{gap:"$6",pt:"$6",pb:"$10","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,j.jsx)(MarketTokenAddress,{networkId:o,tokenName:u.trim(),address:c.data.id.split("_").pop(),uri:n,"data-sentry-element":"MarketTokenAddress","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx"}),(0,j.jsx)(MarketTokenAddress,{networkId:o,tokenName:h.trim(),address:p.data.id.split("_").pop(),uri:s,"data-sentry-element":"MarketTokenAddress","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx"}),(0,j.jsx)(MarketTokenAddress,{networkId:o,tokenName:k.formatMessage({id:m.ETranslations.global_pair_contract}),address:a.split("_").pop(),"data-sentry-element":"MarketTokenAddress","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx"})]})]})}function renderTrustScore(e){switch(e){case"green":return"🟢";case"yellow":return"🟡";case"red":return"🔴";default:return"⚪"}}function PairDetailDialog({item:{logo:e,base:t,target:r,market:o,last:s,depth_data:c,volume:p,last_updated_at:d,bid_ask_spread_percentage:k,trust_score:u,trade_url:h}}){var f=(0,i.A)(),y=`${t}/${r}`,g=(0,l.useDialogInstance)(),x=(0,n.useCallback)((0,a.A)((function*(){(0,E.GE)(h)})),[g,h]);return(0,j.jsxs)(l.YStack,{gap:"$3",pb:"$5","data-sentry-element":"YStack","data-sentry-component":"PairDetailDialog","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,j.jsxs)(l.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,j.jsx)(PoolDetailsItem,{title:f.formatMessage({id:m.ETranslations.global_pair}),"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:y}),(0,j.jsx)(PoolDetailsItem,{title:f.formatMessage({id:m.ETranslations.global_dex}),"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:(0,j.jsxs)(l.XStack,{gap:"$1.5","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,j.jsx)(MarketPoolIcon,{uri:e,"data-sentry-element":"MarketPoolIcon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx"}),(0,j.jsx)(l.SizableText,{size:"$bodyMdMedium","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:o.name})]})})]}),(0,j.jsxs)(l.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,j.jsx)(PoolDetailsItem,{title:f.formatMessage({id:m.ETranslations.global_price}),currency:!0,isNumeric:!0,formatter:"price","data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:String(s)}),(0,j.jsx)(PoolDetailsItem,{title:f.formatMessage({id:m.ETranslations.market_plus_2_percent_depth}),isNumeric:!0,currency:!0,formatter:"price","data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:c?.["+2%"]||"-"})]}),(0,j.jsxs)(l.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,j.jsx)(PoolDetailsItem,{title:f.formatMessage({id:m.ETranslations.market_minus_2_percent_depth}),currency:!0,isNumeric:!0,formatter:"price","data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:c?.["-2%"]||"-"}),(0,j.jsx)(PoolDetailsItem,{title:f.formatMessage({id:m.ETranslations.market_twenty_four_hour_volume}),formatter:"marketCap",currency:!0,isNumeric:!0,"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:String(p)})]}),(0,j.jsxs)(l.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,j.jsx)(PoolDetailsItem,{title:f.formatMessage({id:m.ETranslations.market_spread}),isNumeric:!0,formatter:"priceChange","data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:(0,v.A)(k).toFixed(2)}),(0,j.jsx)(PoolDetailsItem,{title:f.formatMessage({id:m.ETranslations.market_last_updated}),isNumeric:!0,"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:(0,M.mo)(new Date(d))})]}),(0,j.jsx)(l.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:(0,j.jsx)(PoolDetailsItem,{title:f.formatMessage({id:m.ETranslations.market_trust_score}),bordered:!1,"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:renderTrustScore(u)})}),(0,j.jsxs)(l.XStack,{gap:"$1.5",ai:"center",pt:"$2","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,j.jsxs)(l.XStack,{gap:"$2","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,j.jsx)(l.SizableText,{size:"$bodyMdMedium","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:f.formatMessage({id:m.ETranslations.market_pair_link})}),(0,j.jsx)(l.SizableText,{size:"$bodyMd","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:y})]}),(0,j.jsx)(l.IconButton,{variant:"tertiary",color:"$iconSubdued",icon:"OpenOutline",size:"small",iconSize:"$4",onPress:x,"data-sentry-element":"IconButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx"})]})]})}var X=r(610101);function MarketDetailPools_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function MarketDetailPools_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MarketDetailPools_ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MarketDetailPools_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U="CEX";function NetworkIdSelect({value:e,onChange:t,options:r,oneKeyNetworkSymbols:o}){return(0,j.jsx)(l.XStack,{gap:"$2",px:"$5",pb:"$2",mt:"$5",$gtMd:{pr:0},py:"$2","data-sentry-element":"XStack","data-sentry-component":"NetworkIdSelect","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:r.map((function(r,a){return(0,j.jsx)(N.V,{networkImageUri:o[a]?.logoURI,networkName:o[a]?.networkName,isSelected:e===a,onPress:function(){return t(a)}},r)}))})}function HeaderColumn({logoUrl:e,title:t,description:r}){return(0,j.jsxs)(l.XStack,{gap:"$2.5",ai:"center","data-sentry-element":"XStack","data-sentry-component":"HeaderColumn","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:[(0,j.jsx)(MarketPoolIcon,{uri:e,"data-sentry-element":"MarketPoolIcon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx"}),(0,j.jsxs)(l.YStack,{flexShrink:1,"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:[(0,j.jsx)(l.SizableText,{size:"$bodyMdMedium",numberOfLines:1,userSelect:"none","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:t}),(0,j.jsx)(l.SizableText,{userSelect:"none",size:"$bodySm",color:"$textSubdued",numberOfLines:1,"data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:r})]})]})}function MarketDetailPools({pools:e,tickers:t}){var[r]=(0,c.useSettingsPersistAtom)(),o=r.currencyInfo.symbol,s=(0,i.A)(),{gtXl:p}=(0,l.useMedia)(),d=(0,n.useMemo)((function(){var r=e.map((function(e){return e.onekeyNetworkId})).filter((function(e){return Boolean(e)}));return t?.length&&r.push(U),r}),[e,t?.length]),{result:k}=(0,b.yk)((0,a.A)((function*(){return yield Promise.all(d.map((function(e){return e===U?Promise.resolve({networkName:U}):e?y.A.serviceNetwork.getNetwork({networkId:e}):Promise.resolve({logoURI:""})})))})),[d],{initResult:[]}),[u,h]=(0,n.useState)(0),f=!e[u],g=(0,n.useMemo)((function(){var r;return null!=(r=f?t:e[u])?r:[]}),[u,f,e,t]),x=f?g.map((function(e){return MarketDetailPools_objectSpread(MarketDetailPools_objectSpread({},e),{},{price:e.last,logUrl:e.logo,title:`${e.base} / ${e.target}`,description:e.market.name,plus2PercentDepth:e.depth_data?.["+2%"],minus2PercentDepth:e.depth_data?.["-2%"],volumeUsdH24:e.volume})})):g.data.map((function(e){return MarketDetailPools_objectSpread(MarketDetailPools_objectSpread({},e),{},{logUrl:e.dexLogoUrl,title:e.attributes.name,description:e.dexName,price:Number(e.attributes.baseTokenPriceUsd),txTotal:Number(e.attributes.transactions.h24.buys+e.attributes.transactions.h24.sells),volumeUsdH24:Number(e.attributes.volumeUsd.h24),reserveInUsd:Number(e.attributes.reserveInUsd)})})),w=(0,n.useCallback)((function(e){h(e)}),[]),{sortedListData:v,handleSortTypeChange:M}=(0,X.K)(x,u),S=(0,n.useCallback)((function(e){return{onSortTypeChange:function(t){M?.({columnName:e.dataIndex,order:t})}}}),[M]),T=(0,n.useCallback)((function(e){return{onPress:function(){l.Dialog.show({showFooter:!1,title:s.formatMessage({id:m.ETranslations.market_pool_details}),renderContent:f?(0,j.jsx)(PairDetailDialog,{item:e}):(0,j.jsx)(PoolDetailDialog,{item:e})})}}}),[s,f]),D=(0,n.useMemo)((function(){return[p?{title:s.formatMessage({id:m.ETranslations.global_price}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"price",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return(0,j.jsx)(l.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatter:"price",formatterOptions:{currency:o},textAlign:"right",children:e})}}:void 0,p?{title:s.formatMessage({id:m.ETranslations.market_24h_txns}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"txTotal",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return(0,j.jsx)(l.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatterOptions:{currency:o},formatter:"marketCap",textAlign:"right",children:e})}}:void 0,{title:s.formatMessage({id:m.ETranslations.market_twenty_four_hour_volume}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"volumeUsdH24",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return(0,j.jsx)(l.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatterOptions:{currency:o},formatter:"marketCap",textAlign:"right",children:e})}},{title:s.formatMessage({id:m.ETranslations.global_liquidity}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"reserveInUsd",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return(0,j.jsx)(l.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatterOptions:{currency:o},formatter:"marketCap",textAlign:"right",children:e})}}]}),[o,p,s]),P=(0,n.useMemo)((function(){return[{title:s.formatMessage({id:m.ETranslations.global_price}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"price",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return(0,j.jsx)(l.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatter:"price",formatterOptions:{currency:o},textAlign:"right",children:e})}},p?{title:s.formatMessage({id:m.ETranslations.market_plus_2_percent_depth}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"plus2PercentDepth",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return e?(0,j.jsx)(l.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatter:"price",formatterOptions:{currency:o},textAlign:"right",children:e}):"-"}}:void 0,p?{title:s.formatMessage({id:m.ETranslations.market_minus_2_percent_depth}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"minus2PercentDepth",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return e?(0,j.jsx)(l.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatter:"price",formatterOptions:{currency:o},textAlign:"right",children:e}):"-"}}:void 0,{title:s.formatMessage({id:m.ETranslations.market_twenty_four_hour_volume}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"volumeUsdH24",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return(0,j.jsx)(l.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatter:"marketCap",formatterOptions:{currency:o},textAlign:"right",children:e})}}]}),[o,p,s]),$=(0,n.useMemo)((function(){return[{title:s.formatMessage({id:m.ETranslations.global_pair}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},columnProps:{flexGrow:3,flexBasis:0},dataIndex:"dexDataName",render:function(e,{logUrl:t,title:r,description:o}){return(0,j.jsx)(HeaderColumn,{logoUrl:t,title:r,description:o})}},...f?P:D,{title:"",align:"right",dataIndex:"action",columnProps:{width:24},render:function(){return(0,j.jsx)(l.View,{left:4,$gtMd:{pl:"$7",pr:"$1"},children:(0,j.jsx)(l.Icon,{name:"ChevronRightSmallOutline",size:"$4"})})}}]}),[P,s,f,D]);return(0,j.jsx)(l.Table,{stickyHeader:!1,contentContainerStyle:{pb:"$10"},TableHeaderComponent:(0,j.jsx)(NetworkIdSelect,{options:d,oneKeyNetworkSymbols:k,value:u,onChange:w}),renderScrollComponent:l.renderNestedScrollView,onRow:T,onHeaderRow:S,rowProps:{px:"$3",mx:"$2",minHeight:"$12"},estimatedItemSize:"$12",headerRowProps:{py:"$2",minHeight:36},dataSource:v,columns:$,extraData:u,"data-sentry-element":"Table","data-sentry-component":"MarketDetailPools","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx"})}function TokenDetailTabs_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function TokenDetailTabs_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TokenDetailTabs_ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TokenDetailTabs_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function SkeletonRow(){return(0,j.jsxs)(l.XStack,{"data-sentry-element":"XStack","data-sentry-component":"SkeletonRow","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx",children:[(0,j.jsx)(l.XStack,{flex:1,"data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx",children:(0,j.jsx)(l.Skeleton,{w:"$24",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx"})}),(0,j.jsx)(l.XStack,{flex:1,jc:"flex-end","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx",children:(0,j.jsx)(l.Skeleton,{w:"$16",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx"})}),(0,j.jsx)(l.XStack,{flex:1,jc:"flex-end","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx",children:(0,j.jsx)(l.Skeleton,{w:"$16",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx"})}),(0,j.jsx)(l.XStack,{flex:1,jc:"flex-end","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx",children:(0,j.jsx)(l.Skeleton,{w:"$16",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx"})}),(0,j.jsx)(l.XStack,{flex:1,jc:"flex-end","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx",children:(0,j.jsx)(l.Skeleton,{w:"$16",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx"})})]})}function MdSkeletonRow(){return(0,j.jsxs)(l.XStack,{"data-sentry-element":"XStack","data-sentry-component":"MdSkeletonRow","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx",children:[(0,j.jsx)(l.XStack,{flex:1,"data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx",children:(0,j.jsx)(l.Skeleton,{w:"$24",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx"})}),(0,j.jsx)(l.XStack,{flex:1,jc:"flex-end","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx",children:(0,j.jsx)(l.Skeleton,{w:"$16",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx"})}),(0,j.jsx)(l.XStack,{flex:1,jc:"flex-end","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx",children:(0,j.jsx)(l.Skeleton,{w:"$16",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx"})})]})}var B=(0,n.memo)((function BasicTokenDetailTabs({token:e,listHeaderComponent:t,isRefreshing:r,onRefresh:o,defer:s}){var c=(0,i.A)(),{md:p}=(0,l.useMedia)(),[d,u]=(0,n.useState)(void 0),h=(0,n.useCallback)((0,a.A)((function*(){if(e?.detailPlatforms){var t=yield y.A.serviceMarket.fetchPools(e.detailPlatforms);k.Ay.isNativeAndroid?yield s.promise:setTimeout((function(){s.resolve(null)}),100),u(t)}})),[s,e?.detailPlatforms]);(0,n.useEffect)((function(){h()}),[h]),(0,n.useMemo)((function(){return p?(0,j.jsxs)(l.YStack,{gap:"$10",px:"$5",pt:"$11",children:[(0,j.jsx)(MdSkeletonRow,{}),(0,j.jsx)(MdSkeletonRow,{}),(0,j.jsx)(MdSkeletonRow,{}),(0,j.jsx)(MdSkeletonRow,{})]}):(0,j.jsxs)(l.YStack,{gap:"$6",px:"$5",pt:"$11",children:[(0,j.jsx)(SkeletonRow,{}),(0,j.jsx)(SkeletonRow,{}),(0,j.jsx)(SkeletonRow,{}),(0,j.jsx)(SkeletonRow,{})]})}),[p]);var f=(0,n.useMemo)((function(){return d?[p&&e?{title:c.formatMessage({id:m.ETranslations.global_overview}),page:function(t){return(0,j.jsx)(MarketDetailOverview,TokenDetailTabs_objectSpread(TokenDetailTabs_objectSpread({},t),{},{token:e}))}}:void 0,(d.length||e?.tickers?.length)&&e?{title:c.formatMessage({id:m.ETranslations.global_pools}),page:function(t){return(0,j.jsx)(MarketDetailPools,TokenDetailTabs_objectSpread(TokenDetailTabs_objectSpread({},t),{},{pools:d,tickers:e.tickers}))}}:void 0,e&&{title:c.formatMessage({id:m.ETranslations.global_links}),page:function(t){return(0,j.jsx)(MarketDetailLinks,TokenDetailTabs_objectSpread(TokenDetailTabs_objectSpread({},t),{},{token:e}))}}].filter(Boolean):[]}),[c,p,d,e]);return(0,j.jsx)(l.Tab,{refreshControl:(0,j.jsx)(l.RefreshControl,{refreshing:!!r,onRefresh:o}),$gtMd:{pr:"$5"},$md:{mt:"$5"},data:f,disableRefresh:!0,ListHeaderComponent:(0,j.jsx)(l.Stack,{mb:"$5",children:t}),onSelectedPageIndex:function(e){},"data-sentry-element":"Tab","data-sentry-component":"BasicTokenDetailTabs","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx"})})),H=r(394285),V=r(714718),Y=r(223946);var ChartViewAdapter=function({data:e,onHover:t,lineColor:r,topColor:o,bottomColor:a,height:s}){var i=(0,n.useRef)(null);return(0,n.useEffect)((function(){if(i.current){var{chart:e,handleResize:r}=function createChartDom(e,t,r,o){var a=e(t,{height:o,layout:{background:{color:"transparent"}},crosshair:{vertLine:{visible:!1},horzLine:{visible:!1}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},timeScale:{visible:!1,fixLeftEdge:!0,fixRightEdge:!0,lockVisibleTimeRangeOnResize:!0},rightPriceScale:{visible:!1},handleScale:{pinch:!1,mouseWheel:!1}}),handleResize=function(){a.applyOptions({width:t.clientWidth})};return a.subscribeCrosshairMove((function({time:e,seriesPrices:t}){r({time:e,price:t.values().next().value})})),a.timeScale().fitContent(),window.addEventListener("resize",handleResize),globalThis._onekey_chart=a,{chart:a,handleResize}}(Y.R9,i.current,t,s);return function(){window.removeEventListener("resize",r),e.remove()}}}),[]),(0,n.useEffect)((function(){!function updateChartDom({lineColor:e,topColor:t,bottomColor:r,data:o}){var a=o.map((function([e,t]){return{time:e,value:t}})),n=globalThis._onekey_chart;if(!n._onekey_series){var s=n.addAreaSeries({lineColor:e,topColor:t,bottomColor:r,lineWidth:2,crosshairMarkerBorderColor:"#fff",crosshairMarkerRadius:5});return s.setData(a),void(n._onekey_series=s)}var i=n._onekey_series;i.applyOptions({lineColor:e,topColor:t,bottomColor:r}),i.setData(a),o.length>2&&n.timeScale().setVisibleLogicalRange({from:.4,to:o.length-1.4})}({bottomColor:a,topColor:o,lineColor:r,data:e})}),[a,o,e,r]),(0,j.jsx)("div",{style:{width:"100%",height:s},ref:i,"data-sentry-component":"ChartViewAdapter","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/Chart/ChartViewAdapter.tsx"})};ChartViewAdapter.displayName="ChartViewAdapter";const R=ChartViewAdapter;var ChartView=function({data:e,onHover:t,height:r,isFetching:o}){return(0,j.jsx)(R,{isFetching:o,height:r,data:e,lineColor:"#33C641",topColor:"#00B81233",bottomColor:"#00FF1900",onHover:t,"data-sentry-element":"ChartViewAdapter","data-sentry-component":"ChartView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/Chart/ChartView.tsx"})};ChartView.displayName="ChartView";const F=(0,n.memo)(ChartView);function PriceLabel({price:e,time:t,opacity:r}){var o;null!==e&&(o=(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(l.SizableText,{size:"$bodyMd",color:"$textSubdued",$md:{size:"$bodySm",color:"$text"},children:t})}));var[a]=(0,c.useSettingsPersistAtom)(),n=a.currencyInfo.symbol;return(0,j.jsxs)(l.Stack,{opacity:r,flexDirection:"column",$md:{flexDirection:"row",pt:"$6"},$gtMd:{height:"$10"},"data-sentry-element":"Stack","data-sentry-component":"PriceLabel","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/Chart/PriceLabel.tsx",children:[(0,j.jsx)(l.XStack,{"data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/Chart/PriceLabel.tsx",children:o}),(0,j.jsx)(l.NumberSizeableText,{size:"$bodyMdMedium",formatter:"price",formatterOptions:{currency:n},$md:{size:"$bodySmMedium",ml:"$2"},"data-sentry-element":"NumberSizeableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/Chart/PriceLabel.tsx",children:String(e)})]})}function PriceChart({data:e,isFetching:t,children:r}){var{formatDate:o}=(0,V.A)(),a=(0,i.A)(),[s,c]=(0,n.useState)(),[p,d]=(0,n.useState)(""),{gtMd:k}=(0,l.useMedia)(),u=e?.length?e[0][1]:0,h=e?.length?e[e.length-1][1]:0,f=(0,n.useMemo)((function(){return e?"undefined"===s||void 0===s?h:"string"==typeof s?+s:s:null}),[e,h,s]),y=(0,n.useCallback)((function(e){var t;""===e.price&&""===e.time||(t=e.time instanceof Date?o(e.time):"number"==typeof e.time?o(new Date(e.time)):"string"==typeof e.time?o(new Date(+e.time)):"",d(t),c(e.price))}),[o]),g=(0,j.jsx)(PriceLabel,{opacity:p?1:0,price:f,time:p||"",basePrice:u}),x=(0,n.useMemo)((function(){return t?(0,j.jsx)(l.Spinner,{"$platform-native":{mt:-190}}):(0,j.jsx)(l.Empty,{title:a.formatMessage({id:m.ETranslations.global_no_data})})}),[a,t]),w=e&&e.length>0?(0,j.jsx)(F,{isFetching:t,height:k?298:326,data:e,onHover:y}):x,b=t?(0,j.jsx)(l.Spinner,{}):w;return k?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(l.XStack,{justifyContent:"space-between",children:[t?(0,j.jsxs)(l.YStack,{gap:"$2",children:[(0,j.jsx)(l.Skeleton,{w:"$10",h:"$3"}),(0,j.jsx)(l.Skeleton,{w:"$24",h:"$3"})]}):g,r]}),(0,j.jsx)(l.Stack,{h:240,mt:32,$gtMd:{mt:"$1"},justifyContent:"center",alignItems:"center",children:b})]}):(0,j.jsxs)(j.Fragment,{children:[g,(0,j.jsx)(l.Stack,{h:190,mt:24,justifyContent:"center",alignItems:"center",children:b}),(0,j.jsx)(l.Stack,{mt:8,children:r})]})}function NativeTokenPriceChart({coinGeckoId:e,defer:t}){var r=(0,i.A)(),[o,s]=(0,n.useState)([]),[c,p]=(0,n.useState)(!1),d=(0,n.useMemo)((function(){return[{label:r.formatMessage({id:m.ETranslations.market_1d}),value:"1"},{label:r.formatMessage({id:m.ETranslations.market_1w}),value:"7"},{label:r.formatMessage({id:m.ETranslations.market_1m}),value:"30"},{label:r.formatMessage({id:m.ETranslations.market_1y}),value:"365"},{label:r.formatMessage({id:m.ETranslations.global_all}),value:"max"}]}),[r]),[u,h]=(0,n.useState)(d[0].value),f=(0,n.useCallback)((0,a.A)((function*(){p(!0);var r=yield y.A.serviceMarket.fetchTokenChart(e,u);k.Ay.isNativeAndroid?setTimeout((function(){t.resolve(null)}),100):yield t.promise,s(r),p(!1)})),[e,u,t]);(0,n.useEffect)((function(){f()}),[f]);var{gtLg:g}=(0,l.useMedia)();return(0,j.jsxs)(l.YStack,{px:"$5",$gtMd:{pr:0},"data-sentry-element":"YStack","data-sentry-component":"NativeTokenPriceChart","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenPriceChart.tsx",children:[(0,j.jsx)(l.YStack,{h:326,$gtMd:{h:294},"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenPriceChart.tsx",children:(0,j.jsx)(PriceChart,{isFetching:c,data:o,"data-sentry-element":"PriceChart","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenPriceChart.tsx",children:g?(0,j.jsx)(l.SegmentControl,{value:u,onChange:h,options:d}):null})}),g?null:(0,j.jsx)(l.Stack,{mt:"$5",children:(0,j.jsx)(l.SegmentControl,{fullWidth:!0,value:u,onChange:h,options:d})})]})}function TradingViewChart({targetToken:e,identifier:t,baseToken:r,defer:o}){return(0,n.useEffect)((function(){o.resolve(null)}),[o]),(0,j.jsx)(H.V,{mode:"overview",$gtMd:{h:450},$md:{px:"$4",pt:"$6"},targetToken:e,baseToken:r,identifier:t,h:353,"data-sentry-element":"TradingView","data-sentry-component":"TradingViewChart","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenPriceChart.tsx"})}var W=["binance","bybit","mexc","bitgit","coinbase","bitfinex","kraken","okx","gate"],K=function(e){return e.tradingView="TradingView",e.liteChart="Lite Chart",e}(K||{}),G=["USD","USDT","USDC"];var q=(0,n.memo)((function BasicTokenPriceChart({coinGeckoId:e,defer:t,tickers:r}){var[o,a]=(0,n.useState)(K.tradingView),s=(0,n.useMemo)((function(){if(!r?.length)return null;for(var e=0;e<r.length;e+=1){var t=r[e];if(G.includes(t.target)){if(W.includes(t.market.identifier))return{identifier:(o=t.market.identifier,"gate"===o?"GATEIO":o),baseToken:t.base,targetToken:t.target};if(W.includes(t.market.name.toLowerCase()))return{identifier:t.market.name.toLowerCase(),baseToken:t.base,targetToken:t.target}}}var o}),[r]);return s?(0,j.jsxs)(l.YStack,{"data-sentry-element":"YStack","data-sentry-component":"BasicTokenPriceChart","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenPriceChart.tsx",children:[(0,j.jsx)(l.Select,{items:[{value:K.tradingView,label:K.tradingView},{value:K.liteChart,label:K.liteChart}],value:o,onChange:a,title:"Chart",renderTrigger:function({label:e}){return(0,j.jsxs)(l.XStack,{gap:"$1",ai:"center",$md:{mx:"$4"},$gtMd:{pb:"$4"},children:[(0,j.jsx)(l.SizableText,{color:"$textSubdued",size:"$bodyMdMedium",children:e}),(0,j.jsx)(l.Icon,{size:"$5",name:"ChevronDownSmallOutline",color:"$iconSubdued"})]})},"data-sentry-element":"Select","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenPriceChart.tsx"}),"TradingView"===o?(0,j.jsx)(TradingViewChart,{defer:t,identifier:s?.identifier,baseToken:s?.baseToken,targetToken:s?.targetToken}):(0,j.jsx)(NativeTokenPriceChart,{coinGeckoId:e,defer:t})]}):(0,j.jsx)(NativeTokenPriceChart,{coinGeckoId:e,defer:t})})),J=r(993892),Q=r(802172);function MarketDetail_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function MarketDetail_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MarketDetail_ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MarketDetail_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function TokenDetailHeader({coinGeckoId:e,token:t}){var r=(0,i.A)(),{gtMd:o}=(0,l.useMedia)(),{result:a}=(0,b.yk)((function(){return y.A.serviceMarket.fetchMarketTokenDetail(e)}),[e],{pollingInterval:h.A.getTimeDurationMs({seconds:45}),initResult:t}),{name:n,symbol:s,stats:{performance:c,volume24h:p,marketCap:k,marketCapRank:u,fdv:f,currentPrice:g,lastUpdated:x}}=a;return(0,j.jsxs)(l.YStack,{px:"$5",$md:{minHeight:150},"data-sentry-element":"YStack","data-sentry-component":"TokenDetailHeader","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:[(0,j.jsxs)(l.YStack,{flex:1,"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:[(0,j.jsx)(l.SizableText,{size:"$headingMd",color:"$textSubdued","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:n}),(0,j.jsxs)(l.XStack,{ai:"center",jc:"space-between",pt:"$2","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:[(0,j.jsx)(_.D,{size:"$heading3xl",price:g,tokenName:n,tokenSymbol:s,lastUpdated:x,"data-sentry-element":"MarketTokenPrice","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"}),(0,j.jsx)(z.J,{coingeckoId:e,mr:"$-2",size:"medium",from:d.N.details,"data-sentry-element":"MarketStar","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"})]}),(0,j.jsx)(I.E,{pt:"$0.5",width:"100%","data-sentry-element":"PriceChangePercentage","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:c.priceChangePercentage24h})]}),o?(0,j.jsx)(MarketDetailOverview,{token:a}):(0,j.jsxs)(l.XStack,{flex:1,ai:"center",alignContent:"stretch",flexWrap:"wrap",gap:"$5",children:[(0,j.jsx)(TextCell,{title:r.formatMessage({id:m.ETranslations.market_24h_vol_usd}),children:p||"-"}),(0,j.jsx)(TextCell,{title:r.formatMessage({id:m.ETranslations.global_market_cap}),rank:u,children:k||"-"}),(0,j.jsx)(TextCell,{title:r.formatMessage({id:m.ETranslations.global_fdv}),children:f||"-"})]})]})}function SkeletonHeader(){return(0,j.jsxs)(l.YStack,{"data-sentry-element":"YStack","data-sentry-component":"SkeletonHeader","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:[(0,j.jsx)(l.Skeleton,{w:"$24",h:"$4","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"}),(0,j.jsx)(l.View,{pt:"$5",pb:"$3.5","data-sentry-element":"View","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:(0,j.jsx)(l.Skeleton,{w:"$40",h:"$7","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"})}),(0,j.jsx)(l.Skeleton,{w:"$24",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"})]})}function SkeletonHeaderOverItemItem(){return(0,j.jsxs)(l.YStack,{gap:"$2",flexGrow:1,flexBasis:0,"data-sentry-element":"YStack","data-sentry-component":"SkeletonHeaderOverItemItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:[(0,j.jsx)(l.Skeleton,{w:"$10",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"}),(0,j.jsx)(l.Skeleton,{w:"$24",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"})]})}function MarketDetail({route:e}){var{token:t}=e.params,{gtMd:r}=(0,l.useMedia)(),[o,i]=(0,n.useState)(!1),[c,m]=(0,n.useState)(void 0),d=(0,n.useCallback)((0,a.A)((function*(){var e=yield y.A.serviceMarket.fetchMarketTokenDetail(t);m(e)})),[t]),h=(0,n.useCallback)((0,a.A)((function*(){i(!0),yield d(),i(!1)})),[d]);(0,n.useEffect)((function(){d()}),[d]);var b=(0,n.useCallback)((function(){return(0,j.jsxs)(l.XStack,{gap:"$2",children:[(0,j.jsx)(A.t,{uri:c?.image||"",size:"$6"}),(0,j.jsx)(l.SizableText,{children:c?.symbol?.toUpperCase()})]})}),[c?.image,c?.symbol]),{shareText:v}=(0,l.useShare)(),M=(0,n.useCallback)((function(){return f.Ay.buildDeepLinkUrl({path:p.oO.market_detail,query:{coinGeckoId:t}})}),[t]),S=(0,n.useCallback)((0,a.A)((function*(){return(0,J.V)({coinGeckoId:t})})),[t]),T=(0,n.useCallback)((function(){return(0,j.jsxs)(l.XStack,{gap:"$6",ai:"center",children:[k.Ay.isExtensionUiPopup?null:(0,j.jsx)(g.X,{buildDeepLinkUrl:M,buildFullUrl:S}),(0,j.jsx)(l.HeaderIconButton,{icon:"ShareOutline",onPress:(0,a.A)((function*(){var e=(0,J.V)({coinGeckoId:t});yield v(e)}))}),r?(0,j.jsx)(C.I,{}):null]})}),[M,S,t,r,v]),D=(0,x.A)(),P=(0,n.useCallback)((function(){D.dispatch((function(e){return e.routes.length>1?s.y9.pop(e.routes.length):s.d3.reset({index:0,routes:[{name:u.FE.TabMarket}]})}))}),[D]),$=(0,n.useCallback)((function(){return(0,j.jsx)(l.NavBackButton,{onPress:P})}),[P]),O=(0,n.useMemo)((function(){return c?(0,j.jsx)(TokenDetailHeader,{coinGeckoId:t,token:c}):(0,j.jsx)(l.YStack,{px:"$5",children:r?(0,j.jsxs)(l.YStack,{gap:"$12",width:392,children:[(0,j.jsx)(SkeletonHeader,{}),(0,j.jsx)(l.YStack,{gap:"$3",children:(0,j.jsx)(l.Skeleton,{w:252,h:"$3"})}),(0,j.jsxs)(l.YStack,{gap:"$6",children:[(0,j.jsxs)(l.XStack,{children:[(0,j.jsx)(SkeletonHeaderOverItemItem,{}),(0,j.jsx)(SkeletonHeaderOverItemItem,{})]}),(0,j.jsxs)(l.XStack,{children:[(0,j.jsx)(SkeletonHeaderOverItemItem,{}),(0,j.jsx)(SkeletonHeaderOverItemItem,{})]}),(0,j.jsxs)(l.XStack,{children:[(0,j.jsx)(SkeletonHeaderOverItemItem,{}),(0,j.jsx)(SkeletonHeaderOverItemItem,{})]})]}),(0,j.jsxs)(l.YStack,{gap:"$6",children:[(0,j.jsx)(l.Skeleton,{w:"$10",h:"$3"}),(0,j.jsx)(l.Skeleton,{w:252,h:"$3"}),(0,j.jsx)(l.Skeleton,{w:252,h:"$3"}),(0,j.jsx)(l.Skeleton,{w:252,h:"$3"})]})]}):(0,j.jsxs)(l.YStack,{gap:"$6",pt:"$1",children:[(0,j.jsx)(SkeletonHeader,{}),(0,j.jsxs)(l.XStack,{children:[(0,j.jsx)(SkeletonHeaderOverItemItem,{}),(0,j.jsx)(SkeletonHeaderOverItemItem,{}),(0,j.jsx)(SkeletonHeaderOverItemItem,{})]})]})})}),[t,r,c]),_=(0,w.Q)(),I=(0,n.useMemo)((function(){return(0,j.jsx)(q,{tickers:c?.tickers,coinGeckoId:t,defer:_,symbol:c?.symbol})}),[t,_,c?.symbol,c?.tickers]);return(0,j.jsxs)(l.Page,{"data-sentry-element":"Page","data-sentry-component":"MarketDetail","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:[(0,j.jsx)(l.Page.Header,{headerTitle:b,headerRight:T,headerLeft:$,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"}),(0,j.jsx)(l.Page.Body,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:r?(0,j.jsx)(l.YStack,{flex:1,children:(0,j.jsxs)(l.XStack,{flex:1,pt:"$5",children:[(0,j.jsx)(l.ScrollView,{minWidth:392,maxWidth:392,children:O}),(0,j.jsx)(l.YStack,{flex:1,children:(0,j.jsx)(B,{defer:_,token:c,listHeaderComponent:I})})]})}):(0,j.jsx)(B,{defer:_,isRefreshing:o,onRefresh:h,token:c,listHeaderComponent:(0,j.jsxs)(l.YStack,{children:[O,c?I:null]})})})]})}function MarketDetailWithProvider(e){return(0,j.jsx)(Q.m,{storeName:c.EJotaiContextStoreNames.marketWatchList,"data-sentry-element":"MarketWatchListProviderMirror","data-sentry-component":"MarketDetailWithProvider","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:(0,j.jsx)(MarketDetail,MarketDetail_objectSpread(MarketDetail_objectSpread({},e),{},{"data-sentry-element":"MarketDetail","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"}))})}},802172:(e,t,r)=>{r.d(t,{m:()=>p});var o=r(324586),a=r(514041),n=r(2577),s=r(597102),i=r(310944),l=r(907481),c=r(831085);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=(0,a.memo)((function(e){var{children:t,storeName:r}=e,o=(0,l.z)(r),a=n.A.getOrCreateStore(o);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.H,_objectSpread({},o)),(0,c.jsx)(i.Hn,{store:a,children:t})]})}));p.displayName="MarketWatchListProviderMirror"},217715:(e,t,r)=>{r.d(t,{I:()=>MarketHomeHeaderSearchBar});var o=r(514041),a=r(908867),n=r(490343),s=r(498356),i=r(334439),l=r(193068),c=r(390574),p=r(747268),m=r(506851),d=r(89345),k=r(831085),u=p.H.SearchInPage;function MarketHomeHeaderSearchBar(){var e=(0,a.A)(),t=(0,s.A)(),r=(0,o.useCallback)((function(){t.pushModal(l.ry.UniversalSearchModal,{screen:c.j.UniversalSearch,params:{filterType:m.j.MarketToken}})}),[t]);return(0,d.U)(u,r),(0,k.jsxs)(n.XStack,{$gtMd:{width:280},"data-sentry-element":"XStack","data-sentry-component":"MarketHomeHeaderSearchBar","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketHomeHeaderSearchBar.tsx",children:[(0,k.jsx)(n.SearchBar,{placeholder:e.formatMessage({id:i.ETranslations.global_search_tokens}),containerProps:{w:"100%"},$gtMd:{size:"small"},addOns:[{label:(0,k.jsx)(n.Shortcut,{shortcutKey:u})}],"data-sentry-element":"SearchBar","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketHomeHeaderSearchBar.tsx"},"MarketHomeSearchInput"),(0,k.jsx)(n.View,{position:"absolute",top:0,left:0,right:0,bottom:0,onPress:r,"data-sentry-element":"View","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketHomeHeaderSearchBar.tsx"})]})}},172120:(e,t,r)=>{r.d(t,{J:()=>h});var o=r(324586),a=r(839850),n=r(514041),s=r(908867),i=r(490343),l=r(153763),c=r(318822),p=r(334439),m=r(875998),d=r(450255),k=r(831085),u=["coingeckoId","size","tabIndex","from"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=(0,n.memo)((function BasicMarketStar(e){var{coingeckoId:t,size:r,tabIndex:o,from:h}=e,f=(0,a.A)(e,u),y=(0,s.A)(),g=(0,d.B)(),[x,w]=(0,n.useState)((function(){return g.isInWatchList(t)})),b=(0,l.E)(),{gtMd:v}=(0,i.useMedia)(),M=(0,n.useCallback)((function({tabIndex:e}){e===o&&w(g.isInWatchList(t))}),[g,t,o]);(0,n.useEffect)((function(){if(v&&o)return c.iL.on(c.Tu.SwitchMarketHomeTab,M),function(){c.iL.off(c.Tu.SwitchMarketHomeTab,M)}}),[v,M,o]),(0,n.useEffect)((function(){b&&w(g.isInWatchList(t))}),[g,t,b]);var S=(0,n.useCallback)((function(){x?(g.removeFormWatchList(t),m.U.market.token.removeFromWatchlist({tokenSymbol:t,removeWatchlistFrom:h})):(g.addIntoWatchList(t),m.U.market.token.addToWatchList({tokenSymbol:t,addWatchlistFrom:h})),w(!x)}),[x,g,t,h]);return(0,k.jsx)(i.IconButton,_objectSpread(_objectSpread({title:y.formatMessage({id:x?p.ETranslations.market_remove_from_watchlist:p.ETranslations.market_add_to_watchlist}),icon:x?"StarSolid":"StarOutline",variant:"tertiary",size:r,iconSize:r?void 0:"$5",iconProps:{color:x?"$iconActive":"$iconDisabled"},onPress:S},f),{},{"data-sentry-element":"IconButton","data-sentry-component":"BasicMarketStar","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketStar.tsx"}))}))},202338:(e,t,r)=>{r.d(t,{t:()=>s});var o=r(514041),a=r(490343),n=r(831085);var s=(0,o.memo)((function BasicMarketTokenIcon({uri:e,size:t}){return e?(0,n.jsxs)(a.Image,{size:t,circular:!0,"data-sentry-element":"Image","data-sentry-component":"BasicMarketTokenIcon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenIcon.tsx",children:[(0,n.jsx)(a.Image.Source,{source:{uri:decodeURIComponent(e)},"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenIcon.tsx"}),(0,n.jsx)(a.Image.Fallback,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenIcon.tsx",children:(0,n.jsx)(a.Stack,{bg:"$bgStrong",ai:"center",jc:"center",width:"100%",height:"100%","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenIcon.tsx",children:(0,n.jsx)(a.Icon,{name:"CoinOutline",size:"$6",color:"$iconSubdued","data-sentry-element":"Icon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenIcon.tsx"})})}),(0,n.jsx)(a.Image.Loading,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenIcon.tsx",children:(0,n.jsx)(a.Skeleton,{width:"100%",height:"100%",radius:"round","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenIcon.tsx"})})]}):(0,n.jsx)(a.Skeleton,{width:t,height:t})}))},378302:(e,t,r)=>{r.d(t,{D:()=>MarketTokenPrice,u:()=>useTokenPrice});var o=r(324586),a=r(839850),n=r(230414),s=r(514041),i=r(490343),l=r(471169),c=r(831085),p=["price","tokenName","tokenSymbol","lastUpdated","size"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=new(function(){function MarketTokenPriceEvent(){this.tokenPriceMap=new Map,this.priceChangedListenerMap=new Map}var e=MarketTokenPriceEvent.prototype;return e.buildKey=function buildKey(e,t){return`${e}-${t}`},e.updateTokenPrice=function updateTokenPrice({name:e,symbol:t,price:r,lastUpdated:o}){var a=this.buildKey(e,t),{lastUpdated:n=0}=this.tokenPriceMap.get(e)||{};o>n&&(this.tokenPriceMap.set(a,{price:r,lastUpdated:o}),(this.priceChangedListenerMap.get(a)||[]).forEach((function(e){return e()})))},e.getTokenPrice=function getTokenPrice(e,t){var r=this.buildKey(e,t);return this.tokenPriceMap.get(r)?.price||"-"},e.onPriceChange=function onPriceChange(e,t,r){var o=this,a=this.buildKey(e,t),n=this.priceChangedListenerMap.get(a)||[];return n.push(r),this.priceChangedListenerMap.set(a,n),function(){var e=o.priceChangedListenerMap.get(a)||[];o.priceChangedListenerMap.set(a,e.filter((function(e){return e!==r})))}},(0,n.A)(MarketTokenPriceEvent)}()),useTokenPrice=function({name:e,symbol:t,price:r,lastUpdated:o}){var[a,n]=(0,s.useState)(0);return(0,s.useMemo)((function(){m.updateTokenPrice({name:e,symbol:t,price:r,lastUpdated:o})}),[o,e,r,t]),(0,s.useLayoutEffect)((function(){return m.onPriceChange(e,t,(function(){n((function(e){return e+1}))}))}),[o,e,r,t]),(0,s.useMemo)((function(){return m.getTokenPrice(e,t)}),[e,t,a])};function MarketTokenPrice(e){var{price:t,tokenName:r,tokenSymbol:o,lastUpdated:n,size:m}=e,d=(0,a.A)(e,p),[k]=(0,l.useSettingsPersistAtom)(),u=k.currencyInfo.symbol,h=(0,s.useMemo)((function(){return n?new Date(n).getTime():Date.now()}),[n]),f=useTokenPrice({name:r,price:t,symbol:o,lastUpdated:h});return(0,c.jsx)(i.NumberSizeableText,_objectSpread(_objectSpread({userSelect:"none",formatter:"price",size:m,formatterOptions:{currency:u}},d),{},{"data-sentry-element":"NumberSizeableText","data-sentry-component":"MarketTokenPrice","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenPrice.tsx",children:f}))}},781889:(e,t,r)=>{r.d(t,{E:()=>PriceChangePercentage});var o=r(324586),a=r(839850),n=r(490343),s=(r(663522),r(831085)),i=["children"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function PriceChangePercentage(e){var{children:t}=e,r=(0,a.A)(e,i);return t?(0,s.jsx)(n.NumberSizeableText,_objectSpread(_objectSpread({adjustsFontSizeToFit:!0,numberOfLines:2,userSelect:"none",size:"$bodyMd",formatter:"priceChange",color:Number(t)>0?"$textSuccess":"$textCritical",formatterOptions:{showPlusMinusSigns:!0}},r),{},{children:t})):(0,s.jsx)(n.SizableText,{size:"$bodyMd",children:"-"})}},610101:(e,t,r)=>{r.d(t,{K:()=>useSortType});var o=r(514041),getNumericValue=function(e,t,r){var o=e[t];return"number"==typeof o?o:"desc"===r?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER},useSortType=function(e,t){var r=(0,o.useRef)(),a=(0,o.useRef)(t);r.current!==e&&(r.current=e),a.current!==t&&(a.current=t,r.current=e);var[n,s]=(0,o.useState)({columnName:"default",order:"desc"}),i=(0,o.useCallback)((function(e){s(e)}),[]),l=(0,o.useMemo)((function(){if(r.current?.length){var t=r.current[0]?.[n?.columnName];if(n?.order)return function(e){return"number"==typeof e||null===e||"-"===e}(t)?r.current?.slice().sort((function(e,t){var r=getNumericValue(e,n.columnName,n.order),o=getNumericValue(t,n.columnName,n.order);return"desc"===n.order?o-r:r-o})):"string"==typeof t?r.current?.slice().sort((function(e,t){var r=e[n.columnName],o=t[n.columnName];return"desc"===n.order?r.localeCompare(o,"en",{sensitivity:"base"}):o.localeCompare(r,"en",{sensitivity:"base"})})):e}return r.current}),[e,n?.columnName,n?.order]);return(0,o.useMemo)((function(){return{sortedListData:l,handleSortTypeChange:i,sortByType:n,setSortByType:s}}),[i,n,l,s])}},450255:(e,t,r)=>{r.d(t,{B:()=>useWatchListAction});var o=r(514041),a=r(908867),n=r(490343),s=r(334439),i=r(310944),useWatchListAction=function(){var e=(0,a.A)(),t=(0,i.qr)(),r=(0,o.useCallback)((function(e){var r={coingeckoId:e};t.current.removeFormWatchList(r)}),[t]),l=(0,o.useCallback)((function(r){var o=Array.isArray(r)?r:[r];t.current.addIntoWatchList(o.map((function(e){return{coingeckoId:e}}))),n.Toast.success({title:e.formatMessage({id:s.ETranslations.market_added_to_watchlist})})}),[t,e]),c=(0,o.useCallback)((function(e){var r={coingeckoId:e};t.current.moveToTop(r)}),[t]),p=(0,o.useCallback)((function(e){return t.current.isInWatchList(e)}),[t]);return(0,o.useMemo)((function(){return{removeFormWatchList:r,addIntoWatchList:l,MoveToTop:c,isInWatchList:p}}),[c,l,p,r])}}}]);
//# sourceMappingURL=69450.ceb9642be9.chunk.js.map