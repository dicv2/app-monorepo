!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="fd87c59e-152e-4fc3-9ac2-393997db8b6b",e._sentryDebugIdIdentifier="sentry-dbid-fd87c59e-152e-4fc3-9ac2-393997db8b6b")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024112814)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[78951],{326745:(e,n,t)=>{t.d(n,{u:()=>useAppRoute});var r=t(654266);function useAppRoute(){return(0,r.lq)()}},478951:(e,n,t)=>{t.r(n),t.d(n,{UrlAccountLanding:()=>UrlAccountLanding,UrlAccountPageContainer:()=>UrlAccountPageContainer});var r=t(586330),o=(t(446108),t(514041)),c=t(908867),a=t(490343),u=t(547669),s=t(325809),l=t(498356),i=t(326745),d=t(989840),p=t(162616),A=t(181447),m=t(961974),f=t(334439),g=(t(663522),t(491180)),k=t(396304),w=t(584186),y=t(714191),v=t(506851),h=t(165613),U=t(394764),x=t(153763),b=t(826339);function UrlAccountAutoReplaceHistory({num:e}){var n=(0,x.E)(),t=(0,o.useRef)(n);t.current=n;var{activeAccount:r}=(0,p.LH)({num:e}),{selectedAccount:c}=(0,p.wz)({num:e}),{sceneName:a}=(0,p.A6)(),u=(0,o.useRef)(r?.account);u.current=r?.account;var s=r?.account?.address,l=r?.network?.id,i=`${c?.walletId||""}-${c?.indexedAccountId||""}-${c?.othersWalletAccountId||""}`,d=(0,U.Z)(i),A=(0,o.useRef)(!0);d!==i&&(A.current=!1);var m=(0,o.useRef)(),f=(0,o.useCallback)((function({delay:e}){a===y.Zs.homeUrlAccount&&t.current&&(m.current=setTimeout((function(){(0,b.n2)({account:u.current,networkId:l,address:s})}),e))}),[s,l,a]);return(0,o.useEffect)((function(){f({delay:0}),A.current=!0}),[f]),(0,o.useEffect)((function(){var e;return n&&(A.current?f({delay:100}):e=setTimeout((function(){A.current=!0}),1e3)),function(){clearTimeout(e)}}),[n,f]),null}var P=t(831085),I=y.Zs.homeUrlAccount;function UrlAccountPage(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(h.U,{sceneName:I,"data-sentry-element":"HomePageView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/pages/urlAccount/UrlAccountPage.tsx"},I),(0,P.jsx)(UrlAccountAutoReplaceHistory,{num:0,"data-sentry-element":"UrlAccountAutoReplaceHistory","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/pages/urlAccount/UrlAccountPage.tsx"})]})}function UrlAccountAutoCreate({redirectMode:e}){var n=(0,c.A)(),t=(0,i.u)(),s=(0,l.A)(),d=t.params,k=(0,p.z$)(),[y,h]=(0,o.useState)(),U=(0,o.useRef)(d);U.current=d,(0,o.useRef)(t.path).current=t.path;var{selectedAccount:x}=(0,p.wz)({num:0}),I=(0,o.useMemo)((function(){return!(!x.indexedAccountId||x?.othersWalletAccountId)||!(!x?.othersWalletAccountId||g.A.isUrlAccountFn({accountId:x?.othersWalletAccountId}))}),[x.indexedAccountId,x?.othersWalletAccountId]);(0,o.useEffect)((function(){setTimeout((0,r.A)((function*(){var n=U.current?.networkId,t=U.current?.networkId,o=U.current?.address,fixNetworkParams=function(e){e&&(n=e.id,t=e.code)};if(!o&&n){o=n,n=void 0,t=void 0;var c=yield u.A.serviceUniversalSearch.universalSearch({input:o,searchTypes:[v.j.Address]}),a=c?.[v.j.Address]?.items?.[0]?.payload;if(a){var{network:l}=a;fixNetworkParams(l)}}var i=!1,d=yield u.A.serviceNetwork.getNetworkSafe({code:t});(d||(d=yield u.A.serviceNetwork.getNetworkSafe({networkId:n})))&&fixNetworkParams(d),n&&o||(i=!0);var p,f=(0,b.go)(),g=yield u.A.serviceAccount.getUrlDBAccountSafe();if(n&&o&&(!g||o?.toLowerCase()!==f?.address?.toLowerCase()||n!==f?.networkId||I))try{var y=yield u.A.serviceAccount.addWatchingAccount({input:o,networkId:n,deriveType:void 0,isUrlAccount:!0}),x=(p=(0,r.A)((function*(){return k.current.updateSelectedAccountForSingletonAccount({num:0,networkId:n,walletId:A.Hk,othersWalletAccountId:y?.accounts?.[0]?.id})})),function updateSelectedAccount(){return p.apply(this,arguments)});yield x(),setTimeout((function(){x()}),600)}catch(e){m.A.toastIfErrorDisable(e),i=!0}i?h("invalid"):(h("ok"),e&&(b.Jh.replaceHomePage(s),o&&(yield w.A.wait(1),yield b.Jh.pushUrlAccountPage(s,{address:o,networkId:t}))))})),0)}),[n,k,s,e,I]);var C=(0,o.useCallback)((function(){b.Jh.replaceHomePage(s)}),[s]),j=(0,o.useCallback)((function(){return(0,P.jsx)(a.NavBackButton,{onPress:C})}),[C]);return"invalid"===y?(0,P.jsxs)(a.Page,{children:[(0,P.jsx)(a.Page.Header,{headerLeft:j}),(0,P.jsxs)(a.Stack,{flex:1,ai:"center",jc:"center",children:[(0,P.jsx)(a.SizableText,{size:"$headingXl",children:n.formatMessage({id:f.ETranslations.global_404_message})}),null]})]}):"ok"!==y||e?(0,P.jsx)(a.Stack,{flex:1,alignContent:"center",justifyContent:"center","data-sentry-element":"Stack","data-sentry-component":"UrlAccountAutoCreate","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/pages/urlAccount/UrlAccountPage.tsx",children:(0,P.jsx)(a.Spinner,{size:"small","data-sentry-element":"Spinner","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/pages/urlAccount/UrlAccountPage.tsx"})}):(0,P.jsx)(UrlAccountPage,{})}function UrlAccountPageContainer(){return(0,k.eX)({name:"URLAccountMount:  UrlAccountPageContainer"}),(0,P.jsx)(d.wu,{"data-sentry-element":"ProviderJotaiContextAccountOverview","data-sentry-component":"UrlAccountPageContainer","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/pages/urlAccount/UrlAccountPage.tsx",children:(0,P.jsx)(s.b8,{config:{sceneName:I,sceneUrl:""},enabledNum:[0],"data-sentry-element":"AccountSelectorProviderMirror","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/pages/urlAccount/UrlAccountPage.tsx",children:(0,P.jsx)(UrlAccountAutoCreate,{"data-sentry-element":"UrlAccountAutoCreate","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/pages/urlAccount/UrlAccountPage.tsx"})})})}function UrlAccountLanding(){return(0,k.eX)({name:"URLAccountMount:  UrlAccountLanding"}),(0,P.jsx)(d.wu,{"data-sentry-element":"ProviderJotaiContextAccountOverview","data-sentry-component":"UrlAccountLanding","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/pages/urlAccount/UrlAccountPage.tsx",children:(0,P.jsx)(s.b8,{config:{sceneName:I,sceneUrl:""},enabledNum:[0],"data-sentry-element":"AccountSelectorProviderMirror","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/pages/urlAccount/UrlAccountPage.tsx",children:(0,P.jsx)(UrlAccountAutoCreate,{redirectMode:!0,"data-sentry-element":"UrlAccountAutoCreate","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/pages/urlAccount/UrlAccountPage.tsx"})})})}}}]);
//# sourceMappingURL=78951.b1cb59dbc4.chunk.js.map