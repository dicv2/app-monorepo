{"version":3,"file":"static/js/68174.6dd42d40b3.chunk.js","mappings":"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","sources":["webpack://web/../../packages/core/src/utils/coinSelectUtils.ts","webpack://web/../../packages/core/src/utils/index.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringExternalBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHardwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHdBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringImportedBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringSoftwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringWatchingBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultContext.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/KeyringExternal.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/utils.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/KeyringHardware.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/KeyringHd.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/KeyringImported.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/KeyringWatching.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/sdkDnx/ClientDnx.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/dnx/Vault.ts","webpack://web/../../packages/kit-bg/src/vaults/types.ts","webpack://web/../../packages/shared/src/request/JsonRPCRequest.ts","webpack://web/../../node_modules/biginteger/biginteger.js","webpack://web/../../node_modules/coinselect/accumulative.js","webpack://web/../../node_modules/coinselect/blackjack.js","webpack://web/../../node_modules/coinselect/break.js","webpack://web/../../node_modules/coinselect/index.js","webpack://web/../../node_modules/coinselect/split.js","webpack://web/../../node_modules/coinselect/utils.js","webpack://web/../../node_modules/timeout-signal/index.js"],"sourcesContent":["import _isNil from\"lodash/isNil\";import coinSelectAuto from'coinselect';import coinSelectAccumulative from'coinselect/accumulative';import coinSelectBlackjack from'coinselect/blackjack';import coinSelectBreak from'coinselect/break';import coinSelectSplit from'coinselect/split';import coinSelectUtils from'coinselect/utils';function utxoScore(x,feeRate){return x.value-feeRate*coinSelectUtils.inputBytes(x);}export function blackjackPro(utxos,outputs,feeRateNum){if(!Number.isFinite(coinSelectUtils.uintOrNaN(feeRateNum)))return{};var bytesAccum=coinSelectUtils.transactionBytes([],outputs);var inAccum=0;var inputs=[];var outAccum=coinSelectUtils.sumOrNaN(outputs);var threshold=coinSelectUtils.dustThreshold({},feeRateNum);for(var i=0;i<utxos.length;i+=1){var input=utxos[i];var inputBytes=coinSelectUtils.inputBytes(input);var fee=feeRateNum*(bytesAccum+inputBytes);var inputValue=coinSelectUtils.uintOrNaN(input.value);if(!input.forceSelect){if(inAccum+inputValue>outAccum+fee+threshold)continue;}bytesAccum+=inputBytes;inAccum+=inputValue;inputs.push(input);if(inAccum<outAccum+fee)continue;return coinSelectUtils.finalize(inputs,outputs,feeRateNum);}return{fee:feeRateNum*bytesAccum};}export function accumulativePro(utxos,outputs,feeRate){if(!Number.isFinite(coinSelectUtils.uintOrNaN(feeRate)))return{};var bytesAccum=coinSelectUtils.transactionBytes([],outputs);var inAccum=0;var inputs=[];var outAccum=coinSelectUtils.sumOrNaN(outputs);for(var i=0;i<utxos.length;i+=1){var utxo=utxos[i];var utxoBytes=coinSelectUtils.inputBytes(utxo);var utxoFee=feeRate*utxoBytes;var utxoValue=coinSelectUtils.uintOrNaN(utxo.value);if(utxoFee>utxo.value){if(i===utxos.length-1)return{fee:feeRate*(bytesAccum+utxoBytes)};if(!utxo.forceSelect){continue;}}bytesAccum+=utxoBytes;inAccum+=utxoValue;inputs.push(utxo);var fee=feeRate*bytesAccum;if(inAccum<outAccum+fee)continue;return coinSelectUtils.finalize(inputs,outputs,feeRate);}return{fee:feeRate*bytesAccum};}function sortUtxo({utxos,feeRate}){return utxos.concat().sort(function(a,b){if(a.forceSelect){return-1;}if(b.forceSelect){return 1;}return utxoScore(b,feeRate)-utxoScore(a,feeRate);});}export function coinSelectAutoPro(utxos,outputs,feeRate,useBlackjack=true){utxos=sortUtxo({utxos,feeRate});if(useBlackjack){var base=blackjackPro(utxos,outputs,feeRate);if(base.inputs)return base;}return accumulativePro(utxos,outputs,feeRate);}export function coinSelectAccumulativeDesc(utxos,outputs,feeRate){utxos=sortUtxo({utxos,feeRate});return coinSelectAccumulative(utxos,outputs,feeRate);}export var coinSelect=function({inputsForCoinSelect,outputsForCoinSelect,feeRate,algorithm='auto'}){var max=outputsForCoinSelect.some(function(o){return o.isMax;});var validAmount=outputsForCoinSelect.every(function(o){if(o.isMax){return typeof o.value==='undefined';}return typeof o.value==='number'&&!Number.isNaN(o.value);});if(!validAmount){throw new Error('coinSelect ERROR: Invalid amount in outputs, you should specify valid value or isMax');}var finalOutputs=outputsForCoinSelect.map(function(o){return{address:o.address,value:o.isMax?undefined:o.value,script:o.script};});var unspentSelectFn=max?coinSelectSplit:coinSelectAuto;if(algorithm==='accumulative_desc'){unspentSelectFn=coinSelectAccumulativeDesc;}if(algorithm==='accumulative'){unspentSelectFn=coinSelectAccumulative;}if(algorithm==='blackjack'){unspentSelectFn=coinSelectBlackjack;}if(algorithm==='break'){unspentSelectFn=coinSelectBreak;}if(algorithm==='split'){unspentSelectFn=coinSelectSplit;}var{inputs,outputs,fee}=unspentSelectFn(inputsForCoinSelect,finalOutputs,parseInt(feeRate,10));if(_isNil(fee)){throw new Error('coinSelect ERROR: No fee found');}return{inputs,outputs,fee};};","import coinselectUtils from'coinselect/utils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';export function slicePathTemplate(template){return accountUtils.slicePathTemplate(template);}export function getUtxoAccountPrefixPath({fullPath}){var pathComponent=fullPath.split('/');pathComponent.pop();pathComponent.pop();var prefixPath=pathComponent.join('/');return prefixPath;}export function getBIP44Path(account,address){var realPath='';for(var[key,value]of Object.entries(account.addresses)){if(value===address){realPath=key;break;}}return`${account.path}/${realPath}`;}export function estimateTxSize(inputsForCoinSelect,outputsForCoinSelect){return coinselectUtils.transactionBytes(inputsForCoinSelect,outputsForCoinSelect);}","import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{VaultContext}from\"./VaultContext\";export var KeyringBase=function(_VaultContext){_inherits(KeyringBase,_VaultContext);var _super=_createSuper(KeyringBase);function KeyringBase(vault){var _this;_this=_super.call(this,vault.options);_this.vault=vault;if(_this.vault.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match1');}if(_this.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match2');}return _this;}var _proto=KeyringBase.prototype;_proto.isKeyringImported=function isKeyringImported(){return this.keyringType===EVaultKeyringTypes.imported;};_proto.isKeyringHd=function isKeyringHd(){return this.keyringType===EVaultKeyringTypes.hd;};_proto.isKeyringHardware=function isKeyringHardware(){return this.keyringType===EVaultKeyringTypes.hardware;};_proto.isKeyringWatching=function isKeyringWatching(){return this.keyringType===EVaultKeyringTypes.watching;};_proto.basePrepareHdNormalAccounts=function(){var _basePrepareHdNormalAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is not defined');}var{names,deriveInfo,indexes}=params;var{coinType,template,namePrefix,idSuffix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;var{buildAddressesInfo}=options;var usedIndexes=indexes;var addressInfos=yield buildAddressesInfo({usedIndexes});var ret=[];for(var idx=0;idx<addressInfos.length;idx+=1){var{path,publicKey,address,addresses,relPath}=addressInfos[idx];if(!path){throw new Error('KeyringHD prepareAccounts ERROR: path not found');}if(accountType===EDBAccountType.VARIANT&&!addresses){throw new Error('addresses is required for variant account');}if(accountType===EDBAccountType.VARIANT&&address){throw new Error('address should not set for variant account');}var pathIndex=usedIndexes[idx];var name=names?.[idx]||accountUtils.buildHDAccountName({pathIndex,namePrefix});var id=accountUtils.buildHDAccountId({walletId,path,idSuffix});var indexedAccountId=accountUtils.buildIndexedAccountId({walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,relPath,indexedAccountId,coinType,impl:settings.impl,pub:publicKey,address,addresses,template});}return ret;});function basePrepareHdNormalAccounts(_x,_x2){return _basePrepareHdNormalAccounts.apply(this,arguments);}return basePrepareHdNormalAccounts;}();_proto.basePrepareHdUtxoAccounts=function(){var _basePrepareHdUtxoAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is undefined');}var{indexes,deriveInfo,names,skipCheckAccountExist=true}=params;var{coinType,template,namePrefix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;if(accountType!==EDBAccountType.UTXO){throw new Error('accountType is not utxo');}var{checkIsAccountUsed,buildAddressesInfo}=options;var ignoreFirst=false;var usedIndexes=[...(ignoreFirst?[indexes[0]-1]:[]),...indexes];defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfo();var addressesInfo=yield buildAddressesInfo({usedIndexes});defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfoDone();defaultLogger.account.accountCreatePerf.buildDBUtxoAccounts();var ret=[];var idx=0;for(var{path,relPath,publicKey,xpub,xpubSegwit,address,addresses}of addressesInfo){if(!path||_isNil(xpub)||!addresses){throw new Error('basePrepareHdUtxoAccounts ERROR: path or xpub or addresses is undefined');}if(!relPath){throw new Error('basePrepareHdUtxoAccounts ERROR: relPath is undefined');}var prefix=namePrefix;var pathIndex=usedIndexes[idx];var name=names?.[idx]||`${prefix} #${pathIndex+1}`;var id=`${this.walletId}--${path}`;if(!ignoreFirst||idx>0){var indexedAccountId=accountUtils.buildIndexedAccountId({walletId:this.walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,indexedAccountId,relPath,coinType,impl:settings.impl,pub:publicKey,xpub,xpubSegwit,address,addresses,template});}var isLast=idx===addressesInfo.length-1;if(!skipCheckAccountExist&&!isLast&&checkIsAccountUsed){var{isUsed}=yield checkIsAccountUsed({xpub,xpubSegwit,address});if(!isUsed){break;}yield timerUtils.wait(200);}idx+=1;}defaultLogger.account.accountCreatePerf.buildDBUtxoAccountsDone();return ret;});function basePrepareHdUtxoAccounts(_x3,_x4){return _basePrepareHdUtxoAccounts.apply(this,arguments);}return basePrepareHdUtxoAccounts;}();_proto.batchGetAddresses=function(){var _batchGetAddresses=_asyncToGenerator(function*(params){return[];});function batchGetAddresses(_x5){return _batchGetAddresses.apply(this,arguments);}return batchGetAddresses;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){throw new NotImplemented();});function exportAccountSecretKeys(_x6){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return undefined;});function buildHwAllNetworkPrepareAccountsParams(_x7){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){throw new NotImplemented();};return _createClass(KeyringBase);}(VaultContext);export var KeyringBaseMock=function(_KeyringBase){_inherits(KeyringBaseMock,_KeyringBase);var _super2=_createSuper(KeyringBaseMock);function KeyringBaseMock(){return _super2.apply(this,arguments);}return _createClass(KeyringBaseMock);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringExternalBase=function(_KeyringBase){_inherits(KeyringExternalBase,_KeyringBase);var _super=_createSuper(KeyringExternalBase);function KeyringExternalBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.external;return _this;}var _proto=KeyringExternalBase.prototype;_proto.baseSignMessageByExternalWallet=function(){var _baseSignMessageByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.signMessage({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSignMessageByExternalWallet(_x){return _baseSignMessageByExternalWallet.apply(this,arguments);}return baseSignMessageByExternalWallet;}();_proto.baseSendTransactionByExternalWallet=function(){var _baseSendTransactionByExternalWallet=_asyncToGenerator(function*(params){return this.backgroundApi.serviceDappSide.sendTransaction({account:yield this.vault.getAccount(),networkId:this.networkId,params});});function baseSendTransactionByExternalWallet(_x2){return _baseSendTransactionByExternalWallet.apply(this,arguments);}return baseSendTransactionByExternalWallet;}();_proto.prepareAccounts=function prepareAccounts(params){throw new OneKeyInternalError('prepareAccounts is not supported for external accounts, use serviceAccount directly');};_proto.basePrepareExternalAccounts=function(){var _basePrepareExternalAccounts=_asyncToGenerator(function*(params){return[];});function basePrepareExternalAccounts(_x3){return _basePrepareExternalAccounts.apply(this,arguments);}return basePrepareExternalAccounts;}();return _createClass(KeyringExternalBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{slicePathTemplate}from'@onekeyhq/core/src/utils';import appGlobals from'@onekeyhq/shared/src/appGlobals';import{OneKeyInternalError,UnsupportedAddressTypeError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{HardwareSDK}from'@onekeyhq/shared/src/hardware/instance';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EConfirmOnDeviceType}from'@onekeyhq/shared/types/device';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringHardwareBase=function(_KeyringBase){_inherits(KeyringHardwareBase,_KeyringBase);var _super=_createSuper(KeyringHardwareBase);function KeyringHardwareBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hardware;return _this;}var _proto=KeyringHardwareBase.prototype;_proto.getHardwareSDKInstance=function(){var _getHardwareSDKInstance=_asyncToGenerator(function*(){var _ref;defaultLogger.account.accountCreatePerf.getHardwareSDKInstance();var sdk=yield appGlobals?.$backgroundApiProxy?.backgroundApi?.serviceHardware?.getSDKInstance?.();var r=(_ref=sdk)!=null?_ref:HardwareSDK;defaultLogger.account.accountCreatePerf.getHardwareSDKInstanceDone();return r;});function getHardwareSDKInstance(){return _getHardwareSDKInstance.apply(this,arguments);}return getHardwareSDKInstance;}();_proto.baseGetDeviceAccountData=function(){var _baseGetDeviceAccountData=_asyncToGenerator(function*({params,usedIndexes,sdkGetDataFn,errorMessage}){var{deriveInfo,deviceParams}=params;var{dbDevice,confirmOnDevice}=deviceParams;var{connectId,deviceId}=dbDevice;var{template,coinName}=deriveInfo;var{pathPrefix,pathSuffix}=slicePathTemplate(template);var showOnOnekeyFn=function(arrIndex){if(confirmOnDevice===EConfirmOnDeviceType.EveryItem){return true;}if(confirmOnDevice===EConfirmOnDeviceType.LastItem){return arrIndex===usedIndexes[usedIndexes.length-1];}return false;};var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdkGetDataFn({connectId,deviceId,pathPrefix,pathSuffix,template,coinName,showOnOnekeyFn});}));if(!result||result.length!==usedIndexes.length){throw new OneKeyInternalError(errorMessage);}return result;});function baseGetDeviceAccountData(_x){return _baseGetDeviceAccountData.apply(this,arguments);}return baseGetDeviceAccountData;}();_proto.baseGetDeviceAccountPublicKeys=function(){var _baseGetDeviceAccountPublicKeys=_asyncToGenerator(function*({params,usedIndexes,sdkGetPublicKeysFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetPublicKeysFn,errorMessage:'Unable to get public keys.'});});function baseGetDeviceAccountPublicKeys(_x2){return _baseGetDeviceAccountPublicKeys.apply(this,arguments);}return baseGetDeviceAccountPublicKeys;}();_proto.baseGetDeviceAccountAddresses=function(){var _baseGetDeviceAccountAddresses=_asyncToGenerator(function*({params,usedIndexes,sdkGetAddressFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetAddressFn,errorMessage:'Unable to get addresses.'});});function baseGetDeviceAccountAddresses(_x3){return _baseGetDeviceAccountAddresses.apply(this,arguments);}return baseGetDeviceAccountAddresses;}();_proto.getAllNetworkPrepareAccounts=function(){var _getAllNetworkPrepareAccounts=_asyncToGenerator(function*({hwSdkNetwork,params,usedIndexes,buildPath,buildResultAccount}){if(!hwSdkNetwork){return undefined;}var{hwAllNetworkPrepareAccountsResponse}=params;if(hwAllNetworkPrepareAccountsResponse?.length){var resultAccounts=[];var _loop=function*(){var path=yield buildPath({index});var account=hwAllNetworkPrepareAccountsResponse?.find(function(item){return item.network&&item.path===path&&item.network===hwSdkNetwork;});if(account&&account.success){resultAccounts.push(buildResultAccount({account,index}));}};for(var index of usedIndexes){yield*_loop();}if(resultAccounts.length===usedIndexes.length){return{success:true,payload:resultAccounts};}var hasErrorItem=hwAllNetworkPrepareAccountsResponse?.find(function(item){return!item.success&&!!item.payload?.error;});if(!hasErrorItem?.success&&hasErrorItem?.payload?.error){if(hasErrorItem?.payload?.error?.indexOf('Failure_DataError,Forbidden key path')!==-1){throw new UnsupportedAddressTypeError();}throw convertDeviceError(hasErrorItem.payload);}throw new OneKeyInternalError('SDK GetAllNetworkAccounts Failed');}});function getAllNetworkPrepareAccounts(_x4){return _getAllNetworkPrepareAccounts.apply(this,arguments);}return getAllNetworkPrepareAccounts;}();return _createClass(KeyringHardwareBase);}(KeyringBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringHdBase=function(_KeyringSoftwareBase){_inherits(KeyringHdBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringHdBase);function KeyringHdBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hd;return _this;}return _createClass(KeyringHdBase);}(KeyringSoftwareBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringImportedBase=function(_KeyringSoftwareBase){_inherits(KeyringImportedBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringImportedBase);function KeyringImportedBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.imported;return _this;}return _createClass(KeyringImportedBase);}(KeyringSoftwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{decryptImportedCredential}from'@onekeyhq/core/src/secret';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{noopObject}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{KeyringBase}from\"./KeyringBase\";export var KeyringSoftwareBase=function(_KeyringBase){_inherits(KeyringSoftwareBase,_KeyringBase);var _super=_createSuper(KeyringSoftwareBase);function KeyringSoftwareBase(){return _super.apply(this,arguments);}var _proto=KeyringSoftwareBase.prototype;_proto.baseGetCredentialsInfo=function(){var _baseGetCredentialsInfo=_asyncToGenerator(function*({password}){noopObject(password);var hd;var imported;if(this.isKeyringHd()){var credential=yield localDb.getCredential(checkIsDefined(this.walletId));hd=credential.credential;}if(this.isKeyringImported()){var _credential=yield localDb.getCredential(this.accountId);imported=_credential.credential;}return{hd,imported};});function baseGetCredentialsInfo(_x){return _baseGetCredentialsInfo.apply(this,arguments);}return baseGetCredentialsInfo;}();_proto.baseSignTransactionBtc=function(){var _baseSignTransactionBtc=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,unsignedTx,signOnly}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedTx});var result=yield this.coreApi.signTransaction({networkInfo,unsignedTx,account,relPaths,password,credentials,btcExtraInfo,signOnly});return result;});function baseSignTransactionBtc(_x2){return _baseSignTransactionBtc.apply(this,arguments);}return baseSignTransactionBtc;}();_proto.baseSignTransaction=function(){var _baseSignTransaction=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,unsignedTx}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.signTransaction({networkInfo,password,account,credentials,unsignedTx});return result;});function baseSignTransaction(_x3){return _baseSignTransaction.apply(this,arguments);}return baseSignTransaction;}();_proto.baseSignMessage=function(){var _baseSignMessage=_asyncToGenerator(function*(params){var _this=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,messages}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(msg){return checkIsDefined(_this.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,password,credentials});}));return result;});function baseSignMessage(_x4){return _baseSignMessage.apply(this,arguments);}return baseSignMessage;}();_proto.baseSignMessageBtc=function(){var _baseSignMessageBtc=_asyncToGenerator(function*(params){var _this2=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,messages}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(){var _ref=_asyncToGenerator(function*(msg){var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedMessage:msg});return checkIsDefined(_this2.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,relPaths,password,credentials,btcExtraInfo});});return function(_x6){return _ref.apply(this,arguments);};}()));return result;});function baseSignMessageBtc(_x5){return _baseSignMessageBtc.apply(this,arguments);}return baseSignMessageBtc;}();_proto.basePrepareAccountsImported=function(){var _basePrepareAccountsImported=_asyncToGenerator(function*(params,options={}){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,networks,createAtNetwork}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var settings=yield this.getVaultSettings();var{onlyAvailableOnCertainNetworks}=options;var accountType=options.accountType||settings.accountType;var impl=options.impl||settings.impl;var coinType=options.coinType||params.deriveInfo?.coinType||settings.coinTypeDefault;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding:params.deriveInfo?.addressEncoding});var addressUsed='';if(onlyAvailableOnCertainNetworks){addressUsed=addresses?.[createAtNetwork]||'';if(!addressUsed){throw new Error(`imported account address is empty of network: ${createAtNetwork}`);}}var accountId=accountUtils.buildImportedAccountId({coinType,pub:publicKey,address:addressUsed,addressEncoding:params.deriveInfo?.addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:'',coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,pub:publicKey,address,addresses}]);});function basePrepareAccountsImported(_x7){return _basePrepareAccountsImported.apply(this,arguments);}return basePrepareAccountsImported;}();_proto.basePrepareAccountsImportedUtxo=function(){var _basePrepareAccountsImportedUtxo=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,createAtNetwork,deriveInfo}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var addressEncoding=deriveInfo?.addressEncoding;var settings=yield this.getVaultSettings();var{coinTypeDefault:coinType,accountType}=settings;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey,xpub,relPath,xpubSegwit,path}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding});if(_isNil(xpub)||!addresses){throw new Error('xpub or addresses is undefined');}var accountId=accountUtils.buildImportedAccountId({coinType,xpub:xpub||publicKey,addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:path||'',relPath,coinType,impl:settings.impl,xpub,xpubSegwit,pub:publicKey,address,addresses,createAtNetwork}]);});function basePrepareAccountsImportedUtxo(_x8){return _basePrepareAccountsImportedUtxo.apply(this,arguments);}return basePrepareAccountsImportedUtxo;}();_proto.basePrepareAccountsHd=function(){var _basePrepareAccountsHd=_asyncToGenerator(function*(params){var _this3=this;var{template,addressEncoding}=params.deriveInfo;var{password}=params;var networkInfo=yield this.getCoreApiNetworkInfo();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref2=_asyncToGenerator(function*({usedIndexes}){if(!_this3.coreApi){throw new Error('coreApi is not defined');}var credentials=yield _this3.baseGetCredentialsInfo({password});var{addresses:addressInfos}=yield _this3.coreApi.getAddressesFromHd({networkInfo,template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});return addressInfos;});return function buildAddressesInfo(_x10){return _ref2.apply(this,arguments);};}()});});function basePrepareAccountsHd(_x9){return _basePrepareAccountsHd.apply(this,arguments);}return basePrepareAccountsHd;}();_proto.basePrepareAccountsHdUtxo=function(){var _basePrepareAccountsHdUtxo=_asyncToGenerator(function*(params,options){var _this4=this;var{password,indexes,deriveInfo,names,skipCheckAccountExist}=params;var addressEncoding=params?.deriveInfo?.addressEncoding;return this.basePrepareHdUtxoAccounts(params,_objectSpread(_objectSpread({},options),{},{buildAddressesInfo:function(){var _ref3=_asyncToGenerator(function*({usedIndexes}){var{coinType,template,namePrefix}=deriveInfo;defaultLogger.account.accountCreatePerf.getCredentialsInfo();var credentials=yield _this4.baseGetCredentialsInfo({password});if(!_this4.coreApi){throw new Error('coreApi is undefined');}defaultLogger.account.accountCreatePerf.getAddressesFromHd();var{addresses:addressesInfo}=yield _this4.coreApi.getAddressesFromHd({networkInfo:yield _this4.getCoreApiNetworkInfo(),template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});if(addressesInfo.length!==usedIndexes.length){throw new OneKeyInternalError('Unable to get address');}defaultLogger.account.accountCreatePerf.getAddressesFromHdDone();return addressesInfo;});return function buildAddressesInfo(_x13){return _ref3.apply(this,arguments);};}()}));});function basePrepareAccountsHdUtxo(_x11,_x12){return _basePrepareAccountsHdUtxo.apply(this,arguments);}return basePrepareAccountsHdUtxo;}();_proto.baseExportAccountSecretKeys=function(){var _baseExportAccountSecretKeys=_asyncToGenerator(function*(params){var{password,keyType,relPaths}=params;var account=yield this.vault.getAccount();var networkInfo=yield this.getCoreApiNetworkInfo();var credentials=yield this.baseGetCredentialsInfo({password});var{deriveInfo}=yield this.backgroundApi.serviceNetwork.getDeriveTypeByTemplate({networkId:this.networkId,template:account.template});var addressEncoding=deriveInfo?.addressEncoding;if(!this.coreApi){throw new Error('coreApi is not defined');}return this.coreApi.getExportedSecretKey({networkInfo,password,credentials,account,relPaths,keyType,addressEncoding});});function baseExportAccountSecretKeys(_x14){return _baseExportAccountSecretKeys.apply(this,arguments);}return baseExportAccountSecretKeys;}();_proto.baseGetPrivateKeys=function(){var _baseGetPrivateKeys=_asyncToGenerator(function*(params){var{password,relPaths}=params;if(!this.coreApi){throw new Error('coreApi is not defined');}var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo({password});var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeys=yield this.coreApi.getPrivateKeys({networkInfo,password,account,relPaths,credentials});return privateKeys;});function baseGetPrivateKeys(_x15){return _baseGetPrivateKeys.apply(this,arguments);}return baseGetPrivateKeys;}();return _createClass(KeyringSoftwareBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{InvalidAddress,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringWatchingBase=function(_KeyringBase){_inherits(KeyringWatchingBase,_KeyringBase);var _super=_createSuper(KeyringWatchingBase);function KeyringWatchingBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.watching;return _this;}var _proto=KeyringWatchingBase.prototype;_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.basePrepareUtxoWatchingAccounts=function(){var _basePrepareUtxoWatchingAccounts=_asyncToGenerator(function*(params){var{address,xpub,networks,createAtNetwork,name,deriveInfo,isUrlAccount,addresses}=params;if(!address&&!xpub){throw new Error('basePrepareUtxoWatchingAccounts ERROR: address and xpub are not defined');}var networkInfo=yield this.getCoreApiNetworkInfo();var settings=yield this.getVaultSettings();var coinType=settings.coinTypeDefault;var addressEncoding=deriveInfo?.addressEncoding;var id=accountUtils.buildWatchingAccountId({coinType,address,xpub,addressEncoding,isUrlAccount});var addressFromXpub='';var xpubSegwit=xpub;if(!address&&xpub){checkIsDefined(this.coreApi);var result=yield this.coreApi?.getAddressFromPublic({publicKey:xpub,addressEncoding,networkInfo});addressFromXpub=result?.address||'';xpubSegwit=result?.xpubSegwit||xpubSegwit||xpub;}var account={id,name,type:EDBAccountType.UTXO,relPath:'0/0',coinType,impl:settings.impl,networks,createAtNetwork,address:addressFromXpub||address||'',xpub:xpub||'',xpubSegwit,path:'',addresses:addresses||{}};return[account];});function basePrepareUtxoWatchingAccounts(_x){return _basePrepareUtxoWatchingAccounts.apply(this,arguments);}return basePrepareUtxoWatchingAccounts;}();_proto.basePrepareSimpleWatchingAccounts=function(){var _basePrepareSimpleWatchingAccounts=_asyncToGenerator(function*(params,options={}){var{address,name,networks,createAtNetwork,isUrlAccount}=params;if(!address){throw new InvalidAddress();}if(!createAtNetwork){throw new Error('basePrepareSimpleWatchingAccounts ERROR: createAtNetwork is not defined');}var{onlyAvailableOnCertainNetworks=false}=options;var settings=yield this.getVaultSettings();var coinType=options.coinType||settings.coinTypeDefault;var impl=options.impl||settings.impl;var id=accountUtils.buildWatchingAccountId({coinType,address,isUrlAccount});var account={id,name:name||'',type:EDBAccountType.SIMPLE,coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,address,pub:'',path:''};return Promise.resolve([account]);});function basePrepareSimpleWatchingAccounts(_x2){return _basePrepareSimpleWatchingAccounts.apply(this,arguments);}return basePrepareSimpleWatchingAccounts;}();return _createClass(KeyringWatchingBase);}(KeyringBase);","import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _omitBy from\"lodash/omitBy\";import _isEmpty from\"lodash/isEmpty\";import _isNil from\"lodash/isNil\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _omit from\"lodash/omit\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"accountId\"],_excluded2=[\"accountId\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import qs from'querystring';import BigNumber from'bignumber.js';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{NotImplemented}from'@onekeyhq/shared/src/errors';import platformEnv from'@onekeyhq/shared/src/platformEnv';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{getOnChainHistoryTxAssetInfo,getOnChainHistoryTxStatus}from'@onekeyhq/shared/src/utils/historyUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import{buildTxActionDirection,getStakingActionLabel}from'@onekeyhq/shared/src/utils/txActionUtils';import{addressIsEnsFormat}from'@onekeyhq/shared/src/utils/uriUtils';import{EServiceEndpointEnum}from'@onekeyhq/shared/types/endpoint';import{EOnChainHistoryTxType}from'@onekeyhq/shared/types/history';import{EDecodedTxActionType,EDecodedTxDirection}from'@onekeyhq/shared/types/tx';import{VaultContext}from\"./VaultContext\";if(platformEnv.isExtensionUi){debugger;throw new Error('engine/VaultBase is not allowed imported from ui');}export var VaultBaseChainOnly=function(_VaultContext){_inherits(VaultBaseChainOnly,_VaultContext);var _super=_createSuper(VaultBaseChainOnly);function VaultBaseChainOnly(){return _super.apply(this,arguments);}var _proto=VaultBaseChainOnly.prototype;_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){return networkAccount.xpub;});function getXpubFromAccount(_x){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.proxyJsonRPCCall=function(){var _proxyJsonRPCCall=_asyncToGenerator(function*(request){throw new NotImplemented();});function proxyJsonRPCCall(_x2){return _proxyJsonRPCCall.apply(this,arguments);}return proxyJsonRPCCall;}();_proto.addressFromBase=function(){var _addressFromBase=_asyncToGenerator(function*(account){throw new NotImplemented();});function addressFromBase(_x3){return _addressFromBase.apply(this,arguments);}return addressFromBase;}();_proto.addressToBase=function(){var _addressToBase=_asyncToGenerator(function*(address){throw new NotImplemented();});function addressToBase(_x4){return _addressToBase.apply(this,arguments);}return addressToBase;}();_proto.baseValidatePrivateKey=function(){var _baseValidatePrivateKey=_asyncToGenerator(function*(privateKey){if(!this.coreApi){throw new Error('coreApi not defined in Vault');}try{var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw:privateKey});if(result.publicKey){return{isValid:true};}}catch(error){}return{isValid:false};});function baseValidatePrivateKey(_x5){return _baseValidatePrivateKey.apply(this,arguments);}return baseValidatePrivateKey;}();_proto.baseValidateGeneralInput=function(){var _baseValidateGeneralInput=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var{validateAddress,validateXprvt,validateXpub,validatePrivateKey}=params;var result={isValid:false};var isValid=false;var addressResult;var xpubResult;var xprvtResult;var privateKeyResult;if(validateAddress&&!isValid){try{addressResult=yield this.validateAddress(input);result.addressResult=addressResult;isValid=isValid||addressResult?.isValid;}catch(error){}}if(validateXpub&&!isValid){try{xpubResult=yield this.validateXpub(input);result.xpubResult=xpubResult;isValid=isValid||xpubResult?.isValid;}catch(error){}}if(validateXprvt&&!isValid){try{xprvtResult=yield this.validateXprvt(input);result.xprvtResult=xprvtResult;isValid=isValid||xprvtResult?.isValid;}catch(error){}}if(validatePrivateKey&&!isValid){try{privateKeyResult=yield this.validatePrivateKey(input);result.privateKeyResult=privateKeyResult;isValid=isValid||privateKeyResult?.isValid;}catch(error){}}result.isValid=Boolean(isValid);return{result,inputDecoded:input};});function baseValidateGeneralInput(_x6){return _baseValidateGeneralInput.apply(this,arguments);}return baseValidateGeneralInput;}();_proto.baseGetPrivateKeyFromImported=function(){var _baseGetPrivateKeyFromImported=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=hexUtils.stripHexPrefix(input);privateKey=encodeSensitiveText({text:privateKey});return{privateKey};});function baseGetPrivateKeyFromImported(_x7){return _baseGetPrivateKeyFromImported.apply(this,arguments);}return baseGetPrivateKeyFromImported;}();_proto.validateAmountInputShown=function(){var _validateAmountInputShown=_asyncToGenerator(function*({toAddress}){return Promise.resolve({isValid:true});});function validateAmountInputShown(_x8){return _validateAmountInputShown.apply(this,arguments);}return validateAmountInputShown;}();_proto.checkIsDomainName=function(){var _checkIsDomainName=_asyncToGenerator(function*({name}){return addressIsEnsFormat(name);});function checkIsDomainName(_x9){return _checkIsDomainName.apply(this,arguments);}return checkIsDomainName;}();_proto.resolveDomainName=function(){var _resolveDomainName=_asyncToGenerator(function*({name}){return null;});function resolveDomainName(_x10){return _resolveDomainName.apply(this,arguments);}return resolveDomainName;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){throw new NotImplemented();});function getCustomRpcEndpointStatus(_x11){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.checkFeeSupportInfo=function(){var _checkFeeSupportInfo=_asyncToGenerator(function*(params){throw new NotImplemented();});function checkFeeSupportInfo(_x12){return _checkFeeSupportInfo.apply(this,arguments);}return checkFeeSupportInfo;}();_proto.fetchTokenDetails=function(){var _fetchTokenDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenDetailsByRpc(params);}return this.fetchTokenDetailsByApi(params);});function fetchTokenDetails(_x13){return _fetchTokenDetails.apply(this,arguments);}return fetchTokenDetails;}();_proto.fetchTokenDetailsByApi=function(){var _fetchTokenDetailsByApi=_asyncToGenerator(function*(params){var _params$signal;var client=yield this.backgroundApi.serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/token/search',_omit(params,['walletId','accountId','signal']),{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId,walletId:params.walletId}),signal:(_params$signal=params.signal)!=null?_params$signal:undefined});return resp;});function fetchTokenDetailsByApi(_x14){return _fetchTokenDetailsByApi.apply(this,arguments);}return fetchTokenDetailsByApi;}();_proto.fetchTokenDetailsByRpc=function(){var _fetchTokenDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenDetailsByRpc(_x15){return _fetchTokenDetailsByRpc.apply(this,arguments);}return fetchTokenDetailsByRpc;}();return _createClass(VaultBaseChainOnly);}(VaultContext);export var VaultBase=function(_VaultBaseChainOnly){_inherits(VaultBase,_VaultBaseChainOnly);var _super2=_createSuper(VaultBase);function VaultBase(...args){var _this;_this=_super2.call(this,...args);_this.uuid=generateUUID();return _this;}var _proto2=VaultBase.prototype;_proto2.init=function(){var _init=_asyncToGenerator(function*(config){yield this.initKeyring(config);});function init(_x16){return _init.apply(this,arguments);}return init;}();_proto2.initKeyring=function(){var _initKeyring=_asyncToGenerator(function*(config){if(!this.options.isChainOnly){this.keyring=yield config.keyringCreator(this);}});function initKeyring(_x17){return _initKeyring.apply(this,arguments);}return initKeyring;}();_proto2.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(params){var{signedTx}=params;var txid=yield this.backgroundApi.serviceSend.broadcastTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransaction(_x18){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();_proto2.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function broadcastTransactionFromCustomRpc(_x19){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto2.validateSendAmount=function(){var _validateSendAmount=_asyncToGenerator(function*(params){return Promise.resolve(true);});function validateSendAmount(_x20){return _validateSendAmount.apply(this,arguments);}return validateSendAmount;}();_proto2.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return null;});function buildOnChainHistoryTxExtraInfo(_x21){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto2.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){return Promise.resolve(true);});function precheckUnsignedTx(_x22){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto2.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildEstimateFeeParams(_x23){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto2.buildParseTransactionParams=function(){var _buildParseTransactionParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildParseTransactionParams(_x24){return _buildParseTransactionParams.apply(this,arguments);}return buildParseTransactionParams;}();_proto2.buildFetchHistoryListParams=function(){var _buildFetchHistoryListParams=_asyncToGenerator(function*(params){return Promise.resolve({});});function buildFetchHistoryListParams(_x25){return _buildFetchHistoryListParams.apply(this,arguments);}return buildFetchHistoryListParams;}();_proto2.buildHistoryTx=function(){var _buildHistoryTx=_asyncToGenerator(function*(params){var{historyTxToMerge,decodedTx,signedTx,isSigner,isLocalCreated}=params;var accountAddress=params.accountAddress||'';var xpub=params.xpub;var txid=signedTx?.txid||decodedTx?.txid||'';if(!txid){throw new Error('buildHistoryTx txid not found');}var{accountId,networkId}=decodedTx;try{var[a,x]=yield Promise.all([this.backgroundApi.serviceAccount.getAccountAddressForApi({accountId,networkId}),this.backgroundApi.serviceAccount.getAccountXpub({accountId,networkId})]);accountAddress=a;xpub=x;}catch(e){}decodedTx.txid=txid||decodedTx.txid;decodedTx.owner=accountAddress;decodedTx.xpub=xpub;if(isSigner){decodedTx.signer=accountAddress;}var historyId=accountUtils.buildLocalHistoryId({networkId,txid,accountAddress,xpub});var historyTx=_objectSpread(_objectSpread({id:historyId,isLocalCreated:Boolean(isLocalCreated)},historyTxToMerge),{},{decodedTx});return Promise.resolve(historyTx);});function buildHistoryTx(_x26){return _buildHistoryTx.apply(this,arguments);}return buildHistoryTx;}();_proto2.buildOnChainHistoryTx=function(){var _buildOnChainHistoryTx=_asyncToGenerator(function*(params){var{accountId:originAccountId,networkId:originNetworkId,onChainHistoryTx,tokens,nfts,accountAddress:originAccountAddress,xpub:originXpub,allNetworkHistoryExtraItems}=params;var accountId=originAccountId;var networkId=originNetworkId;var accountAddress=originAccountAddress;var xpub=originXpub;if(originNetworkId===getNetworkIdsMap().onekeyall){var allNetworkAccount=allNetworkHistoryExtraItems?.find(function(i){var[_,txXpub]=onChainHistoryTx.key.split('_');if(!_isNil(i.accountXpub)){return i.networkId===onChainHistoryTx.networkId&&i.accountXpub===txXpub;}return i.networkId===onChainHistoryTx.networkId;});if(allNetworkAccount){accountId=allNetworkAccount.accountId;networkId=allNetworkAccount.networkId;accountAddress=allNetworkAccount.accountAddress;xpub=allNetworkAccount.accountXpub;}}var vaultSettings=yield this.backgroundApi.serviceNetwork.getVaultSettings({networkId});try{var action=yield this.buildHistoryTxAction({tx:onChainHistoryTx,tokens,nfts});var decodedTx={txid:onChainHistoryTx.tx,owner:accountAddress,signer:onChainHistoryTx.from,to:onChainHistoryTx.to,nonce:onChainHistoryTx.nonce,actions:[action],status:getOnChainHistoryTxStatus(onChainHistoryTx.status),networkId,accountId,xpub,totalFeeInNative:onChainHistoryTx.gasFee,totalFeeFiatValue:onChainHistoryTx.gasFeeFiatValue,nativeAmount:vaultSettings.isUtxo?onChainHistoryTx.value:undefined,extraInfo:yield this.buildOnChainHistoryTxExtraInfo({onChainHistoryTx}),payload:{type:onChainHistoryTx.type,value:onChainHistoryTx.value,label:onChainHistoryTx.label}};decodedTx.updatedAt=new Date(onChainHistoryTx.timestamp*1000).getTime();decodedTx.createdAt=decodedTx.updatedAt;decodedTx.isFinal=true;return yield this.buildHistoryTx({decodedTx,accountAddress,xpub});}catch(e){return null;}});function buildOnChainHistoryTx(_x27){return _buildOnChainHistoryTx.apply(this,arguments);}return buildOnChainHistoryTx;}();_proto2.buildHistoryTxAction=function(){var _buildHistoryTxAction=_asyncToGenerator(function*({tx,tokens,nfts}){if(tx.type===EOnChainHistoryTxType.Approve&&tx.tokenApprove){return this.buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove:tx.tokenApprove});}if(_isEmpty(tx.sends)&&_isEmpty(tx.receives)){if(tx.type)return this.buildHistoryTxFunctionCallAction({tx});return this.buildHistoryTxUnknownAction({tx});}return this.buildHistoryTransferAction({tx,tokens,nfts});});function buildHistoryTxAction(_x28){return _buildHistoryTxAction.apply(this,arguments);}return buildHistoryTxAction;}();_proto2.buildHistoryTxFunctionCallAction=function(){var _buildHistoryTxFunctionCallAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.FUNCTION_CALL,functionCall:{from:tx.from,to:tx.to,functionName:tx.label,functionHash:tx.functionCode,args:tx.params}};});function buildHistoryTxFunctionCallAction(_x29){return _buildHistoryTxFunctionCallAction.apply(this,arguments);}return buildHistoryTxFunctionCallAction;}();_proto2.buildHistoryTxUnknownAction=function(){var _buildHistoryTxUnknownAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:tx.from,to:tx.to,label:tx.label}};});function buildHistoryTxUnknownAction(_x30){return _buildHistoryTxUnknownAction.apply(this,arguments);}return buildHistoryTxUnknownAction;}();_proto2.buildHistoryTransferAction=function(){var _buildHistoryTransferAction=_asyncToGenerator(function*({tx,tokens,nfts}){var _this2=this;return{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:tx.from,to:tx.to,label:tx.label,sends:tx.sends.map(function(send){return _this2.buildHistoryTransfer({transfer:send,tokens,nfts});}),receives:tx.receives.map(function(receive){return _this2.buildHistoryTransfer({transfer:receive,tokens,nfts});})}};});function buildHistoryTransferAction(_x31){return _buildHistoryTransferAction.apply(this,arguments);}return buildHistoryTransferAction;}();_proto2.buildHistoryTransfer=function buildHistoryTransfer({transfer,tokens,nfts}){var{icon,symbol,name,isNFT,isNative,price}=getOnChainHistoryTxAssetInfo({key:transfer.key,tokenAddress:transfer.token,tokens,nfts});return{from:transfer.from,to:transfer.to,tokenIdOnNetwork:transfer.token,amount:transfer.amount,label:transfer.label,isOwn:transfer.isOwn,icon,name,symbol,isNFT,isNative,price};};_proto2.buildHistoryTxApproveAction=function buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove}){var{icon,symbol,name,decimals}=getOnChainHistoryTxAssetInfo({key:tokenApprove.key,tokenAddress:tokenApprove.token,tokens,nfts});return{type:EDecodedTxActionType.TOKEN_APPROVE,tokenApprove:{from:tx.from,to:tx.to,spender:tokenApprove.spender,icon,name,symbol,decimals,label:tx.label,tokenIdOnNetwork:tokenApprove.token,amount:new BigNumber(tokenApprove.amount).shiftedBy(-decimals).toFixed(),isInfiniteAmount:tokenApprove.isInfiniteAmount}};};_proto2.buildTxTransferAssetAction=function(){var _buildTxTransferAssetAction=_asyncToGenerator(function*(params){var{from,to,transfers,data,application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId}=params;var[accountAddress,network]=yield Promise.all([this.getAccountAddress(),this.getNetwork()]);var sendNativeTokenAmountBN=new BigNumber(0);var assetTransfer={from,to,sends:[],receives:[],application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId};transfers.forEach(function(transfer){if(buildTxActionDirection({from:transfer.from,to:transfer.to,accountAddress})===EDecodedTxDirection.OUT){assetTransfer.sends.push(transfer);if(transfer.isNative){sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(new BigNumber(transfer.amount));}}else{assetTransfer.receives.push(transfer);}});assetTransfer.nativeAmount=sendNativeTokenAmountBN.toFixed();assetTransfer.nativeAmountValue=chainValueUtils.convertAmountToChainValue({value:sendNativeTokenAmountBN,network});return{type:EDecodedTxActionType.ASSET_TRANSFER,data,assetTransfer};});function buildTxTransferAssetAction(_x32){return _buildTxTransferAssetAction.apply(this,arguments);}return buildTxTransferAssetAction;}();_proto2.buildInternalSwapAction=function(){var _buildInternalSwapAction=_asyncToGenerator(function*(params){var _swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam,_providerInfo$provide;var{swapData,swapInfo,swapToAddress}=params;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;var otherFeeInfos=swapInfo.swapBuildResData.result.fee?.otherFeeInfos;var otherFeeInfoTransfers=[];var transfers=[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative}];if(otherFeeInfos){otherFeeInfos.forEach(function(feeInfo){if(feeInfo.token.contractAddress===transfers[0].tokenIdOnNetwork){transfers[0].amount=new BigNumber(transfers[0].amount).plus(feeInfo.amount).toFixed();}else{var _feeInfo$token$logoUR,_feeInfo$token$name;otherFeeInfoTransfers.push({from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:feeInfo.token.contractAddress,icon:(_feeInfo$token$logoUR=feeInfo.token.logoURI)!=null?_feeInfo$token$logoUR:'',name:(_feeInfo$token$name=feeInfo.token.name)!=null?_feeInfo$token$name:'',symbol:feeInfo.token.symbol,amount:feeInfo.amount,isNFT:false,isNative:feeInfo.token.isNative});}});}transfers=[...otherFeeInfoTransfers,...transfers];var action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:swapToAddress!=null?swapToAddress:'',data:swapData,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId,transfers});return action;});function buildInternalSwapAction(_x33){return _buildInternalSwapAction.apply(this,arguments);}return buildInternalSwapAction;}();_proto2.buildInternalStakingAction=function(){var _buildInternalStakingAction=_asyncToGenerator(function*(params){var _send$token$logoURI,_send$token$name,_receive$token$logoUR,_receive$token$name;var{stakingInfo,stakingData,accountAddress,stakingToAddress}=params;var{protocol,protocolLogoURI,send,receive}=stakingInfo;var transfers=[send&&{from:accountAddress,to:'',tokenIdOnNetwork:send.token.address,icon:(_send$token$logoURI=send.token.logoURI)!=null?_send$token$logoURI:'',name:(_send$token$name=send.token.name)!=null?_send$token$name:'',symbol:send.token.symbol,amount:send.amount,isNFT:false,isNative:send.token.isNative},receive&&{from:'',to:accountAddress,tokenIdOnNetwork:receive.token.address,icon:(_receive$token$logoUR=receive.token.logoURI)!=null?_receive$token$logoUR:'',name:(_receive$token$name=receive.token.name)!=null?_receive$token$name:'',symbol:receive.token.symbol,amount:receive.amount,isNFT:false,isNative:receive.token.isNative}].filter(Boolean);var action=yield this.buildTxTransferAssetAction({from:accountAddress,to:stakingToAddress!=null?stakingToAddress:'',data:stakingData,application:{name:protocol,icon:protocolLogoURI!=null?protocolLogoURI:''},isInternalStaking:true,internalStakingLabel:getStakingActionLabel({stakingInfo}),transfers});return action;});function buildInternalStakingAction(_x34){return _buildInternalStakingAction.apply(this,arguments);}return buildInternalStakingAction;}();_proto2.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _params$signOnly,_signedTx$encodedTx;var{unsignedTx}=params;params.signOnly=(_params$signOnly=params.signOnly)!=null?_params$signOnly:true;var signedTx=yield this.keyring.signTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{encodedTx:(_signedTx$encodedTx=signedTx.encodedTx)!=null?_signedTx$encodedTx:unsignedTx.encodedTx});});function signTransaction(_x35){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto2.getAccount=function(){var _getAccount=_asyncToGenerator(function*({dbAccount}={}){var account=dbAccount;if(!account||account?.id!==this.accountId){account=yield this.backgroundApi.serviceAccount.getDBAccount({accountId:this.accountId});}if(!accountUtils.isAccountCompatibleWithNetwork({account,networkId:this.networkId})){throw new Error(`account impl not matched to network: ${this.networkId} ${account.id?.slice(0,30)}`);}var networkInfo=yield this.getNetworkInfo();var externalAccount=account;var externalAccountAddress='';if(externalAccount.connectedAddresses){var buildExternalAccountAddress=function({key,fallbackIndex}){var _externalAccount$sele;if(!key){return'';}var index=(_externalAccount$sele=externalAccount.selectedAddress?.[key])!=null?_externalAccount$sele:fallbackIndex;var addresses=externalAccount.connectedAddresses?.[key]?.split(',').filter(Boolean)||[];return addresses?.[index]||addresses?.[fallbackIndex]||'';};externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:-1});if(!externalAccountAddress){var impl=yield this.getNetworkImpl();externalAccountAddress=buildExternalAccountAddress({key:impl,fallbackIndex:0});}if(!externalAccountAddress){externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:0});}}var addressDetail=yield this.buildAccountAddressDetail({networkInfo,account,networkId:this.networkId,externalAccountAddress});var address=addressDetail?.address||'';if(!address&&!addressDetail.allowEmptyAddress||!addressDetail.isValid){throw new Error('VaultBase.getAccount ERROR: address is invalid');}return _objectSpread(_objectSpread({},account),{},{addressDetail,address});});function getAccount(){return _getAccount.apply(this,arguments);}return getAccount;}();_proto2.getAccountAddress=function(){var _getAccountAddress=_asyncToGenerator(function*(){return(yield this.getAccount()).address;});function getAccountAddress(){return _getAccountAddress.apply(this,arguments);}return getAccountAddress;}();_proto2.getAccountPath=function(){var _getAccountPath=_asyncToGenerator(function*(){return(yield this.getAccount()).path;});function getAccountPath(){return _getAccountPath.apply(this,arguments);}return getAccountPath;}();_proto2.getAccountXpub=function(){var _getAccountXpub=_asyncToGenerator(function*({dbAccount}={}){var networkAccount=yield this.getAccount({dbAccount});return this.getXpubFromAccount(networkAccount);});function getAccountXpub(){return _getAccountXpub.apply(this,arguments);}return getAccountXpub;}();_proto2.fillTokensDetails=function(){var _fillTokensDetails=_asyncToGenerator(function*({tokensDetails}){return Promise.resolve(tokensDetails);});function fillTokensDetails(_x36){return _fillTokensDetails.apply(this,arguments);}return fillTokensDetails;}();_proto2.fillAccountDetails=function(){var _fillAccountDetails=_asyncToGenerator(function*({accountDetails}){return Promise.resolve(accountDetails);});function fillAccountDetails(_x37){return _fillAccountDetails.apply(this,arguments);}return fillAccountDetails;}();_proto2.isEarliestLocalPendingTx=function(){var _isEarliestLocalPendingTx=_asyncToGenerator(function*({encodedTx}){return true;});function isEarliestLocalPendingTx(_x38){return _isEarliestLocalPendingTx.apply(this,arguments);}return isEarliestLocalPendingTx;}();_proto2.buildReplaceEncodedTx=function(){var _buildReplaceEncodedTx=_asyncToGenerator(function*({decodedTx,replaceType}){return Promise.resolve(decodedTx.encodedTx);});function buildReplaceEncodedTx(_x39){return _buildReplaceEncodedTx.apply(this,arguments);}return buildReplaceEncodedTx;}();_proto2.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){return Promise.resolve(params.encodedTx);});function attachFeeInfoToDAppEncodedTx(_x40){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto2.activateToken=function(){var _activateToken=_asyncToGenerator(function*(params){throw new NotImplemented();});function activateToken(_x41){return _activateToken.apply(this,arguments);}return activateToken;}();_proto2.getAddressType=function(){var _getAddressType=_asyncToGenerator(function*({address}){return Promise.resolve({});});function getAddressType(_x42){return _getAddressType.apply(this,arguments);}return getAddressType;}();_proto2.buildStakeEncodedTx=function buildStakeEncodedTx(params){return Promise.resolve(params);};_proto2.fetchAccountDetails=function(){var _fetchAccountDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountDetailsByRpc(params);}return this.fetchAccountDetailsByApi(params);});function fetchAccountDetails(_x43){return _fetchAccountDetails.apply(this,arguments);}return fetchAccountDetails;}();_proto2.fetchAccountDetailsByApi=function(){var _fetchAccountDetailsByApi=_asyncToGenerator(function*(params){var queryParams=_objectSpread({},_omit(params,['accountId','signal']));var client=yield this.backgroundApi.serviceAccountProfile.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get(`/wallet/v1/account/get-account?${qs.stringify(_omitBy(queryParams,_isNil))}`,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId}),signal:params.signal});return resp;});function fetchAccountDetailsByApi(_x44){return _fetchAccountDetailsByApi.apply(this,arguments);}return fetchAccountDetailsByApi;}();_proto2.fetchAccountDetailsByRpc=function(){var _fetchAccountDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountDetailsByRpc(_x45){return _fetchAccountDetailsByRpc.apply(this,arguments);}return fetchAccountDetailsByRpc;}();_proto2.fetchTokenList=function(){var _fetchTokenList=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenListByRpc(params);}return this.fetchTokenListByApi(params);});function fetchTokenList(_x46){return _fetchTokenList.apply(this,arguments);}return fetchTokenList;}();_proto2.fetchTokenListByApi=function(){var _fetchTokenListByApi=_asyncToGenerator(function*(params){var{serviceToken,serviceAccountProfile}=this.backgroundApi;var{requestApiParams,flag,signal,accountId}=params;if(requestApiParams.contractList){requestApiParams.contractList=requestApiParams.contractList.filter(function(contract){return contract!==null&&typeof contract==='string';});}var client=yield serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post(`/wallet/v1/account/token/list?flag=${flag||''}`,requestApiParams,{signal,headers:yield serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchTokenListByApi(_x47){return _fetchTokenListByApi.apply(this,arguments);}return fetchTokenListByApi;}();_proto2.fetchTokenListByRpc=function(){var _fetchTokenListByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenListByRpc(_x48){return _fetchTokenListByRpc.apply(this,arguments);}return fetchTokenListByRpc;}();_proto2.estimateFee=function(){var _estimateFee=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.estimateFeeByRpc(params);}return this.estimateFeeByApi(params);});function estimateFee(_x49){return _estimateFee.apply(this,arguments);}return estimateFee;}();_proto2.estimateFeeByApi=function(){var _estimateFeeByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/estimate-fee',rest,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function estimateFeeByApi(_x50){return _estimateFeeByApi.apply(this,arguments);}return estimateFeeByApi;}();_proto2.estimateFeeByRpc=function(){var _estimateFeeByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function estimateFeeByRpc(_x51){return _estimateFeeByRpc.apply(this,arguments);}return estimateFeeByRpc;}();_proto2.fetchAccountHistoryDetail=function(){var _fetchAccountHistoryDetail=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountHistoryDetailByRpc(params);}return this.fetchAccountHistoryDetailByApi(params);});function fetchAccountHistoryDetail(_x52){return _fetchAccountHistoryDetail.apply(this,arguments);}return fetchAccountHistoryDetail;}();_proto2.fetchAccountHistoryDetailByApi=function(){var _fetchAccountHistoryDetailByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded2);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get('/wallet/v1/account/history/detail',{params:rest,headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchAccountHistoryDetailByApi(_x53){return _fetchAccountHistoryDetailByApi.apply(this,arguments);}return fetchAccountHistoryDetailByApi;}();_proto2.fetchAccountHistoryDetailByRpc=function(){var _fetchAccountHistoryDetailByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountHistoryDetailByRpc(_x54){return _fetchAccountHistoryDetailByRpc.apply(this,arguments);}return fetchAccountHistoryDetailByRpc;}();_proto2.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){throw new NotImplemented();});function buildOkxSwapEncodedTx(_x55){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();return _createClass(VaultBase);}(VaultBaseChainOnly);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{getVaultSettings as _getVaultSettings,getVaultSettingsNetworkInfo}from\"../settings\";export var VaultContext=function(){function VaultContext(options){this.options=options;this.networkId=options.networkId||'';this.accountId=options.accountId||'';this.backgroundApi=options.backgroundApi;this.walletId=options.walletId||(this.accountId?accountUtils.getWalletIdFromAccountId({accountId:this.accountId}):'');if(!this.walletId&&!this.options.isChainOnly){throw new Error('can not get correct walletId');}}var _proto=VaultContext.prototype;_proto.getNetworkId=function(){var _getNetworkId=_asyncToGenerator(function*(){return this.networkId;});function getNetworkId(){return _getNetworkId.apply(this,arguments);}return getNetworkId;}();_proto.getNetwork=function(){var _getNetwork=_asyncToGenerator(function*({cached}={}){if(!cached||!this._network||this._network.id!==this.networkId){var network=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:this.networkId});this._network=network;}return this._network;});function getNetwork(){return _getNetwork.apply(this,arguments);}return getNetwork;}();_proto.getNetworkChainId=function(){var _getNetworkChainId=_asyncToGenerator(function*({hex=false}={}){return networkUtils.getNetworkChainId({networkId:this.networkId,hex});});function getNetworkChainId(){return _getNetworkChainId.apply(this,arguments);}return getNetworkChainId;}();_proto.getNetworkImpl=function(){var _getNetworkImpl=_asyncToGenerator(function*(){return networkUtils.getNetworkImpl({networkId:this.networkId});});function getNetworkImpl(){return _getNetworkImpl.apply(this,arguments);}return getNetworkImpl;}();_proto.getVaultSettings=function(){var _getVaultSettings2=_asyncToGenerator(function*(){return _getVaultSettings({networkId:this.networkId});});function getVaultSettings(){return _getVaultSettings2.apply(this,arguments);}return getVaultSettings;}();_proto.getNetworkInfo=function(){var _getNetworkInfo=_asyncToGenerator(function*(){return getVaultSettingsNetworkInfo({networkId:this.networkId});});function getNetworkInfo(){return _getNetworkInfo.apply(this,arguments);}return getNetworkInfo;}();_proto.getCoreApiNetworkInfo=function(){var _getCoreApiNetworkInfo=_asyncToGenerator(function*(){var network=yield this.getNetwork();var networkInfo=yield this.getNetworkInfo();var{addressPrefix,curve}=networkInfo;var networkImpl=yield this.getNetworkImpl();var chainId=yield this.getNetworkChainId({hex:false});var{isTestnet}=network;var{networkId}=this;return{isTestnet,networkChainCode:network.code,chainId,networkId,networkImpl,addressPrefix,curve};});function getCoreApiNetworkInfo(){return _getCoreApiNetworkInfo.apply(this,arguments);}return getCoreApiNetworkInfo;}();_proto.getRpcUrl=function(){var _getRpcUrl=_asyncToGenerator(function*(){return'';});function getRpcUrl(){return _getRpcUrl.apply(this,arguments);}return getRpcUrl;}();_proto.destroy=function(){var _destroy=_asyncToGenerator(function*(){});function destroy(){return _destroy.apply(this,arguments);}return destroy;}();return _createClass(VaultContext);}();","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{KeyringExternalBase}from\"../../base/KeyringExternalBase\";export var KeyringExternal=function(_KeyringExternalBase){_inherits(KeyringExternal,_KeyringExternalBase);var _super=_createSuper(KeyringExternal);function KeyringExternal(){return _super.apply(this,arguments);}var _proto=KeyringExternal.prototype;_proto.signMessage=function signMessage(params){throw new NotImplemented();};_proto.signTransaction=function signTransaction(params){throw new NotImplemented();};return _createClass(KeyringExternal);}(KeyringExternalBase);","import{keccak256}from'@ethersproject/keccak256';import{BigInteger}from'biginteger';import BigNumber from'bignumber.js';var CRYPTONOTE_PUBLIC_ADDRESS_BASE58_PREFIX=185;var CRYPTONOTE_PUBLIC_INTEGRATED_ADDRESS_BASE58_PREFIX=29;var CRYPTONOTE_PUBLIC_SUBADDRESS_BASE58_PREFIX=52;export function encodeVarInt(number){var numberBI=new BigInteger(number);var out='';while(numberBI.compare(0x80)>=0){out+=`0${(numberBI.lowVal()&0x7f|0x80).toString(16)}`.slice(-2);numberBI=numberBI.divide(new BigInteger(2).pow(7));}out+=`0${numberBI.toJSValue().toString(16)}`.slice(-2);return out;}export function integerToLittleEndianHex({number,bytes}){var _hexString$match;var hexString=number.toString(16);if(hexString.length%2!==0){hexString=`0${hexString}`;}while(hexString.length/2<bytes){hexString=`00${hexString}`;}var littleEndianHex=((_hexString$match=hexString.match(/.{2}/g))!=null?_hexString$match:[]).reverse().join('');return littleEndianHex;}export function hexToBin(hex){if(hex.length%2!==0)throw new Error('Hex string has invalid length!');var result=new Uint8Array(hex.length/2);for(var i=0;i<hex.length/2;i+=1){result[i]=parseInt(hex.slice(i*2,i*2+2),16);}return result;}export function validHex(hex){var exp=new RegExp(`[0-9a-fA-F]{${hex.length}}`);return exp.test(hex);}export function cnFastHash(input){if(input.length%2!==0||!validHex(input)){throw new Error('Input invalid');}return keccak256(hexToBin(input));}export function strToBin(str){var res=new Uint8Array(str.length);for(var i=0;i<str.length;i+=1){res[i]=str.charCodeAt(i);}return res;}export function binToHex(bin){var out=[];for(var i=0;i<bin.length;i+=1){out.push(`0${bin[i].toString(16)}`.slice(-2));}return out.join('');}export function uint64To8be(num,size){var numBN=new BigNumber(num);var res=new Uint8Array(size);if(size<1||size>8){throw new Error('Invalid input length');}var twopow8=new BigNumber(2).pow(8);for(var i=size-1;i>=0;i-=1){res[i]=numBN.mod(twopow8).toNumber();numBN=numBN.dividedToIntegerBy(twopow8);}return res;}export function cnBase58Decode(address){var alphabetStr='123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';var alphabet=[];for(var i=0;i<alphabetStr.length;i+=1){alphabet.push(alphabetStr.charCodeAt(i));}var encodedBlockSizes=[0,2,3,5,6,7,9,10,11];var alphabetSize=alphabet.length;var fullBlockSize=8;var fullEncodedBlockSize=11;var UINT64_MAX=new BigNumber(2).pow(64);var decodeBlock=function(data,buf,index){if(data.length<1||data.length>fullEncodedBlockSize){throw new Error(`Invalid block length: ${data.length}`);}var resSize=encodedBlockSizes.indexOf(data.length);if(resSize<=0){throw new Error('Invalid block size');}var resNum=new BigNumber(0);var order=new BigNumber(1);for(var _i=data.length-1;_i>=0;_i-=1){var digit=alphabet.indexOf(data[_i]);if(digit<0){throw new Error('Invalid symbol');}var product=order.multipliedBy(digit).plus(resNum);if(product.comparedTo(UINT64_MAX)===1){throw new Error('Overflow');}resNum=product;order=order.multipliedBy(alphabetSize);}if(resSize<fullBlockSize&&new BigNumber(2).pow(8*resSize).comparedTo(resNum)<=0){throw new Error('Overflow 2');}buf.set(uint64To8be(resNum,resSize),index);return buf;};var addressArray=strToBin(address);if(addressArray.length===0){return'';}var fullBlockCount=Math.floor(addressArray.length/fullEncodedBlockSize);var lastBlockSize=addressArray.length%fullEncodedBlockSize;var lastBlockDecodedSize=encodedBlockSizes.indexOf(lastBlockSize);if(lastBlockDecodedSize<0){throw new Error('Invalid encoded length');}var dataSize=fullBlockCount*fullBlockSize+lastBlockDecodedSize;var data=new Uint8Array(dataSize);for(var _i2=0;_i2<fullBlockCount;_i2+=1){decodeBlock(addressArray.subarray(_i2*fullEncodedBlockSize,_i2*fullEncodedBlockSize+fullEncodedBlockSize),data,_i2*fullBlockSize);}if(lastBlockSize>0){decodeBlock(addressArray.subarray(fullBlockCount*fullEncodedBlockSize,fullBlockCount*fullEncodedBlockSize+lastBlockSize),data,fullBlockCount*fullBlockSize);}return binToHex(data);}export function decodeAddress(address){var dec=cnBase58Decode(address);var expectedPrefix=encodeVarInt(CRYPTONOTE_PUBLIC_ADDRESS_BASE58_PREFIX);var expectedPrefixInt=encodeVarInt(CRYPTONOTE_PUBLIC_INTEGRATED_ADDRESS_BASE58_PREFIX);var expectedPrefixSub=encodeVarInt(CRYPTONOTE_PUBLIC_SUBADDRESS_BASE58_PREFIX);var prefix=dec.slice(0,expectedPrefix.length);if(prefix!==expectedPrefix&&prefix!==expectedPrefixInt&&prefix!==expectedPrefixSub){throw new Error('Invalid address prefix');}dec=dec.slice(expectedPrefix.length);var spend=dec.slice(0,64);var view=dec.slice(64,128);return{spend,view};}export function serializeTransaction({signTxParams,encodedTx,payload}){var rawTx='';var{txKey,computedKeyImages,signatures,outputKeys}=payload;var version='01';var unlockTime='00';var inputTypeTag='02';var outputTypeTag='02';var txPubkeyTag='01';var fromAddressTag='04';var toAddressTag='05';var amountTag='06';var txSecTag='07';var extraNonceTag='02';var extraNoncePaymentIdTag='00';var decodedFrom=decodeAddress(encodedTx.from);var decodedTo=decodeAddress(encodedTx.to);var totalInputAmountBN=signTxParams.inputs.reduce(function(acc,input){return acc.plus(input.amount);},new BigNumber(0));var chargeAmount=totalInputAmountBN.minus(signTxParams.amount).minus(signTxParams.fee);rawTx+=version;rawTx+=unlockTime;rawTx+=encodeVarInt(signTxParams.inputs.length);for(var i=0;i<signTxParams.inputs.length;i+=1){var input=signTxParams.inputs[i];rawTx+=inputTypeTag;rawTx+=encodeVarInt(input.amount);rawTx+=encodeVarInt(1);rawTx+=encodeVarInt(input.globalIndex);rawTx+=computedKeyImages[i];}rawTx+=encodeVarInt(outputKeys.length);for(var _i3=0;_i3<outputKeys.length;_i3+=1){var outputKey=outputKeys[_i3];rawTx+=encodeVarInt(_i3===outputKeys.length-1&&chargeAmount.gt(0)?chargeAmount.toNumber():Number(signTxParams.amount));rawTx+=outputTypeTag;rawTx+=outputKey;}var extra='';if(signTxParams.paymentIdHex){extra+=extraNonceTag;extra+='21';extra+=extraNoncePaymentIdTag;extra+=signTxParams.paymentIdHex;}extra+=txPubkeyTag;extra+=txKey.ephemeralTxPubKey;extra+=fromAddressTag;extra+=decodedFrom.spend;extra+=decodedFrom.view;extra+=toAddressTag;extra+=decodedTo.spend;extra+=decodedTo.view;extra+=amountTag;extra+=integerToLittleEndianHex({number:Number(signTxParams.amount),bytes:8});extra+=txSecTag;extra+=txKey.ephemeralTxSecKey;rawTx+=encodeVarInt(extra.length/2);rawTx+=extra;for(var signature of signatures){rawTx+=signature;}return rawTx;}","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import BigNumber from'bignumber.js';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{NotImplemented}from'@onekeyhq/shared/src/errors';import{convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{KeyringHardwareBase}from\"../../base/KeyringHardwareBase\";import{cnFastHash,serializeTransaction}from\"./utils\";export var KeyringHardware=function(_KeyringHardwareBase){_inherits(KeyringHardware,_KeyringHardwareBase);var _super=_createSuper(KeyringHardware);function KeyringHardware(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.dynex.hd;_this.hwSdkNetwork='dynex';return _this;}var _proto=KeyringHardware.prototype;_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return{network:this.hwSdkNetwork,path:params.path,showOnOneKey:false};});function buildHwAllNetworkPrepareAccountsParams(_x){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.prepareAccounts=function prepareAccounts(params){var _this2=this;return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref=_asyncToGenerator(function*({usedIndexes}){var dnxAddresses=yield _this2.baseGetDeviceAccountAddresses({params,usedIndexes,sdkGetAddressFn:function(){var _ref2=_asyncToGenerator(function*({connectId,deviceId,pathPrefix,pathSuffix,template,showOnOnekeyFn}){var buildFullPath=function(p){return accountUtils.buildPathFromTemplate({template,index:p.index});};var allNetworkAccounts=yield _this2.getAllNetworkPrepareAccounts({params,usedIndexes,buildPath:buildFullPath,buildResultAccount:function({account}){return{path:account.path,address:account.payload?.address||'',pub:account.payload?.pub||''};},hwSdkNetwork:_this2.hwSdkNetwork});if(allNetworkAccounts){return allNetworkAccounts;}throw new Error('use sdk allNetworkGetAddress instead');});return function sdkGetAddressFn(_x3){return _ref2.apply(this,arguments);};}()});var ret=[];var addressRelPath='';for(var i=0;i<dnxAddresses.length;i+=1){var item=dnxAddresses[i];var{path,address}=item;var addressInfo={address:address!=null?address:'',publicKey:'',path,relPath:addressRelPath,xpub:'',addresses:{}};ret.push(addressInfo);}return ret;});return function buildAddressesInfo(_x2){return _ref.apply(this,arguments);};}()});};_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var{unsignedTx,deviceParams}=params;var network=yield this.getNetwork();var encodedTx=unsignedTx.encodedTx;var sdk=yield this.getHardwareSDKInstance();var path=yield this.vault.getAccountPath();var{deviceCommonParams,dbDevice}=checkIsDefined(deviceParams);var{connectId,deviceId}=dbDevice;var signTxParams={path,inputs:encodedTx.inputs,toAddress:encodedTx.to,amount:new BigNumber(encodedTx.amount).shiftedBy(network.decimals).toFixed(),fee:new BigNumber(encodedTx.fee).shiftedBy(network.feeMeta.decimals).toFixed(),paymentIdHex:encodedTx.paymentId};var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdk.dnxSignTransaction(connectId,deviceId,_objectSpread(_objectSpread({},signTxParams),deviceCommonParams));}));var rawTx=serializeTransaction({encodedTx,signTxParams,payload:result});return{txid:hexUtils.stripHexPrefix(cnFastHash(rawTx)),rawTx,encodedTx:unsignedTx.encodedTx};});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function signMessage(params){throw new NotImplemented();};return _createClass(KeyringHardware);}(KeyringHardwareBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{NotImplemented}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import{KeyringHdBase}from\"../../base/KeyringHdBase\";export var KeyringHd=function(_KeyringHdBase){_inherits(KeyringHd,_KeyringHdBase);var _super=_createSuper(KeyringHd);function KeyringHd(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.dynex.hd;return _this;}var _proto=KeyringHd.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(){throw new NotImplemented('Method not implemented');});function getPrivateKeys(){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(){throw new Error(appLocale.intl.formatMessage({id:ETranslations.global_bulk_add_account_dnx_error}));});function prepareAccounts(){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new NotImplemented('Method not implemented');});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new NotImplemented('Method not implemented');});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringHd);}(KeyringHdBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{NotImplemented}from'@onekeyhq/shared/src/errors';import{KeyringImportedBase}from\"../../base/KeyringImportedBase\";export var KeyringImported=function(_KeyringImportedBase){_inherits(KeyringImported,_KeyringImportedBase);var _super=_createSuper(KeyringImported);function KeyringImported(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.dynex.imported;return _this;}var _proto=KeyringImported.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(){throw new NotImplemented('Method not implemented');});function getPrivateKeys(){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(){throw new NotImplemented('Method not implemented');});function prepareAccounts(){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new NotImplemented('Method not implemented');});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new NotImplemented('Method not implemented');});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringImported);}(KeyringImportedBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{KeyringWatchingBase}from\"../../base/KeyringWatchingBase\";export var KeyringWatching=function(_KeyringWatchingBase){_inherits(KeyringWatching,_KeyringWatchingBase);var _super=_createSuper(KeyringWatching);function KeyringWatching(){return _super.apply(this,arguments);}var _proto=KeyringWatching.prototype;_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return _get(_getPrototypeOf(KeyringWatching.prototype),\"basePrepareSimpleWatchingAccounts\",this).call(this,params);});function prepareAccounts(_x){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringWatching);}(KeyringWatchingBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import Axios from'axios';import{JsonRPCRequest}from'@onekeyhq/shared/src/request/JsonRPCRequest';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';export var ClientDnx=function(){function ClientDnx({url}){this.rpc=new JsonRPCRequest(`${url}/json_rpc`);this.axios=Axios.create({baseURL:url,timeout:timerUtils.getTimeDurationMs({seconds:30})});}var _proto=ClientDnx.prototype;_proto.getBlockCount=function(){var _getBlockCount=_asyncToGenerator(function*(){var resp=yield this.rpc.call('getblockcount',[]);return resp.count;});function getBlockCount(){return _getBlockCount.apply(this,arguments);}return getBlockCount;}();_proto.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*({rawTx}){var resp=yield this.axios.post('/sendrawtransaction',{tx_as_hex:rawTx,do_not_relay:false});if(!resp.data.status||resp.data.status!=='OK')throw new Error('Failed to send transaction');return resp.data.status;});function broadcastTransaction(_x){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();return _createClass(ClientDnx);}();","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isEmpty from\"lodash/isEmpty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import BigNumber from'bignumber.js';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{coinSelect}from'@onekeyhq/core/src/utils/coinSelectUtils';import{InsufficientBalance,NotImplemented,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{memoizee}from'@onekeyhq/shared/src/utils/cacheUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDecodedTxActionType,EDecodedTxStatus}from'@onekeyhq/shared/types/tx';import{VaultBase}from\"../../base/VaultBase\";import{KeyringExternal}from\"./KeyringExternal\";import{KeyringHardware}from\"./KeyringHardware\";import{KeyringHd}from\"./KeyringHd\";import{KeyringImported}from\"./KeyringImported\";import{KeyringWatching}from\"./KeyringWatching\";import{ClientDnx}from\"./sdkDnx/ClientDnx\";var DEFAULT_TX_FEE=1_000_000;var Vault=function(_VaultBase){_inherits(Vault,_VaultBase);var _super=_createSuper(Vault);function Vault(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.dynex.hd;_this.keyringMap={hd:KeyringHd,qr:undefined,hw:KeyringHardware,imported:KeyringImported,watching:KeyringWatching,external:KeyringExternal};_this._collectUnspentOutputs=memoizee(_asyncToGenerator(function*(){try{var{utxoList}=yield _this.backgroundApi.serviceAccountProfile.fetchAccountDetails({networkId:_this.networkId,accountId:_this.accountId,withUTXOList:true,withFrozenBalance:true});if(!utxoList){throw new OneKeyInternalError('Failed to get UTXO list.');}return utxoList.map(function(utxo){return{prevIndex:utxo.vout,globalIndex:utxo.globalIndex,txPubkey:utxo.txPubkey,prevOutPubkey:utxo.prevOutPubkey,amount:Number(utxo.value)};});}catch(e){throw new OneKeyInternalError('Failed to get UTXO list.');}}),{promise:true,max:1,maxAge:timerUtils.getTimeDurationMs({seconds:30})});_this._validateAddressCache=memoizee(function(){var _ref2=_asyncToGenerator(function*(address){try{var res=yield _this.backgroundApi.serviceValidator.serverValidateAddress({networkId:_this.networkId,address});if(res.data.data.isValid){return{normalizedAddress:address,displayAddress:address,isValid:true};}}catch(e){}return{normalizedAddress:'',displayAddress:'',isValid:false};});return function(_x){return _ref2.apply(this,arguments);};}(),{primitive:true,maxAge:timerUtils.getTimeDurationMs({minute:3}),max:10});return _this;}var _proto=Vault.prototype;_proto.buildAccountAddressDetail=function(){var _buildAccountAddressDetail=_asyncToGenerator(function*(params){var{account,networkId}=params;var{address}=account;return{networkId,normalizedAddress:address,displayAddress:address,address,baseAddress:address,isValid:true,allowEmptyAddress:false};});function buildAccountAddressDetail(_x2){return _buildAccountAddressDetail.apply(this,arguments);}return buildAccountAddressDetail;}();_proto.buildEncodedTx=function buildEncodedTx(params){var{transfersInfo}=params;if(transfersInfo&&!_isEmpty(transfersInfo)){if(transfersInfo.length===1){return this._buildEncodedTxFromTransfer({transferInfo:transfersInfo[0]});}throw new OneKeyInternalError('Batch transfers not supported');}throw new OneKeyInternalError();};_proto._buildEncodedTxFromTransfer=function(){var _buildEncodedTxFromTransfer2=_asyncToGenerator(function*(params){var{transferInfo}=params;var{tokenInfo}=transferInfo;if(!transferInfo.to){throw new Error('buildEncodedTx ERROR: transferInfo.to is missing');}if(!tokenInfo){throw new Error('buildEncodedTx ERROR: transferInfo.tokenInfo is missing');}var network=yield this.getNetwork();var unspentOutputs=yield this._collectUnspentOutputs();var{inputs,finalAmount}=this._collectInputs({unspentOutputs,amount:new BigNumber(transferInfo.amount).shiftedBy(network.decimals).toFixed(),fee:new BigNumber(DEFAULT_TX_FEE).toFixed(),network});return{from:transferInfo.from,to:transferInfo.to,amount:new BigNumber(finalAmount).shiftedBy(-network.decimals).toFixed(),paymentId:transferInfo.paymentId,fee:new BigNumber(DEFAULT_TX_FEE).shiftedBy(-network.feeMeta.decimals).toFixed(),inputs};});function _buildEncodedTxFromTransfer(_x3){return _buildEncodedTxFromTransfer2.apply(this,arguments);}return _buildEncodedTxFromTransfer;}();_proto._collectInputs=function _collectInputs({unspentOutputs,amount,fee,network}){var _inputsFromCoinSelect;var finalAmount=new BigNumber(amount);var totalUnspentOutputsAmount=unspentOutputs.reduce(function(acc,output){return acc.plus(output.amount);},new BigNumber(0));if(totalUnspentOutputsAmount.lte(fee)){throw new InsufficientBalance({info:{symbol:network.symbol}});}if(totalUnspentOutputsAmount.lt(new BigNumber(finalAmount).plus(fee))){finalAmount=totalUnspentOutputsAmount.minus(fee);}var inputsForCoinSelect=unspentOutputs.map(function(output){return _objectSpread({txId:'',vout:0,value:output.amount,address:'',path:''},output);});var outputsForCoinSelect=[{address:'',value:finalAmount.plus(fee).toNumber()}];var{inputs:inputsFromCoinSelect}=coinSelect({inputsForCoinSelect,outputsForCoinSelect,feeRate:'0'});return{finalAmount:finalAmount.toFixed(),inputs:(_inputsFromCoinSelect=inputsFromCoinSelect?.map(function(input){var tempInput=input;return{globalIndex:tempInput.globalIndex,prevIndex:tempInput.prevIndex,prevOutPubkey:tempInput.prevOutPubkey,txPubkey:tempInput.txPubkey,amount:tempInput.amount};}))!=null?_inputsFromCoinSelect:[]};};_proto.buildDecodedTx=function(){var _buildDecodedTx=_asyncToGenerator(function*(params){var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var account=yield this.getAccount();var action={type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:encodedTx.from,to:encodedTx.to}};var nativeToken=yield this.backgroundApi.serviceToken.getNativeToken({networkId:this.networkId,accountId:this.accountId});if(nativeToken){var _nativeToken$logoURI;var transfer={from:encodedTx.from,to:encodedTx.to,tokenIdOnNetwork:nativeToken.address,icon:(_nativeToken$logoURI=nativeToken.logoURI)!=null?_nativeToken$logoURI:'',name:nativeToken.name,symbol:nativeToken.symbol,amount:encodedTx.amount,isNFT:false,isNative:true};action=yield this.buildTxTransferAssetAction({from:transfer.from,to:transfer.to,transfers:[transfer]});}var decodedTx={txid:'',owner:account.address,signer:encodedTx.from||account.address,nonce:0,to:encodedTx.to,actions:[action],status:EDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,xpub:account.xpub,encodedTx,extraInfo:{paymentId:encodedTx.paymentId}};return decodedTx;});function buildDecodedTx(_x4){return _buildDecodedTx.apply(this,arguments);}return buildDecodedTx;}();_proto.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return{paymentId:onChainHistoryTx.paymentId};});function buildOnChainHistoryTxExtraInfo(_x5){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto.buildUnsignedTx=function(){var _buildUnsignedTx=_asyncToGenerator(function*(params){var _params$encodedTx;var encodedTx=(_params$encodedTx=params.encodedTx)!=null?_params$encodedTx:yield this.buildEncodedTx(params);if(encodedTx){return this._buildUnsignedTxFromEncodedTx(encodedTx);}throw new OneKeyInternalError();});function buildUnsignedTx(_x6){return _buildUnsignedTx.apply(this,arguments);}return buildUnsignedTx;}();_proto._buildUnsignedTxFromEncodedTx=function(){var _buildUnsignedTxFromEncodedTx2=_asyncToGenerator(function*(encodedTx){return{encodedTx};});function _buildUnsignedTxFromEncodedTx(_x7){return _buildUnsignedTxFromEncodedTx2.apply(this,arguments);}return _buildUnsignedTxFromEncodedTx;}();_proto.updateUnsignedTx=function updateUnsignedTx(params){return Promise.resolve(params.unsignedTx);};_proto.validateAddress=function validateAddress(address){return this._validateAddressCache(address);};_proto.validateXpub=function validateXpub(xpub){throw new NotImplemented();};_proto.getPrivateKeyFromImported=function getPrivateKeyFromImported(params){throw new NotImplemented();};_proto.validateXprvt=function validateXprvt(xprvt){throw new NotImplemented();};_proto.validatePrivateKey=function validatePrivateKey(privateKey){throw new NotImplemented();};_proto.validateGeneralInput=function validateGeneralInput(params){throw new NotImplemented();};_proto.fillTokensDetails=function(){var _fillTokensDetails=_asyncToGenerator(function*({tokensDetails}){var filledTokensDetails=[];for(var token of tokensDetails){if(token.info.isNative){if(yield this._checkHasLocalTxOutInPending()){filledTokensDetails.push(_objectSpread(_objectSpread({},token),{},{balance:'0',balanceParsed:'0',frozenBalance:token.balance,frozenBalanceParsed:token.balanceParsed,totalBalance:token.balance,totalBalanceParsed:token.balanceParsed}));}else{filledTokensDetails.push(_objectSpread(_objectSpread({},token),{},{frozenBalance:'0',frozenBalanceParsed:'0',totalBalance:token.balance,totalBalanceParsed:token.balanceParsed}));}}else{filledTokensDetails.push(token);}}return filledTokensDetails;});function fillTokensDetails(_x8){return _fillTokensDetails.apply(this,arguments);}return fillTokensDetails;}();_proto.fillAccountDetails=function(){var _fillAccountDetails=_asyncToGenerator(function*({accountDetails}){if(yield this._checkHasLocalTxOutInPending()){return _objectSpread(_objectSpread({},accountDetails),{},{balance:'0',balanceParsed:'0',frozenBalance:accountDetails.balance,frozenBalanceParsed:accountDetails.balanceParsed,totalBalance:accountDetails.balance,totalBalanceParsed:accountDetails.balanceParsed});}return _objectSpread(_objectSpread({},accountDetails),{},{frozenBalance:'0',frozenBalanceParsed:'0',totalBalance:accountDetails.balance,totalBalanceParsed:accountDetails.balanceParsed});});function fillAccountDetails(_x9){return _fillAccountDetails.apply(this,arguments);}return fillAccountDetails;}();_proto._checkHasLocalTxOutInPending=function(){var _checkHasLocalTxOutInPending2=_asyncToGenerator(function*(){var hasLocalTxOutInPending=false;var accountAddress=yield this.getAccountAddress();var xpub=yield this.getAccountXpub();var pendingTxs=yield this.backgroundApi.serviceHistory.getAccountLocalHistoryPendingTxs({networkId:this.networkId,accountAddress,xpub});if(pendingTxs.length>0){yield this.backgroundApi.serviceHistory.fetchAccountHistory({networkId:this.networkId,accountId:this.accountId});pendingTxs=yield this.backgroundApi.serviceHistory.getAccountLocalHistoryPendingTxs({networkId:this.networkId,accountAddress,xpub});}for(var i=0,len=pendingTxs.length;i<len;i=+1){var item=pendingTxs[i];var action=item.decodedTx.actions[0];if(action.type===EDecodedTxActionType.ASSET_TRANSFER&&action.assetTransfer?.sends[0].isNative){hasLocalTxOutInPending=true;break;}}return hasLocalTxOutInPending;});function _checkHasLocalTxOutInPending(){return _checkHasLocalTxOutInPending2.apply(this,arguments);}return _checkHasLocalTxOutInPending;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){var start=performance.now();var client=new ClientDnx({url:params.rpcUrl});var bestBlockNumber=yield client.getBlockCount();return{responseTime:Math.floor(performance.now()-start),bestBlockNumber};});function getCustomRpcEndpointStatus(_x10){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){var{customRpcInfo,signedTx}=params;var rpcUrl=customRpcInfo.rpc;if(!rpcUrl){throw new OneKeyInternalError('Invalid rpc url');}var client=new ClientDnx({url:rpcUrl});yield client.broadcastTransaction({rawTx:signedTx.rawTx});return _objectSpread(_objectSpread({},params.signedTx),{},{txid:signedTx.txid});});function broadcastTransactionFromCustomRpc(_x11){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();return _createClass(Vault);}(VaultBase);export{Vault as default};","export var EVaultKeyringTypes=function(EVaultKeyringTypes){EVaultKeyringTypes[\"hd\"]=\"hd\";EVaultKeyringTypes[\"qr\"]=\"qr\";EVaultKeyringTypes[\"hardware\"]=\"hardware\";EVaultKeyringTypes[\"imported\"]=\"imported\";EVaultKeyringTypes[\"watching\"]=\"watching\";EVaultKeyringTypes[\"external\"]=\"external\";return EVaultKeyringTypes;}({});export var EWrappedType=function(EWrappedType){EWrappedType[\"DEPOSIT\"]=\"deposit\";EWrappedType[\"WITHDRAW\"]=\"withdraw\";return EWrappedType;}({});","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import axios from'axios';import timeoutSignal from'timeout-signal';import{AxiosResponseError,JsonRPCResponseError,ResponseError}from\"../errors\";function normalizePayload(method,params,id=0){return{jsonrpc:'2.0',id,method,params};}var JsonRPCRequest=function(){function JsonRPCRequest(url,headers,timeout=30_000){this.url=url;this.timeout=timeout;this.headers={'Content-Type':'application/json'};if(headers){Object.assign(this.headers,headers);}}JsonRPCRequest.parseRPCResponse=function parseRPCResponse(response){if(typeof response!=='object'){throw new ResponseError('Invalid JSON RPC response, typeof response should be an object',response);}else if(response.error){var message='Error JSON RPC response';var error=response.error;if(error?.message&&typeof error?.message==='string'){message=`Error JSON RPC response: ${error?.message}`;}throw new JsonRPCResponseError(message,response);}else if(!('result'in response)){throw new ResponseError('Invalid JSON RPC response, result not found',response);}return Promise.resolve(response.result);};var _proto=JsonRPCRequest.prototype;_proto.call=function(){var _call=_asyncToGenerator(function*(method,params,headers,timeout){var signal=timeoutSignal(timeout||this.timeout);try{var response=yield axios({url:this.url,method:'POST',headers:this.assembleHeaders(headers),data:JSON.stringify(normalizePayload(method,params)),signal});return yield JsonRPCRequest.parseRPCResponse(response.data);}catch(error){if(axios.isAxiosError(error)){var _error$response$statu;throw new AxiosResponseError(`Wrong response<${(_error$response$statu=error.response?.status)!=null?_error$response$statu:''}>`,error.response);}throw error;}});function call(_x,_x2,_x3,_x4){return _call.apply(this,arguments);}return call;}();_proto.batchCall=function(){var _batchCall=_asyncToGenerator(function*(calls,headers,timeout,ignoreSoloError=true,autoFallbackToRpcSingle=true){var _this=this;var jsonResponses=[];var useRpcBatch=!autoFallbackToRpcSingle;if(useRpcBatch){var payload=calls.map(function([method,params],index){return normalizePayload(method,params,index);});try{var response=yield axios({url:this.url,method:'POST',headers:this.assembleHeaders(headers),data:JSON.stringify(payload),signal:timeoutSignal(timeout||this.timeout)});jsonResponses=response.data;if(!Array.isArray(jsonResponses)){throw new AxiosResponseError('Invalid JSON Batch RPC response, response should be an array',response);}else if(calls.length!==jsonResponses.length){throw new AxiosResponseError(`Invalid JSON Batch RPC response, batch with ${calls.length} calls, but got ${jsonResponses.length} responses`,response);}}catch(error){if(axios.isAxiosError(error)){var _error$response$statu2;throw new AxiosResponseError(`Wrong response<${(_error$response$statu2=error.response?.status)!=null?_error$response$statu2:''}>`,error.response);}throw error;}}else{jsonResponses=yield Promise.all(calls.map(function(){var _ref=_asyncToGenerator(function*(c){try{var res=yield _this.call(c[0],c[1],headers,timeout);return{result:res};}catch(error){}});return function(_x8){return _ref.apply(this,arguments);};}()));}return Promise.all(jsonResponses.sort(function({id:idA},{id:idB}){return idA-idB;}).map(function(resp){return JsonRPCRequest.parseRPCResponse(resp).catch(function(e){if(e instanceof JsonRPCResponseError&&ignoreSoloError){return undefined;}throw e;});}));});function batchCall(_x5,_x6,_x7){return _batchCall.apply(this,arguments);}return batchCall;}();_proto.assembleHeaders=function assembleHeaders(headers={}){return _objectSpread(_objectSpread({},this.headers),headers);};_proto.batchChunkCall=function(){var _batchChunkCall=_asyncToGenerator(function*(payloads,headers,timeout,ignoreSoloError=true){var flattenedCalls=payloads.flat();var flattenedResults=yield this.batchCall(flattenedCalls,headers,timeout,ignoreSoloError,false);if(!Array.isArray(flattenedResults)){throw new Error('Invalid JSON Batch RPC response, response should be an array');}var results=[];var startIndex=0;for(var chunk of payloads){var chunkSize=chunk.length;results.push(flattenedResults.slice(startIndex,startIndex+chunkSize));startIndex+=chunkSize;}return results;});function batchChunkCall(_x9,_x10,_x11){return _batchChunkCall.apply(this,arguments);}return batchChunkCall;}();return _createClass(JsonRPCRequest);}();export{JsonRPCRequest};","/*\n\tJavaScript BigInteger library version 0.9\n\thttp://silentmatt.com/biginteger/\n\n\tCopyright (c) 2009 Matthew Crumley <email@matthewcrumley.com>\n\tCopyright (c) 2010,2011 by John Tobey <John.Tobey@gmail.com>\n\tLicensed under the MIT license.\n\n\tSupport for arbitrary internal representation base was added by\n\tVitaly Magerya.\n*/\n\n/*\n\tFile: biginteger.js\n\n\tExports:\n\n\t\t<BigInteger>\n*/\n(function(exports) {\n\"use strict\";\n/*\n\tClass: BigInteger\n\tAn arbitrarily-large integer.\n\n\t<BigInteger> objects should be considered immutable. None of the \"built-in\"\n\tmethods modify *this* or their arguments. All properties should be\n\tconsidered private.\n\n\tAll the methods of <BigInteger> instances can be called \"statically\". The\n\tstatic versions are convenient if you don't already have a <BigInteger>\n\tobject.\n\n\tAs an example, these calls are equivalent.\n\n\t> BigInteger(4).multiply(5); // returns BigInteger(20);\n\t> BigInteger.multiply(4, 5); // returns BigInteger(20);\n\n\t> var a = 42;\n\t> var a = BigInteger.toJSValue(\"0b101010\"); // Not completely useless...\n*/\n\nvar CONSTRUCT = {}; // Unique token to call \"private\" version of constructor\n\n/*\n\tConstructor: BigInteger()\n\tConvert a value to a <BigInteger>.\n\n\tAlthough <BigInteger()> is the constructor for <BigInteger> objects, it is\n\tbest not to call it as a constructor. If *n* is a <BigInteger> object, it is\n\tsimply returned as-is. Otherwise, <BigInteger()> is equivalent to <parse>\n\twithout a radix argument.\n\n\t> var n0 = BigInteger();      // Same as <BigInteger.ZERO>\n\t> var n1 = BigInteger(\"123\"); // Create a new <BigInteger> with value 123\n\t> var n2 = BigInteger(123);   // Create a new <BigInteger> with value 123\n\t> var n3 = BigInteger(n2);    // Return n2, unchanged\n\n\tThe constructor form only takes an array and a sign. *n* must be an\n\tarray of numbers in little-endian order, where each digit is between 0\n\tand BigInteger.base.  The second parameter sets the sign: -1 for\n\tnegative, +1 for positive, or 0 for zero. The array is *not copied and\n\tmay be modified*. If the array contains only zeros, the sign parameter\n\tis ignored and is forced to zero.\n\n\t> new BigInteger([5], -1): create a new BigInteger with value -5\n\n\tParameters:\n\n\t\tn - Value to convert to a <BigInteger>.\n\n\tReturns:\n\n\t\tA <BigInteger> value.\n\n\tSee Also:\n\n\t\t<parse>, <BigInteger>\n*/\nfunction BigInteger(n, s, token) {\n\tif (token !== CONSTRUCT) {\n\t\tif (n instanceof BigInteger) {\n\t\t\treturn n;\n\t\t}\n\t\telse if (typeof n === \"undefined\") {\n\t\t\treturn ZERO;\n\t\t}\n\t\treturn BigInteger.parse(n);\n\t}\n\n\tn = n || [];  // Provide the nullary constructor for subclasses.\n\twhile (n.length && !n[n.length - 1]) {\n\t\t--n.length;\n\t}\n\tthis._d = n;\n\tthis._s = n.length ? (s || 1) : 0;\n}\n\nBigInteger._construct = function(n, s) {\n\treturn new BigInteger(n, s, CONSTRUCT);\n};\n\n// Base-10 speedup hacks in parse, toString, exp10 and log functions\n// require base to be a power of 10. 10^7 is the largest such power\n// that won't cause a precision loss when digits are multiplied.\nvar BigInteger_base = 10000000;\nvar BigInteger_base_log10 = 7;\n\nBigInteger.base = BigInteger_base;\nBigInteger.base_log10 = BigInteger_base_log10;\n\nvar ZERO = new BigInteger([], 0, CONSTRUCT);\n// Constant: ZERO\n// <BigInteger> 0.\nBigInteger.ZERO = ZERO;\n\nvar ONE = new BigInteger([1], 1, CONSTRUCT);\n// Constant: ONE\n// <BigInteger> 1.\nBigInteger.ONE = ONE;\n\nvar M_ONE = new BigInteger(ONE._d, -1, CONSTRUCT);\n// Constant: M_ONE\n// <BigInteger> -1.\nBigInteger.M_ONE = M_ONE;\n\n// Constant: _0\n// Shortcut for <ZERO>.\nBigInteger._0 = ZERO;\n\n// Constant: _1\n// Shortcut for <ONE>.\nBigInteger._1 = ONE;\n\n/*\n\tConstant: small\n\tArray of <BigIntegers> from 0 to 36.\n\n\tThese are used internally for parsing, but useful when you need a \"small\"\n\t<BigInteger>.\n\n\tSee Also:\n\n\t\t<ZERO>, <ONE>, <_0>, <_1>\n*/\nBigInteger.small = [\n\tZERO,\n\tONE,\n\t/* Assuming BigInteger_base > 36 */\n\tnew BigInteger( [2], 1, CONSTRUCT),\n\tnew BigInteger( [3], 1, CONSTRUCT),\n\tnew BigInteger( [4], 1, CONSTRUCT),\n\tnew BigInteger( [5], 1, CONSTRUCT),\n\tnew BigInteger( [6], 1, CONSTRUCT),\n\tnew BigInteger( [7], 1, CONSTRUCT),\n\tnew BigInteger( [8], 1, CONSTRUCT),\n\tnew BigInteger( [9], 1, CONSTRUCT),\n\tnew BigInteger([10], 1, CONSTRUCT),\n\tnew BigInteger([11], 1, CONSTRUCT),\n\tnew BigInteger([12], 1, CONSTRUCT),\n\tnew BigInteger([13], 1, CONSTRUCT),\n\tnew BigInteger([14], 1, CONSTRUCT),\n\tnew BigInteger([15], 1, CONSTRUCT),\n\tnew BigInteger([16], 1, CONSTRUCT),\n\tnew BigInteger([17], 1, CONSTRUCT),\n\tnew BigInteger([18], 1, CONSTRUCT),\n\tnew BigInteger([19], 1, CONSTRUCT),\n\tnew BigInteger([20], 1, CONSTRUCT),\n\tnew BigInteger([21], 1, CONSTRUCT),\n\tnew BigInteger([22], 1, CONSTRUCT),\n\tnew BigInteger([23], 1, CONSTRUCT),\n\tnew BigInteger([24], 1, CONSTRUCT),\n\tnew BigInteger([25], 1, CONSTRUCT),\n\tnew BigInteger([26], 1, CONSTRUCT),\n\tnew BigInteger([27], 1, CONSTRUCT),\n\tnew BigInteger([28], 1, CONSTRUCT),\n\tnew BigInteger([29], 1, CONSTRUCT),\n\tnew BigInteger([30], 1, CONSTRUCT),\n\tnew BigInteger([31], 1, CONSTRUCT),\n\tnew BigInteger([32], 1, CONSTRUCT),\n\tnew BigInteger([33], 1, CONSTRUCT),\n\tnew BigInteger([34], 1, CONSTRUCT),\n\tnew BigInteger([35], 1, CONSTRUCT),\n\tnew BigInteger([36], 1, CONSTRUCT)\n];\n\n// Used for parsing/radix conversion\nBigInteger.digits = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\".split(\"\");\n\n/*\n\tMethod: toString\n\tConvert a <BigInteger> to a string.\n\n\tWhen *base* is greater than 10, letters are upper case.\n\n\tParameters:\n\n\t\tbase - Optional base to represent the number in (default is base 10).\n\t\t       Must be between 2 and 36 inclusive, or an Error will be thrown.\n\n\tReturns:\n\n\t\tThe string representation of the <BigInteger>.\n*/\nBigInteger.prototype.toString = function(base) {\n\tbase = +base || 10;\n\tif (base < 2 || base > 36) {\n\t\tthrow new Error(\"illegal radix \" + base + \".\");\n\t}\n\tif (this._s === 0) {\n\t\treturn \"0\";\n\t}\n\tif (base === 10) {\n\t\tvar str = this._s < 0 ? \"-\" : \"\";\n\t\tstr += this._d[this._d.length - 1].toString();\n\t\tfor (var i = this._d.length - 2; i >= 0; i--) {\n\t\t\tvar group = this._d[i].toString();\n\t\t\twhile (group.length < BigInteger_base_log10) group = '0' + group;\n\t\t\tstr += group;\n\t\t}\n\t\treturn str;\n\t}\n\telse {\n\t\tvar numerals = BigInteger.digits;\n\t\tbase = BigInteger.small[base];\n\t\tvar sign = this._s;\n\n\t\tvar n = this.abs();\n\t\tvar digits = [];\n\t\tvar digit;\n\n\t\twhile (n._s !== 0) {\n\t\t\tvar divmod = n.divRem(base);\n\t\t\tn = divmod[0];\n\t\t\tdigit = divmod[1];\n\t\t\t// TODO: This could be changed to unshift instead of reversing at the end.\n\t\t\t// Benchmark both to compare speeds.\n\t\t\tdigits.push(numerals[digit.valueOf()]);\n\t\t}\n\t\treturn (sign < 0 ? \"-\" : \"\") + digits.reverse().join(\"\");\n\t}\n};\n\n// Verify strings for parsing\nBigInteger.radixRegex = [\n\t/^$/,\n\t/^$/,\n\t/^[01]*$/,\n\t/^[012]*$/,\n\t/^[0-3]*$/,\n\t/^[0-4]*$/,\n\t/^[0-5]*$/,\n\t/^[0-6]*$/,\n\t/^[0-7]*$/,\n\t/^[0-8]*$/,\n\t/^[0-9]*$/,\n\t/^[0-9aA]*$/,\n\t/^[0-9abAB]*$/,\n\t/^[0-9abcABC]*$/,\n\t/^[0-9a-dA-D]*$/,\n\t/^[0-9a-eA-E]*$/,\n\t/^[0-9a-fA-F]*$/,\n\t/^[0-9a-gA-G]*$/,\n\t/^[0-9a-hA-H]*$/,\n\t/^[0-9a-iA-I]*$/,\n\t/^[0-9a-jA-J]*$/,\n\t/^[0-9a-kA-K]*$/,\n\t/^[0-9a-lA-L]*$/,\n\t/^[0-9a-mA-M]*$/,\n\t/^[0-9a-nA-N]*$/,\n\t/^[0-9a-oA-O]*$/,\n\t/^[0-9a-pA-P]*$/,\n\t/^[0-9a-qA-Q]*$/,\n\t/^[0-9a-rA-R]*$/,\n\t/^[0-9a-sA-S]*$/,\n\t/^[0-9a-tA-T]*$/,\n\t/^[0-9a-uA-U]*$/,\n\t/^[0-9a-vA-V]*$/,\n\t/^[0-9a-wA-W]*$/,\n\t/^[0-9a-xA-X]*$/,\n\t/^[0-9a-yA-Y]*$/,\n\t/^[0-9a-zA-Z]*$/\n];\n\n/*\n\tFunction: parse\n\tParse a string into a <BigInteger>.\n\n\t*base* is optional but, if provided, must be from 2 to 36 inclusive. If\n\t*base* is not provided, it will be guessed based on the leading characters\n\tof *s* as follows:\n\n\t- \"0x\" or \"0X\": *base* = 16\n\t- \"0c\" or \"0C\": *base* = 8\n\t- \"0b\" or \"0B\": *base* = 2\n\t- else: *base* = 10\n\n\tIf no base is provided, or *base* is 10, the number can be in exponential\n\tform. For example, these are all valid:\n\n\t> BigInteger.parse(\"1e9\");              // Same as \"1000000000\"\n\t> BigInteger.parse(\"1.234*10^3\");       // Same as 1234\n\t> BigInteger.parse(\"56789 * 10 ** -2\"); // Same as 567\n\n\tIf any characters fall outside the range defined by the radix, an exception\n\twill be thrown.\n\n\tParameters:\n\n\t\ts - The string to parse.\n\t\tbase - Optional radix (default is to guess based on *s*).\n\n\tReturns:\n\n\t\ta <BigInteger> instance.\n*/\nBigInteger.parse = function(s, base) {\n\t// Expands a number in exponential form to decimal form.\n\t// expandExponential(\"-13.441*10^5\") === \"1344100\";\n\t// expandExponential(\"1.12300e-1\") === \"0.112300\";\n\t// expandExponential(1000000000000000000000000000000) === \"1000000000000000000000000000000\";\n\tfunction expandExponential(str) {\n\t\tstr = str.replace(/\\s*[*xX]\\s*10\\s*(\\^|\\*\\*)\\s*/, \"e\");\n\n\t\treturn str.replace(/^([+\\-])?(\\d+)\\.?(\\d*)[eE]([+\\-]?\\d+)$/, function(x, s, n, f, c) {\n\t\t\tc = +c;\n\t\t\tvar l = c < 0;\n\t\t\tvar i = n.length + c;\n\t\t\tx = (l ? n : f).length;\n\t\t\tc = ((c = Math.abs(c)) >= x ? c - x + l : 0);\n\t\t\tvar z = (new Array(c + 1)).join(\"0\");\n\t\t\tvar r = n + f;\n\t\t\treturn (s || \"\") + (l ? r = z + r : r += z).substr(0, i += l ? z.length : 0) + (i < r.length ? \".\" + r.substr(i) : \"\");\n\t\t});\n\t}\n\n\ts = s.toString();\n\tif (typeof base === \"undefined\" || +base === 10) {\n\t\ts = expandExponential(s);\n\t}\n\n\tvar prefixRE;\n\tif (typeof base === \"undefined\") {\n\t\tprefixRE = '0[xcb]';\n\t}\n\telse if (base == 16) {\n\t\tprefixRE = '0x';\n\t}\n\telse if (base == 8) {\n\t\tprefixRE = '0c';\n\t}\n\telse if (base == 2) {\n\t\tprefixRE = '0b';\n\t}\n\telse {\n\t\tprefixRE = '';\n\t}\n\tvar parts = new RegExp('^([+\\\\-]?)(' + prefixRE + ')?([0-9a-z]*)(?:\\\\.\\\\d*)?$', 'i').exec(s);\n\tif (parts) {\n\t\tvar sign = parts[1] || \"+\";\n\t\tvar baseSection = parts[2] || \"\";\n\t\tvar digits = parts[3] || \"\";\n\n\t\tif (typeof base === \"undefined\") {\n\t\t\t// Guess base\n\t\t\tif (baseSection === \"0x\" || baseSection === \"0X\") { // Hex\n\t\t\t\tbase = 16;\n\t\t\t}\n\t\t\telse if (baseSection === \"0c\" || baseSection === \"0C\") { // Octal\n\t\t\t\tbase = 8;\n\t\t\t}\n\t\t\telse if (baseSection === \"0b\" || baseSection === \"0B\") { // Binary\n\t\t\t\tbase = 2;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbase = 10;\n\t\t\t}\n\t\t}\n\t\telse if (base < 2 || base > 36) {\n\t\t\tthrow new Error(\"Illegal radix \" + base + \".\");\n\t\t}\n\n\t\tbase = +base;\n\n\t\t// Check for digits outside the range\n\t\tif (!(BigInteger.radixRegex[base].test(digits))) {\n\t\t\tthrow new Error(\"Bad digit for radix \" + base);\n\t\t}\n\n\t\t// Strip leading zeros, and convert to array\n\t\tdigits = digits.replace(/^0+/, \"\").split(\"\");\n\t\tif (digits.length === 0) {\n\t\t\treturn ZERO;\n\t\t}\n\n\t\t// Get the sign (we know it's not zero)\n\t\tsign = (sign === \"-\") ? -1 : 1;\n\n\t\t// Optimize 10\n\t\tif (base == 10) {\n\t\t\tvar d = [];\n\t\t\twhile (digits.length >= BigInteger_base_log10) {\n\t\t\t\td.push(parseInt(digits.splice(digits.length-BigInteger.base_log10, BigInteger.base_log10).join(''), 10));\n\t\t\t}\n\t\t\td.push(parseInt(digits.join(''), 10));\n\t\t\treturn new BigInteger(d, sign, CONSTRUCT);\n\t\t}\n\n\t\t// Do the conversion\n\t\tvar d = ZERO;\n\t\tbase = BigInteger.small[base];\n\t\tvar small = BigInteger.small;\n\t\tfor (var i = 0; i < digits.length; i++) {\n\t\t\td = d.multiply(base).add(small[parseInt(digits[i], 36)]);\n\t\t}\n\t\treturn new BigInteger(d._d, sign, CONSTRUCT);\n\t}\n\telse {\n\t\tthrow new Error(\"Invalid BigInteger format: \" + s);\n\t}\n};\n\n/*\n\tFunction: add\n\tAdd two <BigIntegers>.\n\n\tParameters:\n\n\t\tn - The number to add to *this*. Will be converted to a <BigInteger>.\n\n\tReturns:\n\n\t\tThe numbers added together.\n\n\tSee Also:\n\n\t\t<subtract>, <multiply>, <quotient>, <next>\n*/\nBigInteger.prototype.add = function(n) {\n\tif (this._s === 0) {\n\t\treturn BigInteger(n);\n\t}\n\n\tn = BigInteger(n);\n\tif (n._s === 0) {\n\t\treturn this;\n\t}\n\tif (this._s !== n._s) {\n\t\tn = n.negate();\n\t\treturn this.subtract(n);\n\t}\n\n\tvar a = this._d;\n\tvar b = n._d;\n\tvar al = a.length;\n\tvar bl = b.length;\n\tvar sum = new Array(Math.max(al, bl) + 1);\n\tvar size = Math.min(al, bl);\n\tvar carry = 0;\n\tvar digit;\n\n\tfor (var i = 0; i < size; i++) {\n\t\tdigit = a[i] + b[i] + carry;\n\t\tsum[i] = digit % BigInteger_base;\n\t\tcarry = (digit / BigInteger_base) | 0;\n\t}\n\tif (bl > al) {\n\t\ta = b;\n\t\tal = bl;\n\t}\n\tfor (i = size; carry && i < al; i++) {\n\t\tdigit = a[i] + carry;\n\t\tsum[i] = digit % BigInteger_base;\n\t\tcarry = (digit / BigInteger_base) | 0;\n\t}\n\tif (carry) {\n\t\tsum[i] = carry;\n\t}\n\n\tfor ( ; i < al; i++) {\n\t\tsum[i] = a[i];\n\t}\n\n\treturn new BigInteger(sum, this._s, CONSTRUCT);\n};\n\n/*\n\tFunction: negate\n\tGet the additive inverse of a <BigInteger>.\n\n\tReturns:\n\n\t\tA <BigInteger> with the same magnatude, but with the opposite sign.\n\n\tSee Also:\n\n\t\t<abs>\n*/\nBigInteger.prototype.negate = function() {\n\treturn new BigInteger(this._d, (-this._s) | 0, CONSTRUCT);\n};\n\n/*\n\tFunction: abs\n\tGet the absolute value of a <BigInteger>.\n\n\tReturns:\n\n\t\tA <BigInteger> with the same magnatude, but always positive (or zero).\n\n\tSee Also:\n\n\t\t<negate>\n*/\nBigInteger.prototype.abs = function() {\n\treturn (this._s < 0) ? this.negate() : this;\n};\n\n/*\n\tFunction: subtract\n\tSubtract two <BigIntegers>.\n\n\tParameters:\n\n\t\tn - The number to subtract from *this*. Will be converted to a <BigInteger>.\n\n\tReturns:\n\n\t\tThe *n* subtracted from *this*.\n\n\tSee Also:\n\n\t\t<add>, <multiply>, <quotient>, <prev>\n*/\nBigInteger.prototype.subtract = function(n) {\n\tif (this._s === 0) {\n\t\treturn BigInteger(n).negate();\n\t}\n\n\tn = BigInteger(n);\n\tif (n._s === 0) {\n\t\treturn this;\n\t}\n\tif (this._s !== n._s) {\n\t\tn = n.negate();\n\t\treturn this.add(n);\n\t}\n\n\tvar m = this;\n\t// negative - negative => -|a| - -|b| => -|a| + |b| => |b| - |a|\n\tif (this._s < 0) {\n\t\tm = new BigInteger(n._d, 1, CONSTRUCT);\n\t\tn = new BigInteger(this._d, 1, CONSTRUCT);\n\t}\n\n\t// Both are positive => a - b\n\tvar sign = m.compareAbs(n);\n\tif (sign === 0) {\n\t\treturn ZERO;\n\t}\n\telse if (sign < 0) {\n\t\t// swap m and n\n\t\tvar t = n;\n\t\tn = m;\n\t\tm = t;\n\t}\n\n\t// a > b\n\tvar a = m._d;\n\tvar b = n._d;\n\tvar al = a.length;\n\tvar bl = b.length;\n\tvar diff = new Array(al); // al >= bl since a > b\n\tvar borrow = 0;\n\tvar i;\n\tvar digit;\n\n\tfor (i = 0; i < bl; i++) {\n\t\tdigit = a[i] - borrow - b[i];\n\t\tif (digit < 0) {\n\t\t\tdigit += BigInteger_base;\n\t\t\tborrow = 1;\n\t\t}\n\t\telse {\n\t\t\tborrow = 0;\n\t\t}\n\t\tdiff[i] = digit;\n\t}\n\tfor (i = bl; i < al; i++) {\n\t\tdigit = a[i] - borrow;\n\t\tif (digit < 0) {\n\t\t\tdigit += BigInteger_base;\n\t\t}\n\t\telse {\n\t\t\tdiff[i++] = digit;\n\t\t\tbreak;\n\t\t}\n\t\tdiff[i] = digit;\n\t}\n\tfor ( ; i < al; i++) {\n\t\tdiff[i] = a[i];\n\t}\n\n\treturn new BigInteger(diff, sign, CONSTRUCT);\n};\n\n(function() {\n\tfunction addOne(n, sign) {\n\t\tvar a = n._d;\n\t\tvar sum = a.slice();\n\t\tvar carry = true;\n\t\tvar i = 0;\n\n\t\twhile (true) {\n\t\t\tvar digit = (a[i] || 0) + 1;\n\t\t\tsum[i] = digit % BigInteger_base;\n\t\t\tif (digit <= BigInteger_base - 1) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t++i;\n\t\t}\n\n\t\treturn new BigInteger(sum, sign, CONSTRUCT);\n\t}\n\n\tfunction subtractOne(n, sign) {\n\t\tvar a = n._d;\n\t\tvar sum = a.slice();\n\t\tvar borrow = true;\n\t\tvar i = 0;\n\n\t\twhile (true) {\n\t\t\tvar digit = (a[i] || 0) - 1;\n\t\t\tif (digit < 0) {\n\t\t\t\tsum[i] = digit + BigInteger_base;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsum[i] = digit;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t++i;\n\t\t}\n\n\t\treturn new BigInteger(sum, sign, CONSTRUCT);\n\t}\n\n\t/*\n\t\tFunction: next\n\t\tGet the next <BigInteger> (add one).\n\n\t\tReturns:\n\n\t\t\t*this* + 1.\n\n\t\tSee Also:\n\n\t\t\t<add>, <prev>\n\t*/\n\tBigInteger.prototype.next = function() {\n\t\tswitch (this._s) {\n\t\tcase 0:\n\t\t\treturn ONE;\n\t\tcase -1:\n\t\t\treturn subtractOne(this, -1);\n\t\t// case 1:\n\t\tdefault:\n\t\t\treturn addOne(this, 1);\n\t\t}\n\t};\n\n\t/*\n\t\tFunction: prev\n\t\tGet the previous <BigInteger> (subtract one).\n\n\t\tReturns:\n\n\t\t\t*this* - 1.\n\n\t\tSee Also:\n\n\t\t\t<next>, <subtract>\n\t*/\n\tBigInteger.prototype.prev = function() {\n\t\tswitch (this._s) {\n\t\tcase 0:\n\t\t\treturn M_ONE;\n\t\tcase -1:\n\t\t\treturn addOne(this, -1);\n\t\t// case 1:\n\t\tdefault:\n\t\t\treturn subtractOne(this, 1);\n\t\t}\n\t};\n})();\n\n/*\n\tFunction: compareAbs\n\tCompare the absolute value of two <BigIntegers>.\n\n\tCalling <compareAbs> is faster than calling <abs> twice, then <compare>.\n\n\tParameters:\n\n\t\tn - The number to compare to *this*. Will be converted to a <BigInteger>.\n\n\tReturns:\n\n\t\t-1, 0, or +1 if *|this|* is less than, equal to, or greater than *|n|*.\n\n\tSee Also:\n\n\t\t<compare>, <abs>\n*/\nBigInteger.prototype.compareAbs = function(n) {\n\tif (this === n) {\n\t\treturn 0;\n\t}\n\n\tif (!(n instanceof BigInteger)) {\n\t\tif (!isFinite(n)) {\n\t\t\treturn(isNaN(n) ? n : -1);\n\t\t}\n\t\tn = BigInteger(n);\n\t}\n\n\tif (this._s === 0) {\n\t\treturn (n._s !== 0) ? -1 : 0;\n\t}\n\tif (n._s === 0) {\n\t\treturn 1;\n\t}\n\n\tvar l = this._d.length;\n\tvar nl = n._d.length;\n\tif (l < nl) {\n\t\treturn -1;\n\t}\n\telse if (l > nl) {\n\t\treturn 1;\n\t}\n\n\tvar a = this._d;\n\tvar b = n._d;\n\tfor (var i = l-1; i >= 0; i--) {\n\t\tif (a[i] !== b[i]) {\n\t\t\treturn a[i] < b[i] ? -1 : 1;\n\t\t}\n\t}\n\n\treturn 0;\n};\n\n/*\n\tFunction: compare\n\tCompare two <BigIntegers>.\n\n\tParameters:\n\n\t\tn - The number to compare to *this*. Will be converted to a <BigInteger>.\n\n\tReturns:\n\n\t\t-1, 0, or +1 if *this* is less than, equal to, or greater than *n*.\n\n\tSee Also:\n\n\t\t<compareAbs>, <isPositive>, <isNegative>, <isUnit>\n*/\nBigInteger.prototype.compare = function(n) {\n\tif (this === n) {\n\t\treturn 0;\n\t}\n\n\tn = BigInteger(n);\n\n\tif (this._s === 0) {\n\t\treturn -n._s;\n\t}\n\n\tif (this._s === n._s) { // both positive or both negative\n\t\tvar cmp = this.compareAbs(n);\n\t\treturn cmp * this._s;\n\t}\n\telse {\n\t\treturn this._s;\n\t}\n};\n\n/*\n\tFunction: isUnit\n\tReturn true iff *this* is either 1 or -1.\n\n\tReturns:\n\n\t\ttrue if *this* compares equal to <BigInteger.ONE> or <BigInteger.M_ONE>.\n\n\tSee Also:\n\n\t\t<isZero>, <isNegative>, <isPositive>, <compareAbs>, <compare>,\n\t\t<BigInteger.ONE>, <BigInteger.M_ONE>\n*/\nBigInteger.prototype.isUnit = function() {\n\treturn this === ONE ||\n\t\tthis === M_ONE ||\n\t\t(this._d.length === 1 && this._d[0] === 1);\n};\n\n/*\n\tFunction: multiply\n\tMultiply two <BigIntegers>.\n\n\tParameters:\n\n\t\tn - The number to multiply *this* by. Will be converted to a\n\t\t<BigInteger>.\n\n\tReturns:\n\n\t\tThe numbers multiplied together.\n\n\tSee Also:\n\n\t\t<add>, <subtract>, <quotient>, <square>\n*/\nBigInteger.prototype.multiply = function(n) {\n\t// TODO: Consider adding Karatsuba multiplication for large numbers\n\tif (this._s === 0) {\n\t\treturn ZERO;\n\t}\n\n\tn = BigInteger(n);\n\tif (n._s === 0) {\n\t\treturn ZERO;\n\t}\n\tif (this.isUnit()) {\n\t\tif (this._s < 0) {\n\t\t\treturn n.negate();\n\t\t}\n\t\treturn n;\n\t}\n\tif (n.isUnit()) {\n\t\tif (n._s < 0) {\n\t\t\treturn this.negate();\n\t\t}\n\t\treturn this;\n\t}\n\tif (this === n) {\n\t\treturn this.square();\n\t}\n\n\tvar r = (this._d.length >= n._d.length);\n\tvar a = (r ? this : n)._d; // a will be longer than b\n\tvar b = (r ? n : this)._d;\n\tvar al = a.length;\n\tvar bl = b.length;\n\n\tvar pl = al + bl;\n\tvar partial = new Array(pl);\n\tvar i;\n\tfor (i = 0; i < pl; i++) {\n\t\tpartial[i] = 0;\n\t}\n\n\tfor (i = 0; i < bl; i++) {\n\t\tvar carry = 0;\n\t\tvar bi = b[i];\n\t\tvar jlimit = al + i;\n\t\tvar digit;\n\t\tfor (var j = i; j < jlimit; j++) {\n\t\t\tdigit = partial[j] + bi * a[j - i] + carry;\n\t\t\tcarry = (digit / BigInteger_base) | 0;\n\t\t\tpartial[j] = (digit % BigInteger_base) | 0;\n\t\t}\n\t\tif (carry) {\n\t\t\tdigit = partial[j] + carry;\n\t\t\tcarry = (digit / BigInteger_base) | 0;\n\t\t\tpartial[j] = digit % BigInteger_base;\n\t\t}\n\t}\n\treturn new BigInteger(partial, this._s * n._s, CONSTRUCT);\n};\n\n// Multiply a BigInteger by a single-digit native number\n// Assumes that this and n are >= 0\n// This is not really intended to be used outside the library itself\nBigInteger.prototype.multiplySingleDigit = function(n) {\n\tif (n === 0 || this._s === 0) {\n\t\treturn ZERO;\n\t}\n\tif (n === 1) {\n\t\treturn this;\n\t}\n\n\tvar digit;\n\tif (this._d.length === 1) {\n\t\tdigit = this._d[0] * n;\n\t\tif (digit >= BigInteger_base) {\n\t\t\treturn new BigInteger([(digit % BigInteger_base)|0,\n\t\t\t\t\t(digit / BigInteger_base)|0], 1, CONSTRUCT);\n\t\t}\n\t\treturn new BigInteger([digit], 1, CONSTRUCT);\n\t}\n\n\tif (n === 2) {\n\t\treturn this.add(this);\n\t}\n\tif (this.isUnit()) {\n\t\treturn new BigInteger([n], 1, CONSTRUCT);\n\t}\n\n\tvar a = this._d;\n\tvar al = a.length;\n\n\tvar pl = al + 1;\n\tvar partial = new Array(pl);\n\tfor (var i = 0; i < pl; i++) {\n\t\tpartial[i] = 0;\n\t}\n\n\tvar carry = 0;\n\tfor (var j = 0; j < al; j++) {\n\t\tdigit = n * a[j] + carry;\n\t\tcarry = (digit / BigInteger_base) | 0;\n\t\tpartial[j] = (digit % BigInteger_base) | 0;\n\t}\n\tif (carry) {\n\t\tpartial[j] = carry;\n\t}\n\n\treturn new BigInteger(partial, 1, CONSTRUCT);\n};\n\n/*\n\tFunction: square\n\tMultiply a <BigInteger> by itself.\n\n\tThis is slightly faster than regular multiplication, since it removes the\n\tduplicated multiplcations.\n\n\tReturns:\n\n\t\t> this.multiply(this)\n\n\tSee Also:\n\t\t<multiply>\n*/\nBigInteger.prototype.square = function() {\n\t// Normally, squaring a 10-digit number would take 100 multiplications.\n\t// Of these 10 are unique diagonals, of the remaining 90 (100-10), 45 are repeated.\n\t// This procedure saves (N*(N-1))/2 multiplications, (e.g., 45 of 100 multiplies).\n\t// Based on code by Gary Darby, Intellitech Systems Inc., www.DelphiForFun.org\n\n\tif (this._s === 0) {\n\t\treturn ZERO;\n\t}\n\tif (this.isUnit()) {\n\t\treturn ONE;\n\t}\n\n\tvar digits = this._d;\n\tvar length = digits.length;\n\tvar imult1 = new Array(length + length + 1);\n\tvar product, carry, k;\n\tvar i;\n\n\t// Calculate diagonal\n\tfor (i = 0; i < length; i++) {\n\t\tk = i * 2;\n\t\tproduct = digits[i] * digits[i];\n\t\tcarry = (product / BigInteger_base) | 0;\n\t\timult1[k] = product % BigInteger_base;\n\t\timult1[k + 1] = carry;\n\t}\n\n\t// Calculate repeating part\n\tfor (i = 0; i < length; i++) {\n\t\tcarry = 0;\n\t\tk = i * 2 + 1;\n\t\tfor (var j = i + 1; j < length; j++, k++) {\n\t\t\tproduct = digits[j] * digits[i] * 2 + imult1[k] + carry;\n\t\t\tcarry = (product / BigInteger_base) | 0;\n\t\t\timult1[k] = product % BigInteger_base;\n\t\t}\n\t\tk = length + i;\n\t\tvar digit = carry + imult1[k];\n\t\tcarry = (digit / BigInteger_base) | 0;\n\t\timult1[k] = digit % BigInteger_base;\n\t\timult1[k + 1] += carry;\n\t}\n\n\treturn new BigInteger(imult1, 1, CONSTRUCT);\n};\n\n/*\n\tFunction: quotient\n\tDivide two <BigIntegers> and truncate towards zero.\n\n\t<quotient> throws an exception if *n* is zero.\n\n\tParameters:\n\n\t\tn - The number to divide *this* by. Will be converted to a <BigInteger>.\n\n\tReturns:\n\n\t\tThe *this* / *n*, truncated to an integer.\n\n\tSee Also:\n\n\t\t<add>, <subtract>, <multiply>, <divRem>, <remainder>\n*/\nBigInteger.prototype.quotient = function(n) {\n\treturn this.divRem(n)[0];\n};\n\n/*\n\tFunction: divide\n\tDeprecated synonym for <quotient>.\n*/\nBigInteger.prototype.divide = BigInteger.prototype.quotient;\n\n/*\n\tFunction: remainder\n\tCalculate the remainder of two <BigIntegers>.\n\n\t<remainder> throws an exception if *n* is zero.\n\n\tParameters:\n\n\t\tn - The remainder after *this* is divided *this* by *n*. Will be\n\t\t    converted to a <BigInteger>.\n\n\tReturns:\n\n\t\t*this* % *n*.\n\n\tSee Also:\n\n\t\t<divRem>, <quotient>\n*/\nBigInteger.prototype.remainder = function(n) {\n\treturn this.divRem(n)[1];\n};\n\n/*\n\tFunction: divRem\n\tCalculate the integer quotient and remainder of two <BigIntegers>.\n\n\t<divRem> throws an exception if *n* is zero.\n\n\tParameters:\n\n\t\tn - The number to divide *this* by. Will be converted to a <BigInteger>.\n\n\tReturns:\n\n\t\tA two-element array containing the quotient and the remainder.\n\n\t\t> a.divRem(b)\n\n\t\tis exactly equivalent to\n\n\t\t> [a.quotient(b), a.remainder(b)]\n\n\t\texcept it is faster, because they are calculated at the same time.\n\n\tSee Also:\n\n\t\t<quotient>, <remainder>\n*/\nBigInteger.prototype.divRem = function(n) {\n\tn = BigInteger(n);\n\tif (n._s === 0) {\n\t\tthrow new Error(\"Divide by zero\");\n\t}\n\tif (this._s === 0) {\n\t\treturn [ZERO, ZERO];\n\t}\n\tif (n._d.length === 1) {\n\t\treturn this.divRemSmall(n._s * n._d[0]);\n\t}\n\n\t// Test for easy cases -- |n1| <= |n2|\n\tswitch (this.compareAbs(n)) {\n\tcase 0: // n1 == n2\n\t\treturn [this._s === n._s ? ONE : M_ONE, ZERO];\n\tcase -1: // |n1| < |n2|\n\t\treturn [ZERO, this];\n\t}\n\n\tvar sign = this._s * n._s;\n\tvar a = n.abs();\n\tvar b_digits = this._d;\n\tvar b_index = b_digits.length;\n\tvar digits = n._d.length;\n\tvar quot = [];\n\tvar guess;\n\n\tvar part = new BigInteger([], 0, CONSTRUCT);\n\tpart._s = 1;\n\n\twhile (b_index) {\n\t\tpart._d.unshift(b_digits[--b_index]);\n\n\t\tif (part.compareAbs(n) < 0) {\n\t\t\tquot.push(0);\n\t\t\tcontinue;\n\t\t}\n\t\tif (part._s === 0) {\n\t\t\tguess = 0;\n\t\t}\n\t\telse {\n\t\t\tvar xlen = part._d.length, ylen = a._d.length;\n\t\t\tvar highx = part._d[xlen-1]*BigInteger_base + part._d[xlen-2];\n\t\t\tvar highy = a._d[ylen-1]*BigInteger_base + a._d[ylen-2];\n\t\t\tif (part._d.length > a._d.length) {\n\t\t\t\t// The length of part._d can either match a._d length,\n\t\t\t\t// or exceed it by one.\n\t\t\t\thighx = (highx+1)*BigInteger_base;\n\t\t\t}\n\t\t\tguess = Math.ceil(highx/highy);\n\t\t}\n\t\tdo {\n\t\t\tvar check = a.multiplySingleDigit(guess);\n\t\t\tif (check.compareAbs(part) <= 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tguess--;\n\t\t} while (guess);\n\n\t\tquot.push(guess);\n\t\tif (!guess) {\n\t\t\tcontinue;\n\t\t}\n\t\tvar diff = part.subtract(check);\n\t\tpart._d = diff._d.slice();\n\t\tif (part._d.length === 0) {\n\t\t\tpart._s = 0;\n\t\t}\n\t}\n\n\treturn [new BigInteger(quot.reverse(), sign, CONSTRUCT),\n\t\t   new BigInteger(part._d, this._s, CONSTRUCT)];\n};\n\n// Throws an exception if n is outside of (-BigInteger.base, -1] or\n// [1, BigInteger.base).  It's not necessary to call this, since the\n// other division functions will call it if they are able to.\nBigInteger.prototype.divRemSmall = function(n) {\n\tvar r;\n\tn = +n;\n\tif (n === 0) {\n\t\tthrow new Error(\"Divide by zero\");\n\t}\n\n\tvar n_s = n < 0 ? -1 : 1;\n\tvar sign = this._s * n_s;\n\tn = Math.abs(n);\n\n\tif (n < 1 || n >= BigInteger_base) {\n\t\tthrow new Error(\"Argument out of range\");\n\t}\n\n\tif (this._s === 0) {\n\t\treturn [ZERO, ZERO];\n\t}\n\n\tif (n === 1 || n === -1) {\n\t\treturn [(sign === 1) ? this.abs() : new BigInteger(this._d, sign, CONSTRUCT), ZERO];\n\t}\n\n\t// 2 <= n < BigInteger_base\n\n\t// divide a single digit by a single digit\n\tif (this._d.length === 1) {\n\t\tvar q = new BigInteger([(this._d[0] / n) | 0], 1, CONSTRUCT);\n\t\tr = new BigInteger([(this._d[0] % n) | 0], 1, CONSTRUCT);\n\t\tif (sign < 0) {\n\t\t\tq = q.negate();\n\t\t}\n\t\tif (this._s < 0) {\n\t\t\tr = r.negate();\n\t\t}\n\t\treturn [q, r];\n\t}\n\n\tvar digits = this._d.slice();\n\tvar quot = new Array(digits.length);\n\tvar part = 0;\n\tvar diff = 0;\n\tvar i = 0;\n\tvar guess;\n\n\twhile (digits.length) {\n\t\tpart = part * BigInteger_base + digits[digits.length - 1];\n\t\tif (part < n) {\n\t\t\tquot[i++] = 0;\n\t\t\tdigits.pop();\n\t\t\tdiff = BigInteger_base * diff + part;\n\t\t\tcontinue;\n\t\t}\n\t\tif (part === 0) {\n\t\t\tguess = 0;\n\t\t}\n\t\telse {\n\t\t\tguess = (part / n) | 0;\n\t\t}\n\n\t\tvar check = n * guess;\n\t\tdiff = part - check;\n\t\tquot[i++] = guess;\n\t\tif (!guess) {\n\t\t\tdigits.pop();\n\t\t\tcontinue;\n\t\t}\n\n\t\tdigits.pop();\n\t\tpart = diff;\n\t}\n\n\tr = new BigInteger([diff], 1, CONSTRUCT);\n\tif (this._s < 0) {\n\t\tr = r.negate();\n\t}\n\treturn [new BigInteger(quot.reverse(), sign, CONSTRUCT), r];\n};\n\n/*\n\tFunction: isEven\n\tReturn true iff *this* is divisible by two.\n\n\tNote that <BigInteger.ZERO> is even.\n\n\tReturns:\n\n\t\ttrue if *this* is even, false otherwise.\n\n\tSee Also:\n\n\t\t<isOdd>\n*/\nBigInteger.prototype.isEven = function() {\n\tvar digits = this._d;\n\treturn this._s === 0 || digits.length === 0 || (digits[0] % 2) === 0;\n};\n\n/*\n\tFunction: isOdd\n\tReturn true iff *this* is not divisible by two.\n\n\tReturns:\n\n\t\ttrue if *this* is odd, false otherwise.\n\n\tSee Also:\n\n\t\t<isEven>\n*/\nBigInteger.prototype.isOdd = function() {\n\treturn !this.isEven();\n};\n\n/*\n\tFunction: sign\n\tGet the sign of a <BigInteger>.\n\n\tReturns:\n\n\t\t* -1 if *this* < 0\n\t\t* 0 if *this* == 0\n\t\t* +1 if *this* > 0\n\n\tSee Also:\n\n\t\t<isZero>, <isPositive>, <isNegative>, <compare>, <BigInteger.ZERO>\n*/\nBigInteger.prototype.sign = function() {\n\treturn this._s;\n};\n\n/*\n\tFunction: isPositive\n\tReturn true iff *this* > 0.\n\n\tReturns:\n\n\t\ttrue if *this*.compare(<BigInteger.ZERO>) == 1.\n\n\tSee Also:\n\n\t\t<sign>, <isZero>, <isNegative>, <isUnit>, <compare>, <BigInteger.ZERO>\n*/\nBigInteger.prototype.isPositive = function() {\n\treturn this._s > 0;\n};\n\n/*\n\tFunction: isNegative\n\tReturn true iff *this* < 0.\n\n\tReturns:\n\n\t\ttrue if *this*.compare(<BigInteger.ZERO>) == -1.\n\n\tSee Also:\n\n\t\t<sign>, <isPositive>, <isZero>, <isUnit>, <compare>, <BigInteger.ZERO>\n*/\nBigInteger.prototype.isNegative = function() {\n\treturn this._s < 0;\n};\n\n/*\n\tFunction: isZero\n\tReturn true iff *this* == 0.\n\n\tReturns:\n\n\t\ttrue if *this*.compare(<BigInteger.ZERO>) == 0.\n\n\tSee Also:\n\n\t\t<sign>, <isPositive>, <isNegative>, <isUnit>, <BigInteger.ZERO>\n*/\nBigInteger.prototype.isZero = function() {\n\treturn this._s === 0;\n};\n\n/*\n\tFunction: exp10\n\tMultiply a <BigInteger> by a power of 10.\n\n\tThis is equivalent to, but faster than\n\n\t> if (n >= 0) {\n\t>     return this.multiply(BigInteger(\"1e\" + n));\n\t> }\n\t> else { // n <= 0\n\t>     return this.quotient(BigInteger(\"1e\" + -n));\n\t> }\n\n\tParameters:\n\n\t\tn - The power of 10 to multiply *this* by. *n* is converted to a\n\t\tjavascipt number and must be no greater than <BigInteger.MAX_EXP>\n\t\t(0x7FFFFFFF), or an exception will be thrown.\n\n\tReturns:\n\n\t\t*this* * (10 ** *n*), truncated to an integer if necessary.\n\n\tSee Also:\n\n\t\t<pow>, <multiply>\n*/\nBigInteger.prototype.exp10 = function(n) {\n\tn = +n;\n\tif (n === 0) {\n\t\treturn this;\n\t}\n\tif (Math.abs(n) > Number(MAX_EXP)) {\n\t\tthrow new Error(\"exponent too large in BigInteger.exp10\");\n\t}\n\tif (n > 0) {\n\t\tvar k = new BigInteger(this._d.slice(), this._s, CONSTRUCT);\n\n\t\tfor (; n >= BigInteger_base_log10; n -= BigInteger_base_log10) {\n\t\t\tk._d.unshift(0);\n\t\t}\n\t\tif (n == 0)\n\t\t\treturn k;\n\t\tk._s = 1;\n\t\tk = k.multiplySingleDigit(Math.pow(10, n));\n\t\treturn (this._s < 0 ? k.negate() : k);\n\t} else if (-n >= this._d.length*BigInteger_base_log10) {\n\t\treturn ZERO;\n\t} else {\n\t\tvar k = new BigInteger(this._d.slice(), this._s, CONSTRUCT);\n\n\t\tfor (n = -n; n >= BigInteger_base_log10; n -= BigInteger_base_log10) {\n\t\t\tk._d.shift();\n\t\t}\n\t\treturn (n == 0) ? k : k.divRemSmall(Math.pow(10, n))[0];\n\t}\n};\n\n/*\n\tFunction: pow\n\tRaise a <BigInteger> to a power.\n\n\tIn this implementation, 0**0 is 1.\n\n\tParameters:\n\n\t\tn - The exponent to raise *this* by. *n* must be no greater than\n\t\t<BigInteger.MAX_EXP> (0x7FFFFFFF), or an exception will be thrown.\n\n\tReturns:\n\n\t\t*this* raised to the *nth* power.\n\n\tSee Also:\n\n\t\t<modPow>\n*/\nBigInteger.prototype.pow = function(n) {\n\tif (this.isUnit()) {\n\t\tif (this._s > 0) {\n\t\t\treturn this;\n\t\t}\n\t\telse {\n\t\t\treturn BigInteger(n).isOdd() ? this : this.negate();\n\t\t}\n\t}\n\n\tn = BigInteger(n);\n\tif (n._s === 0) {\n\t\treturn ONE;\n\t}\n\telse if (n._s < 0) {\n\t\tif (this._s === 0) {\n\t\t\tthrow new Error(\"Divide by zero\");\n\t\t}\n\t\telse {\n\t\t\treturn ZERO;\n\t\t}\n\t}\n\tif (this._s === 0) {\n\t\treturn ZERO;\n\t}\n\tif (n.isUnit()) {\n\t\treturn this;\n\t}\n\n\tif (n.compareAbs(MAX_EXP) > 0) {\n\t\tthrow new Error(\"exponent too large in BigInteger.pow\");\n\t}\n\tvar x = this;\n\tvar aux = ONE;\n\tvar two = BigInteger.small[2];\n\n\twhile (n.isPositive()) {\n\t\tif (n.isOdd()) {\n\t\t\taux = aux.multiply(x);\n\t\t\tif (n.isUnit()) {\n\t\t\t\treturn aux;\n\t\t\t}\n\t\t}\n\t\tx = x.square();\n\t\tn = n.quotient(two);\n\t}\n\n\treturn aux;\n};\n\n/*\n\tFunction: modPow\n\tRaise a <BigInteger> to a power (mod m).\n\n\tBecause it is reduced by a modulus, <modPow> is not limited by\n\t<BigInteger.MAX_EXP> like <pow>.\n\n\tParameters:\n\n\t\texponent - The exponent to raise *this* by. Must be positive.\n\t\tmodulus - The modulus.\n\n\tReturns:\n\n\t\t*this* ^ *exponent* (mod *modulus*).\n\n\tSee Also:\n\n\t\t<pow>, <mod>\n*/\nBigInteger.prototype.modPow = function(exponent, modulus) {\n\tvar result = ONE;\n\tvar base = this;\n\n\twhile (exponent.isPositive()) {\n\t\tif (exponent.isOdd()) {\n\t\t\tresult = result.multiply(base).remainder(modulus);\n\t\t}\n\n\t\texponent = exponent.quotient(BigInteger.small[2]);\n\t\tif (exponent.isPositive()) {\n\t\t\tbase = base.square().remainder(modulus);\n\t\t}\n\t}\n\n\treturn result;\n};\n\n/*\n\tFunction: log\n\tGet the natural logarithm of a <BigInteger> as a native JavaScript number.\n\n\tThis is equivalent to\n\n\t> Math.log(this.toJSValue())\n\n\tbut handles values outside of the native number range.\n\n\tReturns:\n\n\t\tlog( *this* )\n\n\tSee Also:\n\n\t\t<toJSValue>\n*/\nBigInteger.prototype.log = function() {\n\tswitch (this._s) {\n\tcase 0:\t return -Infinity;\n\tcase -1: return NaN;\n\tdefault: // Fall through.\n\t}\n\n\tvar l = this._d.length;\n\n\tif (l*BigInteger_base_log10 < 30) {\n\t\treturn Math.log(this.valueOf());\n\t}\n\n\tvar N = Math.ceil(30/BigInteger_base_log10);\n\tvar firstNdigits = this._d.slice(l - N);\n\treturn Math.log((new BigInteger(firstNdigits, 1, CONSTRUCT)).valueOf()) + (l - N) * Math.log(BigInteger_base);\n};\n\n/*\n\tFunction: valueOf\n\tConvert a <BigInteger> to a native JavaScript integer.\n\n\tThis is called automatically by JavaScipt to convert a <BigInteger> to a\n\tnative value.\n\n\tReturns:\n\n\t\t> parseInt(this.toString(), 10)\n\n\tSee Also:\n\n\t\t<toString>, <toJSValue>\n*/\nBigInteger.prototype.valueOf = function() {\n\treturn parseInt(this.toString(), 10);\n};\n\n/*\n\tFunction: toJSValue\n\tConvert a <BigInteger> to a native JavaScript integer.\n\n\tThis is the same as valueOf, but more explicitly named.\n\n\tReturns:\n\n\t\t> parseInt(this.toString(), 10)\n\n\tSee Also:\n\n\t\t<toString>, <valueOf>\n*/\nBigInteger.prototype.toJSValue = function() {\n\treturn parseInt(this.toString(), 10);\n};\n\nBigInteger.prototype.lowVal = function () {\n\treturn this._d[0] || 0;\n};\n\nvar MAX_EXP = BigInteger(0x7FFFFFFF);\n// Constant: MAX_EXP\n// The largest exponent allowed in <pow> and <exp10> (0x7FFFFFFF or 2147483647).\nBigInteger.MAX_EXP = MAX_EXP;\n\n(function() {\n\tfunction makeUnary(fn) {\n\t\treturn function(a) {\n\t\t\treturn fn.call(BigInteger(a));\n\t\t};\n\t}\n\n\tfunction makeBinary(fn) {\n\t\treturn function(a, b) {\n\t\t\treturn fn.call(BigInteger(a), BigInteger(b));\n\t\t};\n\t}\n\n\tfunction makeTrinary(fn) {\n\t\treturn function(a, b, c) {\n\t\t\treturn fn.call(BigInteger(a), BigInteger(b), BigInteger(c));\n\t\t};\n\t}\n\n\t(function() {\n\t\tvar i, fn;\n\t\tvar unary = \"toJSValue,isEven,isOdd,sign,isZero,isNegative,abs,isUnit,square,negate,isPositive,toString,next,prev,log\".split(\",\");\n\t\tvar binary = \"compare,remainder,divRem,subtract,add,quotient,divide,multiply,pow,compareAbs\".split(\",\");\n\t\tvar trinary = [\"modPow\"];\n\n\t\tfor (i = 0; i < unary.length; i++) {\n\t\t\tfn = unary[i];\n\t\t\tBigInteger[fn] = makeUnary(BigInteger.prototype[fn]);\n\t\t}\n\n\t\tfor (i = 0; i < binary.length; i++) {\n\t\t\tfn = binary[i];\n\t\t\tBigInteger[fn] = makeBinary(BigInteger.prototype[fn]);\n\t\t}\n\n\t\tfor (i = 0; i < trinary.length; i++) {\n\t\t\tfn = trinary[i];\n\t\t\tBigInteger[fn] = makeTrinary(BigInteger.prototype[fn]);\n\t\t}\n\n\t\tBigInteger.exp10 = function(x, n) {\n\t\t\treturn BigInteger(x).exp10(n);\n\t\t};\n\t})();\n})();\n\nexports.BigInteger = BigInteger;\n})(typeof exports !== 'undefined' ? exports : this);\n","var utils = require('./utils')\n\n// add inputs until we reach or surpass the target value (or deplete)\n// worst-case: O(n)\nmodule.exports = function accumulative (utxos, outputs, feeRate) {\n  if (!isFinite(utils.uintOrNaN(feeRate))) return {}\n  var bytesAccum = utils.transactionBytes([], outputs)\n\n  var inAccum = 0\n  var inputs = []\n  var outAccum = utils.sumOrNaN(outputs)\n\n  for (var i = 0; i < utxos.length; ++i) {\n    var utxo = utxos[i]\n    var utxoBytes = utils.inputBytes(utxo)\n    var utxoFee = feeRate * utxoBytes\n    var utxoValue = utils.uintOrNaN(utxo.value)\n\n    // skip detrimental input\n    if (utxoFee > utxo.value) {\n      if (i === utxos.length - 1) return { fee: feeRate * (bytesAccum + utxoBytes) }\n      continue\n    }\n\n    bytesAccum += utxoBytes\n    inAccum += utxoValue\n    inputs.push(utxo)\n\n    var fee = feeRate * bytesAccum\n\n    // go again?\n    if (inAccum < outAccum + fee) continue\n\n    return utils.finalize(inputs, outputs, feeRate)\n  }\n\n  return { fee: feeRate * bytesAccum }\n}\n","var utils = require('./utils')\n\n// only add inputs if they don't bust the target value (aka, exact match)\n// worst-case: O(n)\nmodule.exports = function blackjack (utxos, outputs, feeRate) {\n  if (!isFinite(utils.uintOrNaN(feeRate))) return {}\n\n  var bytesAccum = utils.transactionBytes([], outputs)\n\n  var inAccum = 0\n  var inputs = []\n  var outAccum = utils.sumOrNaN(outputs)\n  var threshold = utils.dustThreshold({}, feeRate)\n\n  for (var i = 0; i < utxos.length; ++i) {\n    var input = utxos[i]\n    var inputBytes = utils.inputBytes(input)\n    var fee = feeRate * (bytesAccum + inputBytes)\n    var inputValue = utils.uintOrNaN(input.value)\n\n    // would it waste value?\n    if ((inAccum + inputValue) > (outAccum + fee + threshold)) continue\n\n    bytesAccum += inputBytes\n    inAccum += inputValue\n    inputs.push(input)\n\n    // go again?\n    if (inAccum < outAccum + fee) continue\n\n    return utils.finalize(inputs, outputs, feeRate)\n  }\n\n  return { fee: feeRate * bytesAccum }\n}\n","var utils = require('./utils')\n\n// break utxos into the maximum number of 'output' possible\nmodule.exports = function broken (utxos, output, feeRate) {\n  if (!isFinite(utils.uintOrNaN(feeRate))) return {}\n\n  var bytesAccum = utils.transactionBytes(utxos, [])\n  var value = utils.uintOrNaN(output.value)\n  var inAccum = utils.sumOrNaN(utxos)\n  if (!isFinite(value) ||\n      !isFinite(inAccum)) return { fee: feeRate * bytesAccum }\n\n  var outputBytes = utils.outputBytes(output)\n  var outAccum = 0\n  var outputs = []\n\n  while (true) {\n    var fee = feeRate * (bytesAccum + outputBytes)\n\n    // did we bust?\n    if (inAccum < (outAccum + fee + value)) {\n      // premature?\n      if (outAccum === 0) return { fee: fee }\n\n      break\n    }\n\n    bytesAccum += outputBytes\n    outAccum += value\n    outputs.push(output)\n  }\n\n  return utils.finalize(utxos, outputs, feeRate)\n}\n","var accumulative = require('./accumulative')\nvar blackjack = require('./blackjack')\nvar utils = require('./utils')\n\n// order by descending value, minus the inputs approximate fee\nfunction utxoScore (x, feeRate) {\n  return x.value - (feeRate * utils.inputBytes(x))\n}\n\nmodule.exports = function coinSelect (utxos, outputs, feeRate) {\n  utxos = utxos.concat().sort(function (a, b) {\n    return utxoScore(b, feeRate) - utxoScore(a, feeRate)\n  })\n\n  // attempt to use the blackjack strategy first (no change output)\n  var base = blackjack(utxos, outputs, feeRate)\n  if (base.inputs) return base\n\n  // else, try the accumulative strategy\n  return accumulative(utxos, outputs, feeRate)\n}\n","var utils = require('./utils')\n\n// split utxos between each output, ignores outputs with .value defined\nmodule.exports = function split (utxos, outputs, feeRate) {\n  if (!isFinite(utils.uintOrNaN(feeRate))) return {}\n\n  var bytesAccum = utils.transactionBytes(utxos, outputs)\n  var fee = feeRate * bytesAccum\n  if (outputs.length === 0) return { fee: fee }\n\n  var inAccum = utils.sumOrNaN(utxos)\n  var outAccum = utils.sumForgiving(outputs)\n  var remaining = inAccum - outAccum - fee\n  if (!isFinite(remaining) || remaining < 0) return { fee: fee }\n\n  var unspecified = outputs.reduce(function (a, x) {\n    return a + !isFinite(x.value)\n  }, 0)\n\n  if (remaining === 0 && unspecified === 0) return utils.finalize(utxos, outputs, feeRate)\n\n  var splitOutputsCount = outputs.reduce(function (a, x) {\n    if (x.value !== undefined) return a\n    return a + 1\n  }, 0)\n  var splitValue = Math.floor(remaining / splitOutputsCount)\n\n  // ensure every output is either user defined, or over the threshold\n  if (!outputs.every(function (x) {\n    return x.value !== undefined || (splitValue > utils.dustThreshold(x, feeRate))\n  })) return { fee: fee }\n\n  // assign splitValue to outputs not user defined\n  outputs = outputs.map(function (x) {\n    if (x.value !== undefined) return x\n\n    // not user defined, but still copy over any non-value fields\n    var y = {}\n    for (var k in x) y[k] = x[k]\n    y.value = splitValue\n    return y\n  })\n\n  return utils.finalize(utxos, outputs, feeRate)\n}\n","// baseline estimates, used to improve performance\nvar TX_EMPTY_SIZE = 4 + 1 + 1 + 4\nvar TX_INPUT_BASE = 32 + 4 + 1 + 4\nvar TX_INPUT_PUBKEYHASH = 107\nvar TX_OUTPUT_BASE = 8 + 1\nvar TX_OUTPUT_PUBKEYHASH = 25\nvar OP_RETURN_OVERHEAD = 1 + 8 + 1\n\nfunction inputBytes (input) {\n  return TX_INPUT_BASE + (input.script ? input.script.length : TX_INPUT_PUBKEYHASH)\n}\n\nfunction outputBytes (output) {\n  if (output.script) {\n    return OP_RETURN_OVERHEAD + output.script.length + (output.script.length >= 74 ? 2 : 1);\n  }\n  return TX_OUTPUT_BASE + (output.script ? output.script.length : TX_OUTPUT_PUBKEYHASH)\n}\n\nfunction dustThreshold (output, feeRate) {\n  /* ... classify the output for input estimate  */\n  return inputBytes({}) * 3\n}\n\nfunction transactionBytes (inputs, outputs) {\n  return TX_EMPTY_SIZE +\n    inputs.reduce(function (a, x) { return a + inputBytes(x) }, 0) +\n    outputs.reduce(function (a, x) { return a + outputBytes(x) }, 0)\n}\n\nfunction uintOrNaN (v) {\n  if (typeof v !== 'number') return NaN\n  if (!isFinite(v)) return NaN\n  if (Math.floor(v) !== v) return NaN\n  if (v < 0) return NaN\n  return v\n}\n\nfunction sumForgiving (range) {\n  return range.reduce(function (a, x) { return a + (isFinite(x.value) ? x.value : 0) }, 0)\n}\n\nfunction sumOrNaN (range) {\n  return range.reduce(function (a, x) { return a + uintOrNaN(x.value) }, 0)\n}\n\nvar BLANK_OUTPUT = outputBytes({})\n\nfunction finalize (inputs, outputs, feeRate) {\n  var bytesAccum = transactionBytes(inputs, outputs)\n  var feeAfterExtraOutput = feeRate * (bytesAccum + BLANK_OUTPUT)\n  var remainderAfterExtraOutput = sumOrNaN(inputs) - (sumOrNaN(outputs) + feeAfterExtraOutput)\n\n  // is it worth a change output?\n  if (remainderAfterExtraOutput > dustThreshold({}, feeRate)) {\n    outputs = outputs.concat({ value: remainderAfterExtraOutput })\n  }\n\n  var fee = sumOrNaN(inputs) - sumOrNaN(outputs)\n  if (!isFinite(fee)) return { fee: feeRate * bytesAccum }\n\n  return {\n    inputs: inputs,\n    outputs: outputs,\n    fee: fee\n  }\n}\n\nmodule.exports = {\n  dustThreshold: dustThreshold,\n  finalize: finalize,\n  inputBytes: inputBytes,\n  outputBytes: outputBytes,\n  sumOrNaN: sumOrNaN,\n  sumForgiving: sumForgiving,\n  transactionBytes: transactionBytes,\n  uintOrNaN: uintOrNaN\n}\n","export default function timeoutSignal(timeout) {\r\n\tif (!Number.isInteger(timeout)) {\r\n\t\tthrow new TypeError('Expected an integer');\r\n\t}\r\n\r\n\tconst controller = new AbortController();\r\n\r\n\tconst timeoutId = setTimeout(() => {\r\n\t\tcontroller.abort();\r\n\t}, timeout);\r\n\r\n\t// Allow Node.js processes to exit early if only the timeout is running\r\n\ttimeoutId?.unref?.();\r\n\r\n\treturn controller.signal;\r\n}\r\n"],"names":["utxoScore","x","feeRate","value","sortUtxo","utxos","concat","sort","a","b","forceSelect","coinSelectAccumulativeDesc","outputs","coinSelect","inputsForCoinSelect","outputsForCoinSelect","algorithm","max","some","o","isMax","every","Number","isNaN","Error","finalOutputs","map","address","undefined","script","unspentSelectFn","inputs","fee","parseInt","slicePathTemplate","template","getUtxoAccountPrefixPath","fullPath","pathComponent","split","pop","join","getBIP44Path","account","realPath","key","Object","entries","addresses","path","estimateTxSize","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","result","Super","NewTarget","this","constructor","Reflect","construct","arguments","apply","t","Boolean","prototype","valueOf","call","KeyringBase","_VaultContext","_super","vault","_this","options","networkId","_basePrepareHdNormalAccounts","_basePrepareHdUtxoAccounts","_batchGetAddresses","_exportAccountSecretKeys","_buildHwAllNetworkPrepareAccountsParams","_proto","isKeyringImported","keyringType","imported","isKeyringHd","hd","isKeyringHardware","hardware","isKeyringWatching","watching","basePrepareHdNormalAccounts","params","walletId","names","deriveInfo","indexes","coinType","namePrefix","idSuffix","settings","getVaultSettings","accountType","buildAddressesInfo","usedIndexes","addressInfos","ret","idx","length","publicKey","relPath","VARIANT","pathIndex","name","buildHDAccountName","id","buildHDAccountId","indexedAccountId","buildIndexedAccountId","index","push","type","impl","pub","_x","_x2","basePrepareHdUtxoAccounts","skipCheckAccountExist","UTXO","checkIsAccountUsed","accountCreatePerf","utxoBuildAddressesInfo","addressesInfo","utxoBuildAddressesInfoDone","buildDBUtxoAccounts","xpub","xpubSegwit","prefix","isLast","isUsed","wait","buildDBUtxoAccountsDone","_x3","_x4","batchGetAddresses","_x5","exportAccountSecretKeys","_x6","buildHwAllNetworkPrepareAccountsParams","_x7","buildPrepareAccountsPrefixedPath","_KeyringBase","KeyringBaseMock","_super2","KeyringExternalBase","args","external","_baseSignMessageByExternalWallet","_baseSendTransactionByExternalWallet","_basePrepareExternalAccounts","baseSignMessageByExternalWallet","backgroundApi","serviceDappSide","signMessage","getAccount","baseSendTransactionByExternalWallet","sendTransaction","prepareAccounts","basePrepareExternalAccounts","KeyringHardwareBase","_getHardwareSDKInstance","_baseGetDeviceAccountData","_baseGetDeviceAccountPublicKeys","_baseGetDeviceAccountAddresses","_getAllNetworkPrepareAccounts","getHardwareSDKInstance","_ref","r","$backgroundApiProxy","serviceHardware","getSDKInstance","getHardwareSDKInstanceDone","baseGetDeviceAccountData","sdkGetDataFn","errorMessage","deviceParams","dbDevice","confirmOnDevice","connectId","deviceId","coinName","pathPrefix","pathSuffix","showOnOnekeyFn","arrIndex","EveryItem","LastItem","baseGetDeviceAccountPublicKeys","sdkGetPublicKeysFn","baseGetDeviceAccountAddresses","sdkGetAddressFn","getAllNetworkPrepareAccounts","hwSdkNetwork","buildPath","buildResultAccount","hwAllNetworkPrepareAccountsResponse","resultAccounts","_loop","find","item","network","success","payload","hasErrorItem","error","indexOf","KeyringHdBase","_KeyringSoftwareBase","KeyringImportedBase","ownKeys","e","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","KeyringSoftwareBase","_baseGetCredentialsInfo","_baseSignTransactionBtc","_baseSignTransaction","_baseSignMessage","_baseSignMessageBtc","_basePrepareAccountsImported","_basePrepareAccountsImportedUtxo","_basePrepareAccountsHd","_basePrepareAccountsHdUtxo","_baseExportAccountSecretKeys","_baseGetPrivateKeys","baseGetCredentialsInfo","password","getCredential","credential","accountId","baseSignTransactionBtc","coreApi","unsignedTx","signOnly","credentials","networkInfo","getCoreApiNetworkInfo","btcExtraInfo","relPaths","prepareBtcSignExtraInfo","signTransaction","baseSignTransaction","baseSignMessage","messages","Promise","all","msg","unsignedMsg","baseSignMessageBtc","_this2","unsignedMessage","basePrepareAccountsImported","importedCredential","networks","createAtNetwork","privateKey","onlyAvailableOnCertainNetworks","coinTypeDefault","privateKeyRaw","getAddressFromPrivate","addressEncoding","addressUsed","buildImportedAccountId","resolve","basePrepareAccountsImportedUtxo","_x8","basePrepareAccountsHd","_ref2","_this3","getAddressesFromHd","hdCredential","_x10","_x9","basePrepareAccountsHdUtxo","_ref3","_this4","getCredentialsInfo","getAddressesFromHdDone","_x13","_x11","_x12","baseExportAccountSecretKeys","keyType","serviceNetwork","getDeriveTypeByTemplate","getExportedSecretKey","_x14","baseGetPrivateKeys","getPrivateKeys","_x15","KeyringWatchingBase","_signTransaction","_signMessage","_basePrepareUtxoWatchingAccounts","_basePrepareSimpleWatchingAccounts","intl","formatMessage","ETranslations","wallet_error_trade_with_watched_acocunt","basePrepareUtxoWatchingAccounts","isUrlAccount","buildWatchingAccountId","addressFromXpub","getAddressFromPublic","basePrepareSimpleWatchingAccounts","SIMPLE","_excluded","_excluded2","VaultBase","_VaultBaseChainOnly","uuid","_init","_initKeyring","_broadcastTransaction","_broadcastTransactionFromCustomRpc","_validateSendAmount","_buildOnChainHistoryTxExtraInfo","_precheckUnsignedTx","_buildEstimateFeeParams","_buildParseTransactionParams","_buildFetchHistoryListParams","_buildHistoryTx","_buildOnChainHistoryTx","_buildHistoryTxAction","_buildHistoryTxFunctionCallAction","_buildHistoryTxUnknownAction","_buildHistoryTransferAction","_buildTxTransferAssetAction","_buildInternalSwapAction","_buildInternalStakingAction","_getAccount","_getAccountAddress","_getAccountPath","_getAccountXpub","_fillTokensDetails","_fillAccountDetails","_isEarliestLocalPendingTx","_buildReplaceEncodedTx","_attachFeeInfoToDAppEncodedTx","_activateToken","_getAddressType","_fetchAccountDetails","_fetchAccountDetailsByApi","_fetchAccountDetailsByRpc","_fetchTokenList","_fetchTokenListByApi","_fetchTokenListByRpc","_estimateFee","_estimateFeeByApi","_estimateFeeByRpc","_fetchAccountHistoryDetail","_fetchAccountHistoryDetailByApi","_fetchAccountHistoryDetailByRpc","_buildOkxSwapEncodedTx","_proto2","init","config","initKeyring","_x16","isChainOnly","keyring","keyringCreator","_x17","broadcastTransaction","signedTx","txid","serviceSend","encodedTx","_x18","broadcastTransactionFromCustomRpc","_x19","validateSendAmount","_x20","buildOnChainHistoryTxExtraInfo","onChainHistoryTx","_x21","precheckUnsignedTx","_x22","buildEstimateFeeParams","_x23","buildParseTransactionParams","_x24","buildFetchHistoryListParams","_x25","buildHistoryTx","historyTxToMerge","decodedTx","isSigner","isLocalCreated","accountAddress","serviceAccount","getAccountAddressForApi","getAccountXpub","owner","signer","historyTx","buildLocalHistoryId","_x26","buildOnChainHistoryTx","originAccountId","originNetworkId","tokens","nfts","originAccountAddress","originXpub","allNetworkHistoryExtraItems","onekeyall","allNetworkAccount","i","_","txXpub","accountXpub","vaultSettings","action","buildHistoryTxAction","tx","from","to","nonce","actions","status","totalFeeInNative","gasFee","totalFeeFiatValue","gasFeeFiatValue","nativeAmount","isUtxo","extraInfo","label","updatedAt","Date","timestamp","getTime","createdAt","isFinal","_x27","Approve","tokenApprove","buildHistoryTxApproveAction","sends","receives","buildHistoryTxFunctionCallAction","buildHistoryTxUnknownAction","buildHistoryTransferAction","_x28","getNetwork","FUNCTION_CALL","functionCall","functionName","functionHash","functionCode","_x29","UNKNOWN","unknownAction","_x30","ASSET_TRANSFER","assetTransfer","send","buildHistoryTransfer","transfer","receive","_x31","icon","symbol","isNFT","isNative","price","tokenAddress","token","tokenIdOnNetwork","amount","isOwn","decimals","TOKEN_APPROVE","spender","shiftedBy","toFixed","isInfiniteAmount","buildTxTransferAssetAction","transfers","data","application","isInternalSwap","isInternalStaking","internalStakingLabel","swapReceivedAddress","swapReceivedNetworkId","getAccountAddress","sendNativeTokenAmountBN","OUT","plus","nativeAmountValue","convertAmountToChainValue","_x32","buildInternalSwapAction","_swapSendToken$logoUR","_swapSendToken$name","_swapReceiveToken$log","_swapReceiveToken$nam","_providerInfo$provide","swapData","swapInfo","swapToAddress","swapSendToken","sender","swapReceiveToken","receiver","providerInfo","swapBuildResData","info","otherFeeInfos","otherFeeInfoTransfers","contractAddress","logoURI","receivingAddress","feeInfo","_feeInfo$token$logoUR","_feeInfo$token$name","providerName","providerLogo","_x33","buildInternalStakingAction","_send$token$logoURI","_send$token$name","_receive$token$logoUR","_receive$token$name","stakingInfo","stakingData","stakingToAddress","protocol","protocolLogoURI","_x34","_params$signOnly","_signedTx$encodedTx","_x35","dbAccount","getDBAccount","isAccountCompatibleWithNetwork","slice","getNetworkInfo","externalAccount","externalAccountAddress","connectedAddresses","buildExternalAccountAddress","fallbackIndex","_externalAccount$sele","selectedAddress","getNetworkImpl","addressDetail","buildAccountAddressDetail","allowEmptyAddress","isValid","getAccountPath","networkAccount","getXpubFromAccount","fillTokensDetails","tokensDetails","_x36","fillAccountDetails","accountDetails","_x37","isEarliestLocalPendingTx","_x38","buildReplaceEncodedTx","replaceType","_x39","attachFeeInfoToDAppEncodedTx","_x40","activateToken","_x41","getAddressType","_x42","buildStakeEncodedTx","fetchAccountDetails","isCustomNetwork","fetchAccountDetailsByRpc","fetchAccountDetailsByApi","_x43","queryParams","client","serviceAccountProfile","getClient","Wallet","get","headers","_getWalletTypeHeader","signal","_x44","_x45","fetchTokenList","fetchTokenListByRpc","fetchTokenListByApi","_x46","serviceToken","requestApiParams","flag","contractList","contract","post","_x47","_x48","estimateFee","estimateFeeByRpc","estimateFeeByApi","_x49","rest","serviceGas","_x50","_x51","fetchAccountHistoryDetail","fetchAccountHistoryDetailByRpc","fetchAccountHistoryDetailByApi","_x52","_x53","_x54","buildOkxSwapEncodedTx","_x55","VaultBaseChainOnly","_getXpubFromAccount","_proxyJsonRPCCall","_addressFromBase","_addressToBase","_baseValidatePrivateKey","_baseValidateGeneralInput","_baseGetPrivateKeyFromImported","_validateAmountInputShown","_checkIsDomainName","_resolveDomainName","_getCustomRpcEndpointStatus","_checkFeeSupportInfo","_fetchTokenDetails","_fetchTokenDetailsByApi","_fetchTokenDetailsByRpc","proxyJsonRPCCall","request","addressFromBase","addressToBase","baseValidatePrivateKey","baseValidateGeneralInput","addressResult","xpubResult","xprvtResult","privateKeyResult","input","encodedText","validateAddress","validateXprvt","validateXpub","validatePrivateKey","inputDecoded","baseGetPrivateKeyFromImported","stripHexPrefix","text","validateAmountInputShown","toAddress","checkIsDomainName","resolveDomainName","getCustomRpcEndpointStatus","checkFeeSupportInfo","fetchTokenDetails","fetchTokenDetailsByRpc","fetchTokenDetailsByApi","_params$signal","VaultContext","getWalletIdFromAccountId","_getNetworkId","_getNetwork","_getNetworkChainId","_getNetworkImpl","_getVaultSettings2","_getNetworkInfo","_getCoreApiNetworkInfo","_getRpcUrl","_destroy","getNetworkId","cached","_network","getNetworkChainId","hex","addressPrefix","curve","networkImpl","chainId","isTestnet","networkChainCode","code","getRpcUrl","destroy","KeyringExternal","_KeyringExternalBase","CRYPTONOTE_PUBLIC_ADDRESS_BASE58_PREFIX","CRYPTONOTE_PUBLIC_INTEGRATED_ADDRESS_BASE58_PREFIX","CRYPTONOTE_PUBLIC_SUBADDRESS_BASE58_PREFIX","encodeVarInt","number","numberBI","BigInteger","out","compare","lowVal","toString","divide","pow","toJSValue","cnFastHash","validHex","RegExp","test","keccak256","hexToBin","Uint8Array","cnBase58Decode","alphabetStr","alphabet","charCodeAt","encodedBlockSizes","alphabetSize","fullEncodedBlockSize","UINT64_MAX","decodeBlock","buf","resSize","resNum","order","_i","digit","product","multipliedBy","comparedTo","set","uint64To8be","num","size","numBN","res","twopow8","mod","toNumber","dividedToIntegerBy","addressArray","strToBin","str","fullBlockCount","Math","floor","lastBlockSize","lastBlockDecodedSize","_i2","subarray","binToHex","bin","decodeAddress","dec","expectedPrefix","expectedPrefixInt","expectedPrefixSub","spend","view","KeyringHardware","_KeyringHardwareBase","coreChainApi","dynex","showOnOneKey","dnxAddresses","allNetworkAccounts","p","accountUtils","buildPathFromTemplate","addressInfo","sdk","deviceCommonParams","signTxParams","feeMeta","paymentIdHex","paymentId","dnxSignTransaction","rawTx","serializeTransaction","txKey","computedKeyImages","signatures","outputKeys","decodedFrom","decodedTo","totalInputAmountBN","reduce","acc","chargeAmount","minus","globalIndex","_i3","outputKey","gt","extra","signature","ephemeralTxPubKey","integerToLittleEndianHex","bytes","_hexString$match","hexString","match","reverse","ephemeralTxSecKey","hexUtils","KeyringHd","_KeyringHdBase","_getPrivateKeys","_prepareAccounts","appLocale","global_bulk_add_account_dnx_error","KeyringImported","_KeyringImportedBase","KeyringWatching","_KeyringWatchingBase","ClientDnx","url","rpc","JsonRPCRequest","axios","A","create","baseURL","timeout","timerUtils","getTimeDurationMs","seconds","_getBlockCount","getBlockCount","count","resp","tx_as_hex","do_not_relay","DEFAULT_TX_FEE","Vault","_VaultBase","keyringMap","qr","hw","_collectUnspentOutputs","utxoList","withUTXOList","withFrozenBalance","utxo","prevIndex","vout","txPubkey","prevOutPubkey","promise","maxAge","_validateAddressCache","serviceValidator","serverValidateAddress","normalizedAddress","displayAddress","primitive","minute","_buildAccountAddressDetail","_buildEncodedTxFromTransfer2","_buildDecodedTx","_buildUnsignedTx","_buildUnsignedTxFromEncodedTx2","_checkHasLocalTxOutInPending2","baseAddress","buildEncodedTx","transfersInfo","_buildEncodedTxFromTransfer","transferInfo","tokenInfo","unspentOutputs","finalAmount","_collectInputs","_inputsFromCoinSelect","totalUnspentOutputsAmount","output","lte","lt","txId","inputsFromCoinSelect","tempInput","buildDecodedTx","nativeToken","getNativeToken","_nativeToken$logoURI","Pending","buildUnsignedTx","_params$encodedTx","_buildUnsignedTxFromEncodedTx","updateUnsignedTx","getPrivateKeyFromImported","xprvt","validateGeneralInput","filledTokensDetails","_checkHasLocalTxOutInPending","balance","balanceParsed","frozenBalance","frozenBalanceParsed","totalBalance","totalBalanceParsed","hasLocalTxOutInPending","pendingTxs","serviceHistory","getAccountLocalHistoryPendingTxs","fetchAccountHistory","len","start","performance","now","rpcUrl","bestBlockNumber","responseTime","customRpcInfo","EVaultKeyringTypes","EWrappedType","normalizePayload","method","jsonrpc","assign","parseRPCResponse","response","message","_call","_batchCall","_batchChunkCall","assembleHeaders","JSON","stringify","_error$response$statu","isAxiosError","batchCall","calls","ignoreSoloError","autoFallbackToRpcSingle","jsonResponses","c","Array","isArray","_error$response$statu2","idA","idB","catch","batchChunkCall","payloads","flattenedCalls","flat","flattenedResults","results","startIndex","chunk","chunkSize","exports","CONSTRUCT","n","s","ZERO","parse","_d","_s","_construct","BigInteger_base","base","base_log10","ONE","M_ONE","_0","_1","small","digits","group","numerals","sign","abs","divmod","divRem","radixRegex","prefixRE","expandExponential","replace","f","l","z","substr","parts","exec","baseSection","d","splice","multiply","add","negate","subtract","al","bl","sum","min","carry","m","compareAbs","diff","borrow","addOne","subtractOne","next","prev","isFinite","nl","isUnit","square","pl","partial","bi","jlimit","j","multiplySingleDigit","k","imult1","quotient","remainder","divRemSmall","guess","b_digits","b_index","quot","part","unshift","xlen","ylen","highx","highy","ceil","check","n_s","q","isEven","isOdd","isPositive","isNegative","isZero","exp10","MAX_EXP","shift","aux","two","modPow","exponent","modulus","log","Infinity","NaN","N","firstNdigits","makeUnary","fn","makeBinary","makeTrinary","unary","binary","trinary","utils","module","accumulative","uintOrNaN","bytesAccum","transactionBytes","inAccum","outAccum","sumOrNaN","utxoBytes","inputBytes","utxoFee","utxoValue","finalize","blackjack","threshold","dustThreshold","inputValue","broken","outputBytes","remaining","sumForgiving","unspecified","splitOutputsCount","splitValue","y","TX_EMPTY_SIZE","TX_INPUT_BASE","TX_INPUT_PUBKEYHASH","TX_OUTPUT_BASE","TX_OUTPUT_PUBKEYHASH","OP_RETURN_OVERHEAD","v","range","BLANK_OUTPUT","feeAfterExtraOutput","remainderAfterExtraOutput","timeoutSignal","isInteger","TypeError","controller","AbortController","timeoutId","setTimeout","abort","unref"],"sourceRoot":""}