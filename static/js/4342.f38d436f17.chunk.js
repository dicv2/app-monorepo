!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="65f39236-2648-4c8a-a8f0-4898bb58316a",e._sentryDebugIdIdentifier="sentry-dbid-65f39236-2648-4c8a-a8f0-4898bb58316a")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024112814)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[4342],{804342:(e,t,n)=>{n.r(t),n.d(t,{default:()=>SettingCurrencyModal});var r=n(586330),a=n(514041),o=n(908867),s=n(490343),i=(n(793239),n(547669)),u=n(791088),c=n(471169),l=n(334439),d=n(831085),p=[],currencyFilterFn=function(e,t){var n=e.toLowerCase();return t.id.toLowerCase().includes(n)||t.name.toLowerCase().includes(n)},CurrencyItem=function({item:e,onPress:t,currency:n}){var r=(0,a.useCallback)((function(){t(e)}),[e,t]);return(0,d.jsx)(u.c,{title:`${e.id.toUpperCase()} - ${e.unit}`,subtitle:e.name,checkMark:n?.id===e.id,onPress:r,"data-sentry-element":"ListItem","data-sentry-component":"CurrencyItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Setting/pages/Currency/index.tsx"})},keyExtractor=function(e,t){return`${t}`};function SettingCurrencyModal(){var[e]=(0,c.useSettingsPersistAtom)(),[t,n]=(0,a.useState)(""),u=(0,a.useRef)({id:e.currencyInfo.id,unit:e.currencyInfo.symbol}),[f,m]=(0,a.useState)(u.current),g=(0,o.A)(),[{currencyItems:y}]=(0,c.useCurrencyPersistAtom)(),k=(0,a.useMemo)((function(){if(0===y.length)return[];for(var e={crypto:[],fiat:[],popular:[]},n=y.filter((function(e){return currencyFilterFn(t,e)})),_loop=function(){var t=n[r];t.type.forEach((function(n){e[n]&&e[n].push(t)}))},r=0;r<n.length;r+=1)_loop();return[{title:g.formatMessage({id:l.ETranslations.global_popular}),data:e.popular},{title:g.formatMessage({id:l.ETranslations.global_crypto}),data:e.crypto},{title:g.formatMessage({id:l.ETranslations.settings_fiat}),data:e.fiat}].filter((function(e){return e.data.length>0}))}),[y,t,g]),b=(0,a.useCallback)((function(e){m(e)}),[]),w=(0,a.useCallback)((function({item:e}){return(0,d.jsx)(CurrencyItem,{item:e,currency:f,onPress:b})}),[f,b]),C=(0,a.useCallback)((function({section:e}){return(0,d.jsx)(s.SectionList.SectionHeader,{title:e.title})}),[]),h=(0,a.useCallback)((0,r.A)((function*(){f&&(yield i.A.serviceSetting.setCurrency({id:f.id,symbol:f.unit}),setTimeout((function(){i.A.serviceApp.restartApp()})))})),[f]),x=(0,a.useMemo)((function(){return u.current.id===f?.id}),[f?.id]),S=(0,a.useMemo)((function(){return{onChangeText:function({nativeEvent:e}){var t=e.text.trim();n(t)},placeholder:g.formatMessage({id:l.ETranslations.global_search})}}),[g]);return(0,d.jsxs)(s.Page,{"data-sentry-element":"Page","data-sentry-component":"SettingCurrencyModal","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Setting/pages/Currency/index.tsx",children:[(0,d.jsx)(s.Page.Header,{title:g.formatMessage({id:l.ETranslations.settings_default_currency}),headerSearchBarOptions:S,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Setting/pages/Currency/index.tsx"}),(0,d.jsx)(s.Page.Body,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Setting/pages/Currency/index.tsx",children:(0,d.jsx)(s.SectionList,{estimatedItemSize:60,ListEmptyComponent:(0,d.jsx)(s.Empty,{icon:"SearchOutline",title:g.formatMessage({id:l.ETranslations.global_no_results}),description:g.formatMessage({id:l.ETranslations.global_search_no_results_desc})}),sections:null!=k?k:p,renderItem:w,renderSectionHeader:C,extraData:f,keyExtractor,"data-sentry-element":"SectionList","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Setting/pages/Currency/index.tsx"})}),(0,d.jsx)(s.Page.Footer,{onConfirm:h,confirmButtonProps:{disabled:x},"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Setting/pages/Currency/index.tsx"})]})}}}]);
//# sourceMappingURL=4342.f38d436f17.chunk.js.map