!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="c45c7f6b-c995-4f60-b42a-b9b3f19be2dc",e._sentryDebugIdIdentifier="sentry-dbid-c45c7f6b-c995-4f60-b42a-b9b3f19be2dc")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024112814)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[39937],{20322:(e,r,t)=>{t.d(r,{Gr:()=>useSwapRecipientAddressInfo,jA:()=>useSwapFromAccountNetworkSync,zf:()=>useSwapAddressInfo});var n=t(324586),o=t(586330),c=t(712784),a=t.n(c),d=t(514041),s=t(490343),u=t(153763),i=t(471169),p=t(193068),l=t(491180),f=t(619390),w=t(547669),b=t(317522),m=t(911998),A=t(162616),y=t(325529);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,n.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function useSwapFromAccountNetworkSync(){var{updateSelectedAccountNetwork:e}=(0,A.z$)().current,[r]=(0,y.NE)(),{activeAccount:t}=(0,A.LH)({num:1}),{activeAccount:n}=(0,A.LH)({num:0}),[c,l]=(0,y.rv)(),[f]=(0,y.dF)(),[,w]=(0,i.useSettingsAtom)(),[m]=(0,y.Q8)(),S=(0,d.useRef)(),g=(0,d.useRef)(),j=(0,d.useRef)(),k=(0,d.useRef)(c),I=(0,d.useRef)(t),h=(0,d.useRef)(n);I.current!==t&&(I.current=t),h.current!==n&&(h.current=n),S.current!==r&&(S.current=r),g.current!==m&&(g.current=m),k.current!==c&&(k.current=c),j.current!==f&&(j.current=f);var v,O=(0,d.useCallback)(a()((0,o.A)((function*(){S.current&&(yield e({num:0,networkId:S.current?.networkId})),g.current&&(yield e({num:1,networkId:g.current?.networkId})),S.current&&g.current&&(k.current?.networkId&&g.current?.networkId!==k.current?.networkId||!k.current?.networkId&&!I.current?.account&&I.current?.wallet||!1===j.current||!k.current.address&&I.current.account?.id!==h.current.account?.id)&&(w((function(e){return _objectSpread(_objectSpread({},e),{},{swapToAnotherAccountSwitchOn:!1})})),l((function(e){return _objectSpread(_objectSpread({},e),{},{address:void 0})})),setTimeout((function(){g.current?.networkId&&I.current.network?.id&&g.current?.networkId!==I.current.network.id&&e({num:1,networkId:g.current?.networkId})}),500))})),100),[w,e]),_=(0,s.usePageType)();(0,b.A)(p.V4.Swap,(v=(0,o.A)((function*(e,r){if(_!==s.EPageType.modal){if(r)return;e&&(yield O())}})),function(e,r){return v.apply(this,arguments)})),(0,d.useEffect)((function(){_!==s.EPageType.modal&&(0,o.A)((function*(){yield O()}))()}),[O,r?.networkId,r?.contractAddress,m?.networkId,m?.contractAddress,f,_]);var P=(0,u.E)();(0,d.useEffect)((function(){_===s.EPageType.modal&&P&&(0,o.A)((function*(){yield O()}))()}),[O,P,_,r?.networkId,r?.contractAddress,m?.networkId,m?.contractAddress,f])}function useSwapAddressInfo(e){var{activeAccount:r}=(0,A.LH)({num:e===f.En.FROM?0:1}),[{swapToAnotherAccountSwitchOn:t}]=(0,i.useSettingsAtom)(),[n]=(0,y.rv)();return(0,d.useMemo)((function(){var o={networkId:void 0,address:void 0,accountInfo:void 0,activeAccount:void 0};return e===f.En.TO&&t&&n.address&&n.networkId&&r&&r.network?.id===n.networkId?_objectSpread(_objectSpread({},o),{},{address:n.address,networkId:n.networkId,accountInfo:n.accountInfo,activeAccount:_objectSpread({},r)}):r?_objectSpread(_objectSpread({},o),{},{address:r.account?.address,networkId:r.network?.id,accountInfo:_objectSpread({},r),activeAccount:_objectSpread({},r)}):o}),[e,t,n,r])}function useSwapRecipientAddressInfo(e){var r=useSwapAddressInfo(f.En.FROM),t=useSwapAddressInfo(f.En.TO),[n]=(0,y.Zr)(),[{swapToAnotherAccountSwitchOn:c}]=(0,i.useSettingsAtom)(),[a]=(0,y.rv)(),d=(0,m.yk)((0,o.A)((function*(){return e?t.networkId&&r.accountInfo?.account?.id&&r.accountInfo?.indexedAccount?.id?yield w.A.serviceStaking.getEarnAccount({accountId:r.accountInfo?.account?.id,networkId:t.networkId,indexedAccountId:r.accountInfo?.indexedAccount?.id}):void 0:null})),[e,t.networkId,r.accountInfo?.account?.id,r.accountInfo?.indexedAccount?.id],{}),s=(0,m.yk)((0,o.A)((function*(){if(a.networkId&&a.address){var e=yield w.A.serviceAccount.getAccountNameFromAddress({networkId:a.networkId,address:a.address});if(e.length>0)return e[0]}})),[a.address,a.networkId],{});if(t.address===a.address&&c&&d?.result?.accountAddress&&d?.result?.accountAddress!==a.address&&a.networkId===n?.toTokenInfo.networkId)return{accountInfo:a.accountInfo?.account?.address===a.address?{walletName:a.accountInfo?.wallet?.name,accountName:a.accountInfo?.accountName,accountId:a.accountInfo?.account?.id}:s.result,showAddress:l.A.shortenAddress({address:a.address,leadingLength:6,trailingLength:6}),isExtAccount:a.accountInfo?.account?.address!==a.address&&!s.result}}},309008:(e,r,t)=>{t.d(r,{o:()=>i});var n=t(324586),o=t(514041),c=t(325529),a=t(2577),d=t(597102),s=t(829561),u=t(831085);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,n.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var i=(0,o.memo)((function(e){var{children:r,storeName:t}=e,n=(0,s.x6)(t),o=a.A.getOrCreateStore(n);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d.H,_objectSpread({},n)),(0,u.jsx)(c.BY,{store:o,children:r})]})}));i.displayName="SwapProviderMirror"},639937:(e,r,t)=>{t.r(r),t.d(r,{default:()=>SwapToAnotherAddressPageModal});var n=t(324586),o=t(514041),c=t(654266),a=t(908867),d=t(490343),s=t(325809),u=t(370968),i=t(498356),p=t(325529),l=t(471169),f=t(334439),w=t(714191),b=t(619390),m=t(20322),A=t(309008),y=t(831085);function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,n.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var SwapToAnotherAddressPage=function(){var e=(0,i.A)(),r=(0,c.lq)(),t=r.params?.address,{accountInfo:n,address:s,activeAccount:w}=(0,m.zf)(b.En.TO),[,A]=(0,l.useSettingsAtom)(),[,S]=(0,p.rv)(),[g]=(0,p.Zr)(),[,j]=(0,p.wG)(),k=(0,a.A)(),I=(0,d.useForm)({defaultValues:{address:{raw:""}},mode:"onChange",reValidateMode:"onBlur"});(0,o.useEffect)((function(){s&&n?.account?.address===s?I.setValue("address",{raw:s}):t&&I.setValue("address",{raw:t})}),[n?.account?.address,s,I,t]);var h=(0,o.useCallback)((function(){A((function(e){return _objectSpread(_objectSpread({},e),{},{swapToAnotherAccountSwitchOn:!0})}))}),[A]),v=(0,o.useCallback)((function(r){var t=r.address.resolved;t&&(A((function(e){return _objectSpread(_objectSpread({},e),{},{swapToAnotherAccountSwitchOn:!0})})),S((function(e){return _objectSpread(_objectSpread({},e),{},{address:t,networkId:w?.network?.id,accountInfo:w})})),j(g),e.pop())}),[w,e,g,A,j,S]),O=(0,o.useCallback)((function(){A((function(e){return _objectSpread(_objectSpread({},e),{},{swapToAnotherAccountSwitchOn:!1})})),S((function(e){return _objectSpread(_objectSpread({},e),{},{address:void 0})}))}),[S,A]),_=(0,o.useMemo)((function(){return{num:1,onBeforeAccountSelectorOpen:h}}),[h]);return n&&n?.network?.id?(0,y.jsxs)(d.Page,{scrollEnabled:!0,children:[(0,y.jsxs)(d.Page.Body,{px:"$5",gap:"$6",children:[(0,y.jsx)(d.Form,{form:I,children:(0,y.jsx)(d.Form.Field,{label:k.formatMessage({id:f.ETranslations.global_recipient}),name:"address",rules:{required:!0,validate:function(e){var r;if(!e.pending&&!e.resolved)return null!=(r=e.validateError?.message)?r:k.formatMessage({id:f.ETranslations.send_address_invalid})}},children:(0,y.jsx)(u.N,{networkId:n?.network?.id,enableAddressBook:!0,enableWalletName:!0,accountId:n?.account?.id,contacts:!0,accountSelector:_})})}),(0,y.jsxs)(d.Stack,{gap:"$4",children:[(0,y.jsxs)(d.XStack,{children:[(0,y.jsx)(d.Stack,{$md:{pt:"$0.5"},children:(0,y.jsx)(d.Icon,{name:"CheckRadioOutline",size:"$5",color:"$iconSuccess"})}),(0,y.jsx)(d.SizableText,{flex:1,pl:"$2",size:"$bodyLg",color:"$textSubdued",$gtMd:{size:"$bodyMd"},children:k.formatMessage({id:f.ETranslations.swap_page_recipient_modal_verify})})]}),(0,y.jsxs)(d.XStack,{children:[(0,y.jsx)(d.Stack,{$md:{pt:"$0.5"},children:(0,y.jsx)(d.Icon,{name:"BlockOutline",size:"$5",color:"$iconCritical"})}),(0,y.jsx)(d.SizableText,{flex:1,pl:"$2",size:"$bodyLg",color:"$textSubdued",$gtMd:{size:"$bodyMd"},children:k.formatMessage({id:f.ETranslations.swap_page_recipient_modal_do_not})})]})]})]}),(0,y.jsx)(d.Page.Footer,{onConfirm:function(){return I.handleSubmit(v)()},onConfirmText:k.formatMessage({id:f.ETranslations.global_confirm}),onCancelText:k.formatMessage({id:f.ETranslations.swap_account_to_address_edit_button}),onCancel:O})]}):null},SwapToAnotherAddressPageWithProvider=function(){var e=(0,c.lq)(),{storeName:r}=e.params;return(0,y.jsx)(A.o,{storeName:r,"data-sentry-element":"SwapProviderMirror","data-sentry-component":"SwapToAnotherAddressPageWithProvider","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/modal/SwapToAnotherAddressModal.tsx",children:(0,y.jsx)(SwapToAnotherAddressPage,{"data-sentry-element":"SwapToAnotherAddressPage","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/modal/SwapToAnotherAddressModal.tsx"})})};function SwapToAnotherAddressPageModal(){return(0,y.jsx)(s.b8,{config:{sceneName:w.Zs.swap},enabledNum:[0,1],"data-sentry-element":"AccountSelectorProviderMirror","data-sentry-component":"SwapToAnotherAddressPageModal","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/modal/SwapToAnotherAddressModal.tsx",children:(0,y.jsx)(SwapToAnotherAddressPageWithProvider,{"data-sentry-element":"SwapToAnotherAddressPageWithProvider","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/modal/SwapToAnotherAddressModal.tsx"})})}}}]);
//# sourceMappingURL=39937.71c847e5e3.chunk.js.map