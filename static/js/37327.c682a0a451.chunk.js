!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="6d02f8cb-cc4c-43a3-9f69-8281e9bfabce",e._sentryDebugIdIdentifier="sentry-dbid-6d02f8cb-cc4c-43a3-9f69-8281e9bfabce")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024112814)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[37327],{775892:(e,s,r)=>{r.d(s,{z:()=>CreateOrEditContent});var o=r(586330),a=r(514041),t=r(908867),n=r(490343),d=r(547669),i=r(370968),l=r(142097),m=r(334439),c=r(911998),p=r(831085),CreateOrEditContent=function({title:e,item:s,onSubmit:r,onRemove:u}){var f,k,_,g=(0,t.A)(),w=(0,n.useForm)({defaultValues:{id:s.id,networkId:s.networkId,name:s.name,address:{raw:s.address,resolved:""}},mode:"onChange",reValidateMode:"onChange"}),y=(0,a.useCallback)((function(){return u?(0,p.jsx)(n.IconButton,{icon:"DeleteOutline",variant:"tertiary",onPress:function(){return u(s)},testID:"address-form-remove"}):null}),[u,s]),b=w.watch("networkId"),v=w.watch("address.pending"),h=(0,a.useCallback)((f=(0,o.A)((function*(e){var s;yield r?.({id:e.id,name:e.name,networkId:e.networkId,address:null!=(s=e.address.resolved)?s:""})})),function(e){return f.apply(this,arguments)}),[r]),{result:C}=(0,c.yk)((0,o.A)((function*(){return(yield d.A.serviceNetwork.getAddressBookEnabledNetworks()).map((function(e){return e.id}))})),[],{initResult:[]});return(0,p.jsxs)(n.Page,{"data-sentry-element":"Page","data-sentry-component":"CreateOrEditContent","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AddressBook/components/CreateOrEditContent.tsx",children:[(0,p.jsx)(n.Page.Header,{title:e,headerRight:y,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AddressBook/components/CreateOrEditContent.tsx"}),(0,p.jsx)(n.Page.Body,{p:"$4","data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AddressBook/components/CreateOrEditContent.tsx",children:(0,p.jsxs)(n.Form,{form:w,"data-sentry-element":"Form","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AddressBook/components/CreateOrEditContent.tsx",children:[(0,p.jsx)(n.Form.Field,{label:g.formatMessage({id:m.ETranslations.address_book_add_address_chain}),name:"networkId",rules:{required:!0},"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AddressBook/components/CreateOrEditContent.tsx",children:(0,p.jsx)(l.P,{networkIds:C,"data-sentry-element":"ChainSelectorInput","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AddressBook/components/CreateOrEditContent.tsx"})}),(0,p.jsx)(n.Form.Field,{label:g.formatMessage({id:m.ETranslations.address_book_add_address_name}),name:"name",rules:{required:{value:!0,message:g.formatMessage({id:m.ETranslations.address_book_add_address_name_empty_error})},maxLength:{value:24,message:g.formatMessage({id:m.ETranslations.address_book_add_address_name_length_erro},{num:24})},validate:(_=(0,o.A)((function*(e){var r=yield d.A.serviceAddressBook.findItem({name:e});if(r&&s.id!==r.id)return g.formatMessage({id:m.ETranslations.address_book_add_address_name_exists})})),function validate(e){return _.apply(this,arguments)})},testID:"address-form-name-field","data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AddressBook/components/CreateOrEditContent.tsx",children:(0,p.jsx)(n.Input,{placeholder:g.formatMessage({id:m.ETranslations.address_book_add_address_name_required}),testID:"address-form-name","data-sentry-element":"Input","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AddressBook/components/CreateOrEditContent.tsx"})}),(0,p.jsx)(n.Form.Field,{label:g.formatMessage({id:m.ETranslations.address_book_add_address_address}),name:"address",rules:{validate:(k=(0,o.A)((function*(e){if(!e.pending){var r;if(!e.resolved)return null!=(r=e.validateError?.message)?r:g.formatMessage({id:m.ETranslations.address_book_add_address_address_invalid_error});var o=yield d.A.serviceAddressBook.findItem({address:e.resolved});if(o&&s.id!==o.id)return g.formatMessage({id:m.ETranslations.address_book_add_address_address_exists})}})),function validate(e){return k.apply(this,arguments)})},description:b.startsWith("evm--")?(0,p.jsxs)(n.XStack,{alignItems:"center",mt:"$1",children:[(0,p.jsx)(n.Icon,{size:"$4",name:"CheckRadioSolid"}),(0,p.jsx)(n.SizableText,{size:"$bodyMd",ml:"$1",children:g.formatMessage({id:m.ETranslations.address_book_add_address_add_to_evm_chains})})]}):null,testID:"address-form-address-field","data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AddressBook/components/CreateOrEditContent.tsx",children:(0,p.jsx)(i.N,{networkId:b,placeholder:g.formatMessage({id:m.ETranslations.address_book_add_address_address}),autoError:!1,testID:"address-form-address",enableNameResolve:!0,enableAddressContract:!0,"data-sentry-element":"AddressInput","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AddressBook/components/CreateOrEditContent.tsx"})})]})}),(0,p.jsx)(n.Page.Footer,{onConfirmText:g.formatMessage({id:m.ETranslations.address_book_add_address_button_save}),confirmButtonProps:{variant:"primary",loading:w.formState.isSubmitting,disabled:!w.formState.isValid||v,onPress:w.handleSubmit(h),testID:"address-form-save"},"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AddressBook/components/CreateOrEditContent.tsx"})]})}},737327:(e,s,r)=>{r.r(s),r.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(586330),a=r(514041),t=r(654266),n=r(908867),d=r(490343),i=r(547669),l=r(498356),m=r(334439),c=r(775892),p=r(831085);const __WEBPACK_DEFAULT_EXPORT__=function(){var e,s,r=(0,n.A)(),u=(0,l.A)(),f=(0,t.lq)(),k=(0,a.useCallback)((e=(0,o.A)((function*(e){try{yield i.A.serviceAddressBook.updateItem(e),d.Toast.success({title:r.formatMessage({id:m.ETranslations.address_book_add_address_toast_save_success})}),u.pop()}catch(e){d.Toast.error({title:e.message})}})),function(s){return e.apply(this,arguments)}),[u,r]),_=(0,a.useCallback)((s=(0,o.A)((function*(e){var s;d.Dialog.show({title:r.formatMessage({id:m.ETranslations.address_book_edit_address_delete_contact_title}),icon:"DeleteOutline",description:r.formatMessage({id:m.ETranslations.address_book_edit_address_delete_contact_message}),tone:"destructive",showConfirmButton:!0,showCancelButton:!0,onConfirm:(s=(0,o.A)((function*(){if(e.id)try{yield i.A.serviceAddressBook.removeItem(e.id),d.Toast.success({title:r.formatMessage({id:m.ETranslations.address_book_add_address_toast_delete_success})}),u.pop()}catch(e){d.Toast.error({title:e.message})}})),function onConfirm(){return s.apply(this,arguments)}),confirmButtonProps:{testID:"address-remove-confirm"},cancelButtonProps:{testID:"address-remove-cancel"}})})),function(e){return s.apply(this,arguments)}),[u,r]);return(0,p.jsx)(c.z,{title:r.formatMessage({id:m.ETranslations.address_book_edit_address_title}),item:f.params,onSubmit:k,onRemove:_,"data-sentry-element":"CreateOrEditContent","data-sentry-component":"EditItemPage","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AddressBook/pages/EditItem/index.tsx"})}}}]);
//# sourceMappingURL=37327.c682a0a451.chunk.js.map