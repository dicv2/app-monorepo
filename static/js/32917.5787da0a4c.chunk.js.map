{"version":3,"file":"static/js/32917.5787da0a4c.chunk.js","mappings":"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","sources":["webpack://web/../../packages/core/src/utils/coinSelectUtils.ts","webpack://web/../../packages/core/src/utils/index.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHardwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringHdBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringImportedBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringQrBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringSoftwareBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/KeyringWatchingBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultBase.ts","webpack://web/../../packages/kit-bg/src/vaults/base/VaultContext.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/KeyringHardwareBtcBase.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/KeyringHd.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/KeyringImported.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/KeyringQr.ts","webpack://web/../../packages/core/src/chains/btc/sdkBtc/verify.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/KeyringWatching.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/KeyringHardware.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/sdkBtc/ClientBtc.ts","webpack://web/../../packages/kit-bg/src/vaults/impls/btc/Vault.ts","webpack://web/../../packages/shared/src/consts/chainConsts.ts","webpack://web/../../packages/kit-bg/src/vaults/types.ts","webpack://web/../../node_modules/coinselect/accumulative.js","webpack://web/../../node_modules/coinselect/blackjack.js","webpack://web/../../node_modules/coinselect/break.js","webpack://web/../../node_modules/coinselect/index.js","webpack://web/../../node_modules/coinselect/split.js","webpack://web/../../node_modules/coinselect/utils.js"],"sourcesContent":["import _isNil from\"lodash/isNil\";import coinSelectAuto from'coinselect';import coinSelectAccumulative from'coinselect/accumulative';import coinSelectBlackjack from'coinselect/blackjack';import coinSelectBreak from'coinselect/break';import coinSelectSplit from'coinselect/split';import coinSelectUtils from'coinselect/utils';function utxoScore(x,feeRate){return x.value-feeRate*coinSelectUtils.inputBytes(x);}export function blackjackPro(utxos,outputs,feeRateNum){if(!Number.isFinite(coinSelectUtils.uintOrNaN(feeRateNum)))return{};var bytesAccum=coinSelectUtils.transactionBytes([],outputs);var inAccum=0;var inputs=[];var outAccum=coinSelectUtils.sumOrNaN(outputs);var threshold=coinSelectUtils.dustThreshold({},feeRateNum);for(var i=0;i<utxos.length;i+=1){var input=utxos[i];var inputBytes=coinSelectUtils.inputBytes(input);var fee=feeRateNum*(bytesAccum+inputBytes);var inputValue=coinSelectUtils.uintOrNaN(input.value);if(!input.forceSelect){if(inAccum+inputValue>outAccum+fee+threshold)continue;}bytesAccum+=inputBytes;inAccum+=inputValue;inputs.push(input);if(inAccum<outAccum+fee)continue;return coinSelectUtils.finalize(inputs,outputs,feeRateNum);}return{fee:feeRateNum*bytesAccum};}export function accumulativePro(utxos,outputs,feeRate){if(!Number.isFinite(coinSelectUtils.uintOrNaN(feeRate)))return{};var bytesAccum=coinSelectUtils.transactionBytes([],outputs);var inAccum=0;var inputs=[];var outAccum=coinSelectUtils.sumOrNaN(outputs);for(var i=0;i<utxos.length;i+=1){var utxo=utxos[i];var utxoBytes=coinSelectUtils.inputBytes(utxo);var utxoFee=feeRate*utxoBytes;var utxoValue=coinSelectUtils.uintOrNaN(utxo.value);if(utxoFee>utxo.value){if(i===utxos.length-1)return{fee:feeRate*(bytesAccum+utxoBytes)};if(!utxo.forceSelect){continue;}}bytesAccum+=utxoBytes;inAccum+=utxoValue;inputs.push(utxo);var fee=feeRate*bytesAccum;if(inAccum<outAccum+fee)continue;return coinSelectUtils.finalize(inputs,outputs,feeRate);}return{fee:feeRate*bytesAccum};}function sortUtxo({utxos,feeRate}){return utxos.concat().sort(function(a,b){if(a.forceSelect){return-1;}if(b.forceSelect){return 1;}return utxoScore(b,feeRate)-utxoScore(a,feeRate);});}export function coinSelectAutoPro(utxos,outputs,feeRate,useBlackjack=true){utxos=sortUtxo({utxos,feeRate});if(useBlackjack){var base=blackjackPro(utxos,outputs,feeRate);if(base.inputs)return base;}return accumulativePro(utxos,outputs,feeRate);}export function coinSelectAccumulativeDesc(utxos,outputs,feeRate){utxos=sortUtxo({utxos,feeRate});return coinSelectAccumulative(utxos,outputs,feeRate);}export var coinSelect=function({inputsForCoinSelect,outputsForCoinSelect,feeRate,algorithm='auto'}){var max=outputsForCoinSelect.some(function(o){return o.isMax;});var validAmount=outputsForCoinSelect.every(function(o){if(o.isMax){return typeof o.value==='undefined';}return typeof o.value==='number'&&!Number.isNaN(o.value);});if(!validAmount){throw new Error('coinSelect ERROR: Invalid amount in outputs, you should specify valid value or isMax');}var finalOutputs=outputsForCoinSelect.map(function(o){return{address:o.address,value:o.isMax?undefined:o.value,script:o.script};});var unspentSelectFn=max?coinSelectSplit:coinSelectAuto;if(algorithm==='accumulative_desc'){unspentSelectFn=coinSelectAccumulativeDesc;}if(algorithm==='accumulative'){unspentSelectFn=coinSelectAccumulative;}if(algorithm==='blackjack'){unspentSelectFn=coinSelectBlackjack;}if(algorithm==='break'){unspentSelectFn=coinSelectBreak;}if(algorithm==='split'){unspentSelectFn=coinSelectSplit;}var{inputs,outputs,fee}=unspentSelectFn(inputsForCoinSelect,finalOutputs,parseInt(feeRate,10));if(_isNil(fee)){throw new Error('coinSelect ERROR: No fee found');}return{inputs,outputs,fee};};","import coinselectUtils from'coinselect/utils';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';export function slicePathTemplate(template){return accountUtils.slicePathTemplate(template);}export function getUtxoAccountPrefixPath({fullPath}){var pathComponent=fullPath.split('/');pathComponent.pop();pathComponent.pop();var prefixPath=pathComponent.join('/');return prefixPath;}export function getBIP44Path(account,address){var realPath='';for(var[key,value]of Object.entries(account.addresses)){if(value===address){realPath=key;break;}}return`${account.path}/${realPath}`;}export function estimateTxSize(inputsForCoinSelect,outputsForCoinSelect){return coinselectUtils.transactionBytes(inputsForCoinSelect,outputsForCoinSelect);}","import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{NotImplemented}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{VaultContext}from\"./VaultContext\";export var KeyringBase=function(_VaultContext){_inherits(KeyringBase,_VaultContext);var _super=_createSuper(KeyringBase);function KeyringBase(vault){var _this;_this=_super.call(this,vault.options);_this.vault=vault;if(_this.vault.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match1');}if(_this.networkId!==vault.options.networkId){throw new Error('KeyringBase ERROR: networkId not match2');}return _this;}var _proto=KeyringBase.prototype;_proto.isKeyringImported=function isKeyringImported(){return this.keyringType===EVaultKeyringTypes.imported;};_proto.isKeyringHd=function isKeyringHd(){return this.keyringType===EVaultKeyringTypes.hd;};_proto.isKeyringHardware=function isKeyringHardware(){return this.keyringType===EVaultKeyringTypes.hardware;};_proto.isKeyringWatching=function isKeyringWatching(){return this.keyringType===EVaultKeyringTypes.watching;};_proto.basePrepareHdNormalAccounts=function(){var _basePrepareHdNormalAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is not defined');}var{names,deriveInfo,indexes}=params;var{coinType,template,namePrefix,idSuffix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;var{buildAddressesInfo}=options;var usedIndexes=indexes;var addressInfos=yield buildAddressesInfo({usedIndexes});var ret=[];for(var idx=0;idx<addressInfos.length;idx+=1){var{path,publicKey,address,addresses,relPath}=addressInfos[idx];if(!path){throw new Error('KeyringHD prepareAccounts ERROR: path not found');}if(accountType===EDBAccountType.VARIANT&&!addresses){throw new Error('addresses is required for variant account');}if(accountType===EDBAccountType.VARIANT&&address){throw new Error('address should not set for variant account');}var pathIndex=usedIndexes[idx];var name=names?.[idx]||accountUtils.buildHDAccountName({pathIndex,namePrefix});var id=accountUtils.buildHDAccountId({walletId,path,idSuffix});var indexedAccountId=accountUtils.buildIndexedAccountId({walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,relPath,indexedAccountId,coinType,impl:settings.impl,pub:publicKey,address,addresses,template});}return ret;});function basePrepareHdNormalAccounts(_x,_x2){return _basePrepareHdNormalAccounts.apply(this,arguments);}return basePrepareHdNormalAccounts;}();_proto.basePrepareHdUtxoAccounts=function(){var _basePrepareHdUtxoAccounts=_asyncToGenerator(function*(params,options){var{walletId}=this;if(!walletId){throw new Error('walletId is undefined');}var{indexes,deriveInfo,names,skipCheckAccountExist=true}=params;var{coinType,template,namePrefix}=deriveInfo;if(!coinType){throw new Error('coinType is not defined');}var settings=yield this.getVaultSettings();var{accountType}=settings;if(accountType!==EDBAccountType.UTXO){throw new Error('accountType is not utxo');}var{checkIsAccountUsed,buildAddressesInfo}=options;var ignoreFirst=false;var usedIndexes=[...(ignoreFirst?[indexes[0]-1]:[]),...indexes];defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfo();var addressesInfo=yield buildAddressesInfo({usedIndexes});defaultLogger.account.accountCreatePerf.utxoBuildAddressesInfoDone();defaultLogger.account.accountCreatePerf.buildDBUtxoAccounts();var ret=[];var idx=0;for(var{path,relPath,publicKey,xpub,xpubSegwit,address,addresses}of addressesInfo){if(!path||_isNil(xpub)||!addresses){throw new Error('basePrepareHdUtxoAccounts ERROR: path or xpub or addresses is undefined');}if(!relPath){throw new Error('basePrepareHdUtxoAccounts ERROR: relPath is undefined');}var prefix=namePrefix;var pathIndex=usedIndexes[idx];var name=names?.[idx]||`${prefix} #${pathIndex+1}`;var id=`${this.walletId}--${path}`;if(!ignoreFirst||idx>0){var indexedAccountId=accountUtils.buildIndexedAccountId({walletId:this.walletId,index:pathIndex});ret.push({id,name,type:accountType,path,pathIndex,indexedAccountId,relPath,coinType,impl:settings.impl,pub:publicKey,xpub,xpubSegwit,address,addresses,template});}var isLast=idx===addressesInfo.length-1;if(!skipCheckAccountExist&&!isLast&&checkIsAccountUsed){var{isUsed}=yield checkIsAccountUsed({xpub,xpubSegwit,address});if(!isUsed){break;}yield timerUtils.wait(200);}idx+=1;}defaultLogger.account.accountCreatePerf.buildDBUtxoAccountsDone();return ret;});function basePrepareHdUtxoAccounts(_x3,_x4){return _basePrepareHdUtxoAccounts.apply(this,arguments);}return basePrepareHdUtxoAccounts;}();_proto.batchGetAddresses=function(){var _batchGetAddresses=_asyncToGenerator(function*(params){return[];});function batchGetAddresses(_x5){return _batchGetAddresses.apply(this,arguments);}return batchGetAddresses;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){throw new NotImplemented();});function exportAccountSecretKeys(_x6){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*(params){return undefined;});function buildHwAllNetworkPrepareAccountsParams(_x7){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){throw new NotImplemented();};return _createClass(KeyringBase);}(VaultContext);export var KeyringBaseMock=function(_KeyringBase){_inherits(KeyringBaseMock,_KeyringBase);var _super2=_createSuper(KeyringBaseMock);function KeyringBaseMock(){return _super2.apply(this,arguments);}return _createClass(KeyringBaseMock);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{slicePathTemplate}from'@onekeyhq/core/src/utils';import appGlobals from'@onekeyhq/shared/src/appGlobals';import{OneKeyInternalError,UnsupportedAddressTypeError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{HardwareSDK}from'@onekeyhq/shared/src/hardware/instance';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{EConfirmOnDeviceType}from'@onekeyhq/shared/types/device';import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringHardwareBase=function(_KeyringBase){_inherits(KeyringHardwareBase,_KeyringBase);var _super=_createSuper(KeyringHardwareBase);function KeyringHardwareBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hardware;return _this;}var _proto=KeyringHardwareBase.prototype;_proto.getHardwareSDKInstance=function(){var _getHardwareSDKInstance=_asyncToGenerator(function*(){var _ref;defaultLogger.account.accountCreatePerf.getHardwareSDKInstance();var sdk=yield appGlobals?.$backgroundApiProxy?.backgroundApi?.serviceHardware?.getSDKInstance?.();var r=(_ref=sdk)!=null?_ref:HardwareSDK;defaultLogger.account.accountCreatePerf.getHardwareSDKInstanceDone();return r;});function getHardwareSDKInstance(){return _getHardwareSDKInstance.apply(this,arguments);}return getHardwareSDKInstance;}();_proto.baseGetDeviceAccountData=function(){var _baseGetDeviceAccountData=_asyncToGenerator(function*({params,usedIndexes,sdkGetDataFn,errorMessage}){var{deriveInfo,deviceParams}=params;var{dbDevice,confirmOnDevice}=deviceParams;var{connectId,deviceId}=dbDevice;var{template,coinName}=deriveInfo;var{pathPrefix,pathSuffix}=slicePathTemplate(template);var showOnOnekeyFn=function(arrIndex){if(confirmOnDevice===EConfirmOnDeviceType.EveryItem){return true;}if(confirmOnDevice===EConfirmOnDeviceType.LastItem){return arrIndex===usedIndexes[usedIndexes.length-1];}return false;};var result=yield convertDeviceResponse(_asyncToGenerator(function*(){return sdkGetDataFn({connectId,deviceId,pathPrefix,pathSuffix,template,coinName,showOnOnekeyFn});}));if(!result||result.length!==usedIndexes.length){throw new OneKeyInternalError(errorMessage);}return result;});function baseGetDeviceAccountData(_x){return _baseGetDeviceAccountData.apply(this,arguments);}return baseGetDeviceAccountData;}();_proto.baseGetDeviceAccountPublicKeys=function(){var _baseGetDeviceAccountPublicKeys=_asyncToGenerator(function*({params,usedIndexes,sdkGetPublicKeysFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetPublicKeysFn,errorMessage:'Unable to get public keys.'});});function baseGetDeviceAccountPublicKeys(_x2){return _baseGetDeviceAccountPublicKeys.apply(this,arguments);}return baseGetDeviceAccountPublicKeys;}();_proto.baseGetDeviceAccountAddresses=function(){var _baseGetDeviceAccountAddresses=_asyncToGenerator(function*({params,usedIndexes,sdkGetAddressFn}){return this.baseGetDeviceAccountData({params,usedIndexes,sdkGetDataFn:sdkGetAddressFn,errorMessage:'Unable to get addresses.'});});function baseGetDeviceAccountAddresses(_x3){return _baseGetDeviceAccountAddresses.apply(this,arguments);}return baseGetDeviceAccountAddresses;}();_proto.getAllNetworkPrepareAccounts=function(){var _getAllNetworkPrepareAccounts=_asyncToGenerator(function*({hwSdkNetwork,params,usedIndexes,buildPath,buildResultAccount}){if(!hwSdkNetwork){return undefined;}var{hwAllNetworkPrepareAccountsResponse}=params;if(hwAllNetworkPrepareAccountsResponse?.length){var resultAccounts=[];var _loop=function*(){var path=yield buildPath({index});var account=hwAllNetworkPrepareAccountsResponse?.find(function(item){return item.network&&item.path===path&&item.network===hwSdkNetwork;});if(account&&account.success){resultAccounts.push(buildResultAccount({account,index}));}};for(var index of usedIndexes){yield*_loop();}if(resultAccounts.length===usedIndexes.length){return{success:true,payload:resultAccounts};}var hasErrorItem=hwAllNetworkPrepareAccountsResponse?.find(function(item){return!item.success&&!!item.payload?.error;});if(!hasErrorItem?.success&&hasErrorItem?.payload?.error){if(hasErrorItem?.payload?.error?.indexOf('Failure_DataError,Forbidden key path')!==-1){throw new UnsupportedAddressTypeError();}throw convertDeviceError(hasErrorItem.payload);}throw new OneKeyInternalError('SDK GetAllNetworkAccounts Failed');}});function getAllNetworkPrepareAccounts(_x4){return _getAllNetworkPrepareAccounts.apply(this,arguments);}return getAllNetworkPrepareAccounts;}();return _createClass(KeyringHardwareBase);}(KeyringBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringHdBase=function(_KeyringSoftwareBase){_inherits(KeyringHdBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringHdBase);function KeyringHdBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.hd;return _this;}return _createClass(KeyringHdBase);}(KeyringSoftwareBase);","import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{EVaultKeyringTypes}from\"../types\";import{KeyringSoftwareBase}from\"./KeyringSoftwareBase\";export var KeyringImportedBase=function(_KeyringSoftwareBase){_inherits(KeyringImportedBase,_KeyringSoftwareBase);var _super=_createSuper(KeyringImportedBase);function KeyringImportedBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.imported;return _this;}return _createClass(KeyringImportedBase);}(KeyringSoftwareBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{OneKeyRequestDeviceQR}from'@onekeyhq/qr-wallet-sdk/src/OneKeyRequestDeviceQR';import{NotImplemented,OneKeyErrorAirGapInvalidQrCode}from'@onekeyhq/shared/src/errors';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{UR_DEFAULT_ORIGIN}from\"../../services/ServiceQrWallet/qrWalletConsts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringQrBase=function(_KeyringBase){_inherits(KeyringQrBase,_KeyringBase);var _super=_createSuper(KeyringQrBase);function KeyringQrBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.qr;return _this;}var _proto=KeyringQrBase.prototype;_proto.getChildPathTemplates=function getChildPathTemplates(params){throw new NotImplemented();};_proto.getVerifyAddressChainParams=function(){var _getVerifyAddressChainParams=_asyncToGenerator(function*(query){throw new NotImplemented();});function getVerifyAddressChainParams(_x){return _getVerifyAddressChainParams.apply(this,arguments);}return getVerifyAddressChainParams;}();_proto.baseSignByQrcode=function(){var _baseSignByQrcode=_asyncToGenerator(function*(params,options){var wallet=yield localDb.getWallet({walletId:this.walletId});if(!wallet.associatedDevice){throw new Error('associatedDevice not found');}var device=yield localDb.getDevice(wallet.associatedDevice);var path=yield this.vault.getAccountPath();var account=yield this.vault.getAccount();var chainId=yield this.vault.getNetworkChainId();var requestId=generateUUID();var{airGapAccount}=yield this.findAirGapAccountByPath({path,wallet,index:checkIsDefined(account.pathIndex)});var xfp=airGapAccount?.xfp||wallet.xfp;if(!xfp){throw new Error('xfp not found');}var signRequestUr=yield options.signRequestUrBuilder({requestId,path,xfp,chainId,account,wallet});var{responseUr:signatureUr}=yield this.backgroundApi.serviceQrWallet.startTwoWayAirGapScanUr({requestUr:signRequestUr});var signedTx=yield options.signedResultBuilder({signatureUr,requestId});return signedTx;});function baseSignByQrcode(_x2,_x3){return _baseSignByQrcode.apply(this,arguments);}return baseSignByQrcode;}();_proto.findAirGapAccountByPath=function(){var _findAirGapAccountByPath=_asyncToGenerator(function*({path:fullPath,wallet,index}){var _this2=this;var childPathTemplate;var settings=yield this.getVaultSettings();var airGapAccount=wallet?.airGapAccountsInfo?.accounts?.find(function(eachAirGapAccount){if(eachAirGapAccount.path===fullPath){return true;}var{childPathTemplates}=_this2.getChildPathTemplates({airGapAccount:eachAirGapAccount,index});for(var childPathTpl of childPathTemplates){var template=[eachAirGapAccount.path,childPathTpl].filter(Boolean).join('/');var fullPathGenerated=accountUtils.buildPathFromTemplate({template,index});var r=fullPathGenerated===fullPath;if(r){childPathTemplate=childPathTpl;return true;}}return false;});return{airGapAccount,fullPath,childPathTemplate};});function findAirGapAccountByPath(_x4){return _findAirGapAccountByPath.apply(this,arguments);}return findAirGapAccountByPath;}();_proto.findAirGapAccountInPrepareAccounts=function(){var _findAirGapAccountInPrepareAccounts=_asyncToGenerator(function*(params,{index,wallet}){var fullPath=accountUtils.buildPathFromTemplate({template:params.deriveInfo.template,index});return this.findAirGapAccountByPath({wallet,index,path:fullPath});});function findAirGapAccountInPrepareAccounts(_x5,_x6){return _findAirGapAccountInPrepareAccounts.apply(this,arguments);}return findAirGapAccountInPrepareAccounts;}();_proto.findAirGapAccountByDbAccount=function(){var _findAirGapAccountByDbAccount=_asyncToGenerator(function*({wallet,dbAccount}){var{pathIndex,template}=dbAccount;var fullPath=accountUtils.buildPathFromTemplate({template:checkIsDefined(template),index:checkIsDefined(pathIndex)});return this.findAirGapAccountByPath({wallet,index:checkIsDefined(pathIndex),path:fullPath});});function findAirGapAccountByDbAccount(_x7){return _findAirGapAccountByDbAccount.apply(this,arguments);}return findAirGapAccountByDbAccount;}();_proto.verifyQrWalletAddressByTwoWayScan=function(){var _verifyQrWalletAddressByTwoWayScan=_asyncToGenerator(function*(params,{indexes}){var ret=[];var chain=yield this.backgroundApi.serviceQrWallet.getDeviceChainNameByNetworkId({networkId:this.networkId});var wallet=yield this.backgroundApi.serviceAccount.getWallet({walletId:this.walletId});var fullPath=accountUtils.buildPathFromTemplate({template:params.deriveInfo.template,index:indexes[0]});var requestQR=new OneKeyRequestDeviceQR({requestId:generateUUID(),xfp:wallet.xfp||'',origin:UR_DEFAULT_ORIGIN,method:'verifyAddress',params:[_objectSpread({chain,address:'',path:fullPath},yield this.getVerifyAddressChainParams({fullPath}))]});var requestUr=requestQR.toUR();var{raw}=yield this.backgroundApi.serviceQrWallet.startTwoWayAirGapScanUr({requestUr,allowPlainTextResponse:true});if(raw&&raw?.toLowerCase()?.startsWith('ur:')){throw new OneKeyErrorAirGapInvalidQrCode();}ret.push({address:raw||'',publicKey:'',path:fullPath,xpub:'',relPath:accountUtils.buildUtxoAddressRelPath(),addresses:{}});return ret;});function verifyQrWalletAddressByTwoWayScan(_x8,_x9){return _verifyQrWalletAddressByTwoWayScan.apply(this,arguments);}return verifyQrWalletAddressByTwoWayScan;}();return _createClass(KeyringQrBase);}(KeyringBase);","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _isNil from\"lodash/isNil\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{decryptImportedCredential}from'@onekeyhq/core/src/secret';import{OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{noopObject}from'@onekeyhq/shared/src/utils/miscUtils';import localDb from\"../../dbs/local/localDb\";import{KeyringBase}from\"./KeyringBase\";export var KeyringSoftwareBase=function(_KeyringBase){_inherits(KeyringSoftwareBase,_KeyringBase);var _super=_createSuper(KeyringSoftwareBase);function KeyringSoftwareBase(){return _super.apply(this,arguments);}var _proto=KeyringSoftwareBase.prototype;_proto.baseGetCredentialsInfo=function(){var _baseGetCredentialsInfo=_asyncToGenerator(function*({password}){noopObject(password);var hd;var imported;if(this.isKeyringHd()){var credential=yield localDb.getCredential(checkIsDefined(this.walletId));hd=credential.credential;}if(this.isKeyringImported()){var _credential=yield localDb.getCredential(this.accountId);imported=_credential.credential;}return{hd,imported};});function baseGetCredentialsInfo(_x){return _baseGetCredentialsInfo.apply(this,arguments);}return baseGetCredentialsInfo;}();_proto.baseSignTransactionBtc=function(){var _baseSignTransactionBtc=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,unsignedTx,signOnly}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedTx});var result=yield this.coreApi.signTransaction({networkInfo,unsignedTx,account,relPaths,password,credentials,btcExtraInfo,signOnly});return result;});function baseSignTransactionBtc(_x2){return _baseSignTransactionBtc.apply(this,arguments);}return baseSignTransactionBtc;}();_proto.baseSignTransaction=function(){var _baseSignTransaction=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,unsignedTx}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.signTransaction({networkInfo,password,account,credentials,unsignedTx});return result;});function baseSignTransaction(_x3){return _baseSignTransaction.apply(this,arguments);}return baseSignTransaction;}();_proto.baseSignMessage=function(){var _baseSignMessage=_asyncToGenerator(function*(params){var _this=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var{password,messages}=params;var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(msg){return checkIsDefined(_this.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,password,credentials});}));return result;});function baseSignMessage(_x4){return _baseSignMessage.apply(this,arguments);}return baseSignMessage;}();_proto.baseSignMessageBtc=function(){var _baseSignMessageBtc=_asyncToGenerator(function*(params){var _this2=this;if(!this.coreApi){throw new Error('coreApi is not defined');}var vault=this.vault;var{password,messages}=params;var credentials=yield this.baseGetCredentialsInfo(params);var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield Promise.all(messages.map(function(){var _ref=_asyncToGenerator(function*(msg){var{account,btcExtraInfo,relPaths}=yield vault.prepareBtcSignExtraInfo({unsignedMessage:msg});return checkIsDefined(_this2.coreApi).signMessage({networkInfo,unsignedMsg:msg,account,relPaths,password,credentials,btcExtraInfo});});return function(_x6){return _ref.apply(this,arguments);};}()));return result;});function baseSignMessageBtc(_x5){return _baseSignMessageBtc.apply(this,arguments);}return baseSignMessageBtc;}();_proto.basePrepareAccountsImported=function(){var _basePrepareAccountsImported=_asyncToGenerator(function*(params,options={}){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,networks,createAtNetwork}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var settings=yield this.getVaultSettings();var{onlyAvailableOnCertainNetworks}=options;var accountType=options.accountType||settings.accountType;var impl=options.impl||settings.impl;var coinType=options.coinType||params.deriveInfo?.coinType||settings.coinTypeDefault;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding:params.deriveInfo?.addressEncoding});var addressUsed='';if(onlyAvailableOnCertainNetworks){addressUsed=addresses?.[createAtNetwork]||'';if(!addressUsed){throw new Error(`imported account address is empty of network: ${createAtNetwork}`);}}var accountId=accountUtils.buildImportedAccountId({coinType,pub:publicKey,address:addressUsed,addressEncoding:params.deriveInfo?.addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:'',coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,pub:publicKey,address,addresses}]);});function basePrepareAccountsImported(_x7){return _basePrepareAccountsImported.apply(this,arguments);}return basePrepareAccountsImported;}();_proto.basePrepareAccountsImportedUtxo=function(){var _basePrepareAccountsImportedUtxo=_asyncToGenerator(function*(params){if(!this.coreApi){throw new Error('coreApi is not defined');}var{name,importedCredential,password,createAtNetwork,deriveInfo}=params;var{privateKey}=decryptImportedCredential({credential:importedCredential,password});var addressEncoding=deriveInfo?.addressEncoding;var settings=yield this.getVaultSettings();var{coinTypeDefault:coinType,accountType}=settings;var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeyRaw=privateKey;var{address,addresses,publicKey,xpub,relPath,xpubSegwit,path}=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw,addressEncoding});if(_isNil(xpub)||!addresses){throw new Error('xpub or addresses is undefined');}var accountId=accountUtils.buildImportedAccountId({coinType,xpub:xpub||publicKey,addressEncoding});return Promise.resolve([{id:accountId,name:name||'',type:accountType,path:path||'',relPath,coinType,impl:settings.impl,xpub,xpubSegwit,pub:publicKey,address,addresses,createAtNetwork}]);});function basePrepareAccountsImportedUtxo(_x8){return _basePrepareAccountsImportedUtxo.apply(this,arguments);}return basePrepareAccountsImportedUtxo;}();_proto.basePrepareAccountsHd=function(){var _basePrepareAccountsHd=_asyncToGenerator(function*(params){var _this3=this;var{template,addressEncoding}=params.deriveInfo;var{password}=params;var networkInfo=yield this.getCoreApiNetworkInfo();return this.basePrepareHdNormalAccounts(params,{buildAddressesInfo:function(){var _ref2=_asyncToGenerator(function*({usedIndexes}){if(!_this3.coreApi){throw new Error('coreApi is not defined');}var credentials=yield _this3.baseGetCredentialsInfo({password});var{addresses:addressInfos}=yield _this3.coreApi.getAddressesFromHd({networkInfo,template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});return addressInfos;});return function buildAddressesInfo(_x10){return _ref2.apply(this,arguments);};}()});});function basePrepareAccountsHd(_x9){return _basePrepareAccountsHd.apply(this,arguments);}return basePrepareAccountsHd;}();_proto.basePrepareAccountsHdUtxo=function(){var _basePrepareAccountsHdUtxo=_asyncToGenerator(function*(params,options){var _this4=this;var{password,indexes,deriveInfo,names,skipCheckAccountExist}=params;var addressEncoding=params?.deriveInfo?.addressEncoding;return this.basePrepareHdUtxoAccounts(params,_objectSpread(_objectSpread({},options),{},{buildAddressesInfo:function(){var _ref3=_asyncToGenerator(function*({usedIndexes}){var{coinType,template,namePrefix}=deriveInfo;defaultLogger.account.accountCreatePerf.getCredentialsInfo();var credentials=yield _this4.baseGetCredentialsInfo({password});if(!_this4.coreApi){throw new Error('coreApi is undefined');}defaultLogger.account.accountCreatePerf.getAddressesFromHd();var{addresses:addressesInfo}=yield _this4.coreApi.getAddressesFromHd({networkInfo:yield _this4.getCoreApiNetworkInfo(),template,hdCredential:checkIsDefined(credentials.hd),password,indexes:usedIndexes,addressEncoding});if(addressesInfo.length!==usedIndexes.length){throw new OneKeyInternalError('Unable to get address');}defaultLogger.account.accountCreatePerf.getAddressesFromHdDone();return addressesInfo;});return function buildAddressesInfo(_x13){return _ref3.apply(this,arguments);};}()}));});function basePrepareAccountsHdUtxo(_x11,_x12){return _basePrepareAccountsHdUtxo.apply(this,arguments);}return basePrepareAccountsHdUtxo;}();_proto.baseExportAccountSecretKeys=function(){var _baseExportAccountSecretKeys=_asyncToGenerator(function*(params){var{password,keyType,relPaths}=params;var account=yield this.vault.getAccount();var networkInfo=yield this.getCoreApiNetworkInfo();var credentials=yield this.baseGetCredentialsInfo({password});var{deriveInfo}=yield this.backgroundApi.serviceNetwork.getDeriveTypeByTemplate({networkId:this.networkId,template:account.template});var addressEncoding=deriveInfo?.addressEncoding;if(!this.coreApi){throw new Error('coreApi is not defined');}return this.coreApi.getExportedSecretKey({networkInfo,password,credentials,account,relPaths,keyType,addressEncoding});});function baseExportAccountSecretKeys(_x14){return _baseExportAccountSecretKeys.apply(this,arguments);}return baseExportAccountSecretKeys;}();_proto.baseGetPrivateKeys=function(){var _baseGetPrivateKeys=_asyncToGenerator(function*(params){var{password,relPaths}=params;if(!this.coreApi){throw new Error('coreApi is not defined');}var account=yield this.vault.getAccount();var credentials=yield this.baseGetCredentialsInfo({password});var networkInfo=yield this.getCoreApiNetworkInfo();var privateKeys=yield this.coreApi.getPrivateKeys({networkInfo,password,account,relPaths,credentials});return privateKeys;});function baseGetPrivateKeys(_x15){return _baseGetPrivateKeys.apply(this,arguments);}return baseGetPrivateKeys;}();return _createClass(KeyringSoftwareBase);}(KeyringBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{InvalidAddress,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{EDBAccountType}from\"../../dbs/local/consts\";import{EVaultKeyringTypes}from\"../types\";import{KeyringBase}from\"./KeyringBase\";export var KeyringWatchingBase=function(_KeyringBase){_inherits(KeyringWatchingBase,_KeyringBase);var _super=_createSuper(KeyringWatchingBase);function KeyringWatchingBase(...args){var _this;_this=_super.call(this,...args);_this.keyringType=EVaultKeyringTypes.watching;return _this;}var _proto=KeyringWatchingBase.prototype;_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signTransaction(){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.wallet_error_trade_with_watched_acocunt}));});function signMessage(){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.basePrepareUtxoWatchingAccounts=function(){var _basePrepareUtxoWatchingAccounts=_asyncToGenerator(function*(params){var{address,xpub,networks,createAtNetwork,name,deriveInfo,isUrlAccount,addresses}=params;if(!address&&!xpub){throw new Error('basePrepareUtxoWatchingAccounts ERROR: address and xpub are not defined');}var networkInfo=yield this.getCoreApiNetworkInfo();var settings=yield this.getVaultSettings();var coinType=settings.coinTypeDefault;var addressEncoding=deriveInfo?.addressEncoding;var id=accountUtils.buildWatchingAccountId({coinType,address,xpub,addressEncoding,isUrlAccount});var addressFromXpub='';var xpubSegwit=xpub;if(!address&&xpub){checkIsDefined(this.coreApi);var result=yield this.coreApi?.getAddressFromPublic({publicKey:xpub,addressEncoding,networkInfo});addressFromXpub=result?.address||'';xpubSegwit=result?.xpubSegwit||xpubSegwit||xpub;}var account={id,name,type:EDBAccountType.UTXO,relPath:'0/0',coinType,impl:settings.impl,networks,createAtNetwork,address:addressFromXpub||address||'',xpub:xpub||'',xpubSegwit,path:'',addresses:addresses||{}};return[account];});function basePrepareUtxoWatchingAccounts(_x){return _basePrepareUtxoWatchingAccounts.apply(this,arguments);}return basePrepareUtxoWatchingAccounts;}();_proto.basePrepareSimpleWatchingAccounts=function(){var _basePrepareSimpleWatchingAccounts=_asyncToGenerator(function*(params,options={}){var{address,name,networks,createAtNetwork,isUrlAccount}=params;if(!address){throw new InvalidAddress();}if(!createAtNetwork){throw new Error('basePrepareSimpleWatchingAccounts ERROR: createAtNetwork is not defined');}var{onlyAvailableOnCertainNetworks=false}=options;var settings=yield this.getVaultSettings();var coinType=options.coinType||settings.coinTypeDefault;var impl=options.impl||settings.impl;var id=accountUtils.buildWatchingAccountId({coinType,address,isUrlAccount});var account={id,name:name||'',type:EDBAccountType.SIMPLE,coinType,impl,networks:onlyAvailableOnCertainNetworks?networks:undefined,createAtNetwork,address,pub:'',path:''};return Promise.resolve([account]);});function basePrepareSimpleWatchingAccounts(_x2){return _basePrepareSimpleWatchingAccounts.apply(this,arguments);}return basePrepareSimpleWatchingAccounts;}();return _createClass(KeyringWatchingBase);}(KeyringBase);","import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _omitBy from\"lodash/omitBy\";import _isEmpty from\"lodash/isEmpty\";import _isNil from\"lodash/isNil\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _omit from\"lodash/omit\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"accountId\"],_excluded2=[\"accountId\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import qs from'querystring';import BigNumber from'bignumber.js';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{getNetworkIdsMap}from'@onekeyhq/shared/src/config/networkIds';import{NotImplemented}from'@onekeyhq/shared/src/errors';import platformEnv from'@onekeyhq/shared/src/platformEnv';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import chainValueUtils from'@onekeyhq/shared/src/utils/chainValueUtils';import hexUtils from'@onekeyhq/shared/src/utils/hexUtils';import{getOnChainHistoryTxAssetInfo,getOnChainHistoryTxStatus}from'@onekeyhq/shared/src/utils/historyUtils';import{generateUUID}from'@onekeyhq/shared/src/utils/miscUtils';import{buildTxActionDirection,getStakingActionLabel}from'@onekeyhq/shared/src/utils/txActionUtils';import{addressIsEnsFormat}from'@onekeyhq/shared/src/utils/uriUtils';import{EServiceEndpointEnum}from'@onekeyhq/shared/types/endpoint';import{EOnChainHistoryTxType}from'@onekeyhq/shared/types/history';import{EDecodedTxActionType,EDecodedTxDirection}from'@onekeyhq/shared/types/tx';import{VaultContext}from\"./VaultContext\";if(platformEnv.isExtensionUi){debugger;throw new Error('engine/VaultBase is not allowed imported from ui');}export var VaultBaseChainOnly=function(_VaultContext){_inherits(VaultBaseChainOnly,_VaultContext);var _super=_createSuper(VaultBaseChainOnly);function VaultBaseChainOnly(){return _super.apply(this,arguments);}var _proto=VaultBaseChainOnly.prototype;_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){return networkAccount.xpub;});function getXpubFromAccount(_x){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.proxyJsonRPCCall=function(){var _proxyJsonRPCCall=_asyncToGenerator(function*(request){throw new NotImplemented();});function proxyJsonRPCCall(_x2){return _proxyJsonRPCCall.apply(this,arguments);}return proxyJsonRPCCall;}();_proto.addressFromBase=function(){var _addressFromBase=_asyncToGenerator(function*(account){throw new NotImplemented();});function addressFromBase(_x3){return _addressFromBase.apply(this,arguments);}return addressFromBase;}();_proto.addressToBase=function(){var _addressToBase=_asyncToGenerator(function*(address){throw new NotImplemented();});function addressToBase(_x4){return _addressToBase.apply(this,arguments);}return addressToBase;}();_proto.baseValidatePrivateKey=function(){var _baseValidatePrivateKey=_asyncToGenerator(function*(privateKey){if(!this.coreApi){throw new Error('coreApi not defined in Vault');}try{var networkInfo=yield this.getCoreApiNetworkInfo();var result=yield this.coreApi.getAddressFromPrivate({networkInfo,privateKeyRaw:privateKey});if(result.publicKey){return{isValid:true};}}catch(error){}return{isValid:false};});function baseValidatePrivateKey(_x5){return _baseValidatePrivateKey.apply(this,arguments);}return baseValidatePrivateKey;}();_proto.baseValidateGeneralInput=function(){var _baseValidateGeneralInput=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var{validateAddress,validateXprvt,validateXpub,validatePrivateKey}=params;var result={isValid:false};var isValid=false;var addressResult;var xpubResult;var xprvtResult;var privateKeyResult;if(validateAddress&&!isValid){try{addressResult=yield this.validateAddress(input);result.addressResult=addressResult;isValid=isValid||addressResult?.isValid;}catch(error){}}if(validateXpub&&!isValid){try{xpubResult=yield this.validateXpub(input);result.xpubResult=xpubResult;isValid=isValid||xpubResult?.isValid;}catch(error){}}if(validateXprvt&&!isValid){try{xprvtResult=yield this.validateXprvt(input);result.xprvtResult=xprvtResult;isValid=isValid||xprvtResult?.isValid;}catch(error){}}if(validatePrivateKey&&!isValid){try{privateKeyResult=yield this.validatePrivateKey(input);result.privateKeyResult=privateKeyResult;isValid=isValid||privateKeyResult?.isValid;}catch(error){}}result.isValid=Boolean(isValid);return{result,inputDecoded:input};});function baseValidateGeneralInput(_x6){return _baseValidateGeneralInput.apply(this,arguments);}return baseValidateGeneralInput;}();_proto.baseGetPrivateKeyFromImported=function(){var _baseGetPrivateKeyFromImported=_asyncToGenerator(function*(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=hexUtils.stripHexPrefix(input);privateKey=encodeSensitiveText({text:privateKey});return{privateKey};});function baseGetPrivateKeyFromImported(_x7){return _baseGetPrivateKeyFromImported.apply(this,arguments);}return baseGetPrivateKeyFromImported;}();_proto.validateAmountInputShown=function(){var _validateAmountInputShown=_asyncToGenerator(function*({toAddress}){return Promise.resolve({isValid:true});});function validateAmountInputShown(_x8){return _validateAmountInputShown.apply(this,arguments);}return validateAmountInputShown;}();_proto.checkIsDomainName=function(){var _checkIsDomainName=_asyncToGenerator(function*({name}){return addressIsEnsFormat(name);});function checkIsDomainName(_x9){return _checkIsDomainName.apply(this,arguments);}return checkIsDomainName;}();_proto.resolveDomainName=function(){var _resolveDomainName=_asyncToGenerator(function*({name}){return null;});function resolveDomainName(_x10){return _resolveDomainName.apply(this,arguments);}return resolveDomainName;}();_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){throw new NotImplemented();});function getCustomRpcEndpointStatus(_x11){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.checkFeeSupportInfo=function(){var _checkFeeSupportInfo=_asyncToGenerator(function*(params){throw new NotImplemented();});function checkFeeSupportInfo(_x12){return _checkFeeSupportInfo.apply(this,arguments);}return checkFeeSupportInfo;}();_proto.fetchTokenDetails=function(){var _fetchTokenDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenDetailsByRpc(params);}return this.fetchTokenDetailsByApi(params);});function fetchTokenDetails(_x13){return _fetchTokenDetails.apply(this,arguments);}return fetchTokenDetails;}();_proto.fetchTokenDetailsByApi=function(){var _fetchTokenDetailsByApi=_asyncToGenerator(function*(params){var _params$signal;var client=yield this.backgroundApi.serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/token/search',_omit(params,['walletId','accountId','signal']),{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId,walletId:params.walletId}),signal:(_params$signal=params.signal)!=null?_params$signal:undefined});return resp;});function fetchTokenDetailsByApi(_x14){return _fetchTokenDetailsByApi.apply(this,arguments);}return fetchTokenDetailsByApi;}();_proto.fetchTokenDetailsByRpc=function(){var _fetchTokenDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenDetailsByRpc(_x15){return _fetchTokenDetailsByRpc.apply(this,arguments);}return fetchTokenDetailsByRpc;}();return _createClass(VaultBaseChainOnly);}(VaultContext);export var VaultBase=function(_VaultBaseChainOnly){_inherits(VaultBase,_VaultBaseChainOnly);var _super2=_createSuper(VaultBase);function VaultBase(...args){var _this;_this=_super2.call(this,...args);_this.uuid=generateUUID();return _this;}var _proto2=VaultBase.prototype;_proto2.init=function(){var _init=_asyncToGenerator(function*(config){yield this.initKeyring(config);});function init(_x16){return _init.apply(this,arguments);}return init;}();_proto2.initKeyring=function(){var _initKeyring=_asyncToGenerator(function*(config){if(!this.options.isChainOnly){this.keyring=yield config.keyringCreator(this);}});function initKeyring(_x17){return _initKeyring.apply(this,arguments);}return initKeyring;}();_proto2.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(params){var{signedTx}=params;var txid=yield this.backgroundApi.serviceSend.broadcastTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransaction(_x18){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();_proto2.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function broadcastTransactionFromCustomRpc(_x19){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto2.validateSendAmount=function(){var _validateSendAmount=_asyncToGenerator(function*(params){return Promise.resolve(true);});function validateSendAmount(_x20){return _validateSendAmount.apply(this,arguments);}return validateSendAmount;}();_proto2.buildOnChainHistoryTxExtraInfo=function(){var _buildOnChainHistoryTxExtraInfo=_asyncToGenerator(function*({onChainHistoryTx}){return null;});function buildOnChainHistoryTxExtraInfo(_x21){return _buildOnChainHistoryTxExtraInfo.apply(this,arguments);}return buildOnChainHistoryTxExtraInfo;}();_proto2.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){return Promise.resolve(true);});function precheckUnsignedTx(_x22){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto2.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildEstimateFeeParams(_x23){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto2.buildParseTransactionParams=function(){var _buildParseTransactionParams=_asyncToGenerator(function*({encodedTx}){return Promise.resolve({encodedTx});});function buildParseTransactionParams(_x24){return _buildParseTransactionParams.apply(this,arguments);}return buildParseTransactionParams;}();_proto2.buildFetchHistoryListParams=function(){var _buildFetchHistoryListParams=_asyncToGenerator(function*(params){return Promise.resolve({});});function buildFetchHistoryListParams(_x25){return _buildFetchHistoryListParams.apply(this,arguments);}return buildFetchHistoryListParams;}();_proto2.buildHistoryTx=function(){var _buildHistoryTx=_asyncToGenerator(function*(params){var{historyTxToMerge,decodedTx,signedTx,isSigner,isLocalCreated}=params;var accountAddress=params.accountAddress||'';var xpub=params.xpub;var txid=signedTx?.txid||decodedTx?.txid||'';if(!txid){throw new Error('buildHistoryTx txid not found');}var{accountId,networkId}=decodedTx;try{var[a,x]=yield Promise.all([this.backgroundApi.serviceAccount.getAccountAddressForApi({accountId,networkId}),this.backgroundApi.serviceAccount.getAccountXpub({accountId,networkId})]);accountAddress=a;xpub=x;}catch(e){}decodedTx.txid=txid||decodedTx.txid;decodedTx.owner=accountAddress;decodedTx.xpub=xpub;if(isSigner){decodedTx.signer=accountAddress;}var historyId=accountUtils.buildLocalHistoryId({networkId,txid,accountAddress,xpub});var historyTx=_objectSpread(_objectSpread({id:historyId,isLocalCreated:Boolean(isLocalCreated)},historyTxToMerge),{},{decodedTx});return Promise.resolve(historyTx);});function buildHistoryTx(_x26){return _buildHistoryTx.apply(this,arguments);}return buildHistoryTx;}();_proto2.buildOnChainHistoryTx=function(){var _buildOnChainHistoryTx=_asyncToGenerator(function*(params){var{accountId:originAccountId,networkId:originNetworkId,onChainHistoryTx,tokens,nfts,accountAddress:originAccountAddress,xpub:originXpub,allNetworkHistoryExtraItems}=params;var accountId=originAccountId;var networkId=originNetworkId;var accountAddress=originAccountAddress;var xpub=originXpub;if(originNetworkId===getNetworkIdsMap().onekeyall){var allNetworkAccount=allNetworkHistoryExtraItems?.find(function(i){var[_,txXpub]=onChainHistoryTx.key.split('_');if(!_isNil(i.accountXpub)){return i.networkId===onChainHistoryTx.networkId&&i.accountXpub===txXpub;}return i.networkId===onChainHistoryTx.networkId;});if(allNetworkAccount){accountId=allNetworkAccount.accountId;networkId=allNetworkAccount.networkId;accountAddress=allNetworkAccount.accountAddress;xpub=allNetworkAccount.accountXpub;}}var vaultSettings=yield this.backgroundApi.serviceNetwork.getVaultSettings({networkId});try{var action=yield this.buildHistoryTxAction({tx:onChainHistoryTx,tokens,nfts});var decodedTx={txid:onChainHistoryTx.tx,owner:accountAddress,signer:onChainHistoryTx.from,to:onChainHistoryTx.to,nonce:onChainHistoryTx.nonce,actions:[action],status:getOnChainHistoryTxStatus(onChainHistoryTx.status),networkId,accountId,xpub,totalFeeInNative:onChainHistoryTx.gasFee,totalFeeFiatValue:onChainHistoryTx.gasFeeFiatValue,nativeAmount:vaultSettings.isUtxo?onChainHistoryTx.value:undefined,extraInfo:yield this.buildOnChainHistoryTxExtraInfo({onChainHistoryTx}),payload:{type:onChainHistoryTx.type,value:onChainHistoryTx.value,label:onChainHistoryTx.label}};decodedTx.updatedAt=new Date(onChainHistoryTx.timestamp*1000).getTime();decodedTx.createdAt=decodedTx.updatedAt;decodedTx.isFinal=true;return yield this.buildHistoryTx({decodedTx,accountAddress,xpub});}catch(e){return null;}});function buildOnChainHistoryTx(_x27){return _buildOnChainHistoryTx.apply(this,arguments);}return buildOnChainHistoryTx;}();_proto2.buildHistoryTxAction=function(){var _buildHistoryTxAction=_asyncToGenerator(function*({tx,tokens,nfts}){if(tx.type===EOnChainHistoryTxType.Approve&&tx.tokenApprove){return this.buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove:tx.tokenApprove});}if(_isEmpty(tx.sends)&&_isEmpty(tx.receives)){if(tx.type)return this.buildHistoryTxFunctionCallAction({tx});return this.buildHistoryTxUnknownAction({tx});}return this.buildHistoryTransferAction({tx,tokens,nfts});});function buildHistoryTxAction(_x28){return _buildHistoryTxAction.apply(this,arguments);}return buildHistoryTxAction;}();_proto2.buildHistoryTxFunctionCallAction=function(){var _buildHistoryTxFunctionCallAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.FUNCTION_CALL,functionCall:{from:tx.from,to:tx.to,functionName:tx.label,functionHash:tx.functionCode,args:tx.params}};});function buildHistoryTxFunctionCallAction(_x29){return _buildHistoryTxFunctionCallAction.apply(this,arguments);}return buildHistoryTxFunctionCallAction;}();_proto2.buildHistoryTxUnknownAction=function(){var _buildHistoryTxUnknownAction=_asyncToGenerator(function*({tx}){var network=yield this.getNetwork();return{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:tx.from,to:tx.to,label:tx.label}};});function buildHistoryTxUnknownAction(_x30){return _buildHistoryTxUnknownAction.apply(this,arguments);}return buildHistoryTxUnknownAction;}();_proto2.buildHistoryTransferAction=function(){var _buildHistoryTransferAction=_asyncToGenerator(function*({tx,tokens,nfts}){var _this2=this;return{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:tx.from,to:tx.to,label:tx.label,sends:tx.sends.map(function(send){return _this2.buildHistoryTransfer({transfer:send,tokens,nfts});}),receives:tx.receives.map(function(receive){return _this2.buildHistoryTransfer({transfer:receive,tokens,nfts});})}};});function buildHistoryTransferAction(_x31){return _buildHistoryTransferAction.apply(this,arguments);}return buildHistoryTransferAction;}();_proto2.buildHistoryTransfer=function buildHistoryTransfer({transfer,tokens,nfts}){var{icon,symbol,name,isNFT,isNative,price}=getOnChainHistoryTxAssetInfo({key:transfer.key,tokenAddress:transfer.token,tokens,nfts});return{from:transfer.from,to:transfer.to,tokenIdOnNetwork:transfer.token,amount:transfer.amount,label:transfer.label,isOwn:transfer.isOwn,icon,name,symbol,isNFT,isNative,price};};_proto2.buildHistoryTxApproveAction=function buildHistoryTxApproveAction({tx,tokens,nfts,tokenApprove}){var{icon,symbol,name,decimals}=getOnChainHistoryTxAssetInfo({key:tokenApprove.key,tokenAddress:tokenApprove.token,tokens,nfts});return{type:EDecodedTxActionType.TOKEN_APPROVE,tokenApprove:{from:tx.from,to:tx.to,spender:tokenApprove.spender,icon,name,symbol,decimals,label:tx.label,tokenIdOnNetwork:tokenApprove.token,amount:new BigNumber(tokenApprove.amount).shiftedBy(-decimals).toFixed(),isInfiniteAmount:tokenApprove.isInfiniteAmount}};};_proto2.buildTxTransferAssetAction=function(){var _buildTxTransferAssetAction=_asyncToGenerator(function*(params){var{from,to,transfers,data,application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId}=params;var[accountAddress,network]=yield Promise.all([this.getAccountAddress(),this.getNetwork()]);var sendNativeTokenAmountBN=new BigNumber(0);var assetTransfer={from,to,sends:[],receives:[],application,isInternalSwap,isInternalStaking,internalStakingLabel,swapReceivedAddress,swapReceivedNetworkId};transfers.forEach(function(transfer){if(buildTxActionDirection({from:transfer.from,to:transfer.to,accountAddress})===EDecodedTxDirection.OUT){assetTransfer.sends.push(transfer);if(transfer.isNative){sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(new BigNumber(transfer.amount));}}else{assetTransfer.receives.push(transfer);}});assetTransfer.nativeAmount=sendNativeTokenAmountBN.toFixed();assetTransfer.nativeAmountValue=chainValueUtils.convertAmountToChainValue({value:sendNativeTokenAmountBN,network});return{type:EDecodedTxActionType.ASSET_TRANSFER,data,assetTransfer};});function buildTxTransferAssetAction(_x32){return _buildTxTransferAssetAction.apply(this,arguments);}return buildTxTransferAssetAction;}();_proto2.buildInternalSwapAction=function(){var _buildInternalSwapAction=_asyncToGenerator(function*(params){var _swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam,_providerInfo$provide;var{swapData,swapInfo,swapToAddress}=params;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;var otherFeeInfos=swapInfo.swapBuildResData.result.fee?.otherFeeInfos;var otherFeeInfoTransfers=[];var transfers=[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative}];if(otherFeeInfos){otherFeeInfos.forEach(function(feeInfo){if(feeInfo.token.contractAddress===transfers[0].tokenIdOnNetwork){transfers[0].amount=new BigNumber(transfers[0].amount).plus(feeInfo.amount).toFixed();}else{var _feeInfo$token$logoUR,_feeInfo$token$name;otherFeeInfoTransfers.push({from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:feeInfo.token.contractAddress,icon:(_feeInfo$token$logoUR=feeInfo.token.logoURI)!=null?_feeInfo$token$logoUR:'',name:(_feeInfo$token$name=feeInfo.token.name)!=null?_feeInfo$token$name:'',symbol:feeInfo.token.symbol,amount:feeInfo.amount,isNFT:false,isNative:feeInfo.token.isNative});}});}transfers=[...otherFeeInfoTransfers,...transfers];var action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:swapToAddress!=null?swapToAddress:'',data:swapData,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId,transfers});return action;});function buildInternalSwapAction(_x33){return _buildInternalSwapAction.apply(this,arguments);}return buildInternalSwapAction;}();_proto2.buildInternalStakingAction=function(){var _buildInternalStakingAction=_asyncToGenerator(function*(params){var _send$token$logoURI,_send$token$name,_receive$token$logoUR,_receive$token$name;var{stakingInfo,stakingData,accountAddress,stakingToAddress}=params;var{protocol,protocolLogoURI,send,receive}=stakingInfo;var transfers=[send&&{from:accountAddress,to:'',tokenIdOnNetwork:send.token.address,icon:(_send$token$logoURI=send.token.logoURI)!=null?_send$token$logoURI:'',name:(_send$token$name=send.token.name)!=null?_send$token$name:'',symbol:send.token.symbol,amount:send.amount,isNFT:false,isNative:send.token.isNative},receive&&{from:'',to:accountAddress,tokenIdOnNetwork:receive.token.address,icon:(_receive$token$logoUR=receive.token.logoURI)!=null?_receive$token$logoUR:'',name:(_receive$token$name=receive.token.name)!=null?_receive$token$name:'',symbol:receive.token.symbol,amount:receive.amount,isNFT:false,isNative:receive.token.isNative}].filter(Boolean);var action=yield this.buildTxTransferAssetAction({from:accountAddress,to:stakingToAddress!=null?stakingToAddress:'',data:stakingData,application:{name:protocol,icon:protocolLogoURI!=null?protocolLogoURI:''},isInternalStaking:true,internalStakingLabel:getStakingActionLabel({stakingInfo}),transfers});return action;});function buildInternalStakingAction(_x34){return _buildInternalStakingAction.apply(this,arguments);}return buildInternalStakingAction;}();_proto2.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _params$signOnly,_signedTx$encodedTx;var{unsignedTx}=params;params.signOnly=(_params$signOnly=params.signOnly)!=null?_params$signOnly:true;var signedTx=yield this.keyring.signTransaction(params);return _objectSpread(_objectSpread({},signedTx),{},{encodedTx:(_signedTx$encodedTx=signedTx.encodedTx)!=null?_signedTx$encodedTx:unsignedTx.encodedTx});});function signTransaction(_x35){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto2.getAccount=function(){var _getAccount=_asyncToGenerator(function*({dbAccount}={}){var account=dbAccount;if(!account||account?.id!==this.accountId){account=yield this.backgroundApi.serviceAccount.getDBAccount({accountId:this.accountId});}if(!accountUtils.isAccountCompatibleWithNetwork({account,networkId:this.networkId})){throw new Error(`account impl not matched to network: ${this.networkId} ${account.id?.slice(0,30)}`);}var networkInfo=yield this.getNetworkInfo();var externalAccount=account;var externalAccountAddress='';if(externalAccount.connectedAddresses){var buildExternalAccountAddress=function({key,fallbackIndex}){var _externalAccount$sele;if(!key){return'';}var index=(_externalAccount$sele=externalAccount.selectedAddress?.[key])!=null?_externalAccount$sele:fallbackIndex;var addresses=externalAccount.connectedAddresses?.[key]?.split(',').filter(Boolean)||[];return addresses?.[index]||addresses?.[fallbackIndex]||'';};externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:-1});if(!externalAccountAddress){var impl=yield this.getNetworkImpl();externalAccountAddress=buildExternalAccountAddress({key:impl,fallbackIndex:0});}if(!externalAccountAddress){externalAccountAddress=buildExternalAccountAddress({key:this.networkId,fallbackIndex:0});}}var addressDetail=yield this.buildAccountAddressDetail({networkInfo,account,networkId:this.networkId,externalAccountAddress});var address=addressDetail?.address||'';if(!address&&!addressDetail.allowEmptyAddress||!addressDetail.isValid){throw new Error('VaultBase.getAccount ERROR: address is invalid');}return _objectSpread(_objectSpread({},account),{},{addressDetail,address});});function getAccount(){return _getAccount.apply(this,arguments);}return getAccount;}();_proto2.getAccountAddress=function(){var _getAccountAddress=_asyncToGenerator(function*(){return(yield this.getAccount()).address;});function getAccountAddress(){return _getAccountAddress.apply(this,arguments);}return getAccountAddress;}();_proto2.getAccountPath=function(){var _getAccountPath=_asyncToGenerator(function*(){return(yield this.getAccount()).path;});function getAccountPath(){return _getAccountPath.apply(this,arguments);}return getAccountPath;}();_proto2.getAccountXpub=function(){var _getAccountXpub=_asyncToGenerator(function*({dbAccount}={}){var networkAccount=yield this.getAccount({dbAccount});return this.getXpubFromAccount(networkAccount);});function getAccountXpub(){return _getAccountXpub.apply(this,arguments);}return getAccountXpub;}();_proto2.fillTokensDetails=function(){var _fillTokensDetails=_asyncToGenerator(function*({tokensDetails}){return Promise.resolve(tokensDetails);});function fillTokensDetails(_x36){return _fillTokensDetails.apply(this,arguments);}return fillTokensDetails;}();_proto2.fillAccountDetails=function(){var _fillAccountDetails=_asyncToGenerator(function*({accountDetails}){return Promise.resolve(accountDetails);});function fillAccountDetails(_x37){return _fillAccountDetails.apply(this,arguments);}return fillAccountDetails;}();_proto2.isEarliestLocalPendingTx=function(){var _isEarliestLocalPendingTx=_asyncToGenerator(function*({encodedTx}){return true;});function isEarliestLocalPendingTx(_x38){return _isEarliestLocalPendingTx.apply(this,arguments);}return isEarliestLocalPendingTx;}();_proto2.buildReplaceEncodedTx=function(){var _buildReplaceEncodedTx=_asyncToGenerator(function*({decodedTx,replaceType}){return Promise.resolve(decodedTx.encodedTx);});function buildReplaceEncodedTx(_x39){return _buildReplaceEncodedTx.apply(this,arguments);}return buildReplaceEncodedTx;}();_proto2.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){return Promise.resolve(params.encodedTx);});function attachFeeInfoToDAppEncodedTx(_x40){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto2.activateToken=function(){var _activateToken=_asyncToGenerator(function*(params){throw new NotImplemented();});function activateToken(_x41){return _activateToken.apply(this,arguments);}return activateToken;}();_proto2.getAddressType=function(){var _getAddressType=_asyncToGenerator(function*({address}){return Promise.resolve({});});function getAddressType(_x42){return _getAddressType.apply(this,arguments);}return getAddressType;}();_proto2.buildStakeEncodedTx=function buildStakeEncodedTx(params){return Promise.resolve(params);};_proto2.fetchAccountDetails=function(){var _fetchAccountDetails=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountDetailsByRpc(params);}return this.fetchAccountDetailsByApi(params);});function fetchAccountDetails(_x43){return _fetchAccountDetails.apply(this,arguments);}return fetchAccountDetails;}();_proto2.fetchAccountDetailsByApi=function(){var _fetchAccountDetailsByApi=_asyncToGenerator(function*(params){var queryParams=_objectSpread({},_omit(params,['accountId','signal']));var client=yield this.backgroundApi.serviceAccountProfile.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get(`/wallet/v1/account/get-account?${qs.stringify(_omitBy(queryParams,_isNil))}`,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId:params.accountId}),signal:params.signal});return resp;});function fetchAccountDetailsByApi(_x44){return _fetchAccountDetailsByApi.apply(this,arguments);}return fetchAccountDetailsByApi;}();_proto2.fetchAccountDetailsByRpc=function(){var _fetchAccountDetailsByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountDetailsByRpc(_x45){return _fetchAccountDetailsByRpc.apply(this,arguments);}return fetchAccountDetailsByRpc;}();_proto2.fetchTokenList=function(){var _fetchTokenList=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchTokenListByRpc(params);}return this.fetchTokenListByApi(params);});function fetchTokenList(_x46){return _fetchTokenList.apply(this,arguments);}return fetchTokenList;}();_proto2.fetchTokenListByApi=function(){var _fetchTokenListByApi=_asyncToGenerator(function*(params){var{serviceToken,serviceAccountProfile}=this.backgroundApi;var{requestApiParams,flag,signal,accountId}=params;if(requestApiParams.contractList){requestApiParams.contractList=requestApiParams.contractList.filter(function(contract){return contract!==null&&typeof contract==='string';});}var client=yield serviceToken.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post(`/wallet/v1/account/token/list?flag=${flag||''}`,requestApiParams,{signal,headers:yield serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchTokenListByApi(_x47){return _fetchTokenListByApi.apply(this,arguments);}return fetchTokenListByApi;}();_proto2.fetchTokenListByRpc=function(){var _fetchTokenListByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchTokenListByRpc(_x48){return _fetchTokenListByRpc.apply(this,arguments);}return fetchTokenListByRpc;}();_proto2.estimateFee=function(){var _estimateFee=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.estimateFeeByRpc(params);}return this.estimateFeeByApi(params);});function estimateFee(_x49){return _estimateFee.apply(this,arguments);}return estimateFee;}();_proto2.estimateFeeByApi=function(){var _estimateFeeByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.post('/wallet/v1/account/estimate-fee',rest,{headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function estimateFeeByApi(_x50){return _estimateFeeByApi.apply(this,arguments);}return estimateFeeByApi;}();_proto2.estimateFeeByRpc=function(){var _estimateFeeByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function estimateFeeByRpc(_x51){return _estimateFeeByRpc.apply(this,arguments);}return estimateFeeByRpc;}();_proto2.fetchAccountHistoryDetail=function(){var _fetchAccountHistoryDetail=_asyncToGenerator(function*(params){var isCustomNetwork=yield this.backgroundApi.serviceNetwork.isCustomNetwork({networkId:this.networkId});if(isCustomNetwork){return this.fetchAccountHistoryDetailByRpc(params);}return this.fetchAccountHistoryDetailByApi(params);});function fetchAccountHistoryDetail(_x52){return _fetchAccountHistoryDetail.apply(this,arguments);}return fetchAccountHistoryDetail;}();_proto2.fetchAccountHistoryDetailByApi=function(){var _fetchAccountHistoryDetailByApi=_asyncToGenerator(function*(params){var{accountId}=params,rest=_objectWithoutProperties(params,_excluded2);var client=yield this.backgroundApi.serviceGas.getClient(EServiceEndpointEnum.Wallet);var resp=yield client.get('/wallet/v1/account/history/detail',{params:rest,headers:yield this.backgroundApi.serviceAccountProfile._getWalletTypeHeader({accountId})});return resp;});function fetchAccountHistoryDetailByApi(_x53){return _fetchAccountHistoryDetailByApi.apply(this,arguments);}return fetchAccountHistoryDetailByApi;}();_proto2.fetchAccountHistoryDetailByRpc=function(){var _fetchAccountHistoryDetailByRpc=_asyncToGenerator(function*(params){throw new NotImplemented();});function fetchAccountHistoryDetailByRpc(_x54){return _fetchAccountHistoryDetailByRpc.apply(this,arguments);}return fetchAccountHistoryDetailByRpc;}();_proto2.buildOkxSwapEncodedTx=function(){var _buildOkxSwapEncodedTx=_asyncToGenerator(function*(params){throw new NotImplemented();});function buildOkxSwapEncodedTx(_x55){return _buildOkxSwapEncodedTx.apply(this,arguments);}return buildOkxSwapEncodedTx;}();return _createClass(VaultBase);}(VaultBaseChainOnly);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import networkUtils from'@onekeyhq/shared/src/utils/networkUtils';import{getVaultSettings as _getVaultSettings,getVaultSettingsNetworkInfo}from\"../settings\";export var VaultContext=function(){function VaultContext(options){this.options=options;this.networkId=options.networkId||'';this.accountId=options.accountId||'';this.backgroundApi=options.backgroundApi;this.walletId=options.walletId||(this.accountId?accountUtils.getWalletIdFromAccountId({accountId:this.accountId}):'');if(!this.walletId&&!this.options.isChainOnly){throw new Error('can not get correct walletId');}}var _proto=VaultContext.prototype;_proto.getNetworkId=function(){var _getNetworkId=_asyncToGenerator(function*(){return this.networkId;});function getNetworkId(){return _getNetworkId.apply(this,arguments);}return getNetworkId;}();_proto.getNetwork=function(){var _getNetwork=_asyncToGenerator(function*({cached}={}){if(!cached||!this._network||this._network.id!==this.networkId){var network=yield this.backgroundApi.serviceNetwork.getNetwork({networkId:this.networkId});this._network=network;}return this._network;});function getNetwork(){return _getNetwork.apply(this,arguments);}return getNetwork;}();_proto.getNetworkChainId=function(){var _getNetworkChainId=_asyncToGenerator(function*({hex=false}={}){return networkUtils.getNetworkChainId({networkId:this.networkId,hex});});function getNetworkChainId(){return _getNetworkChainId.apply(this,arguments);}return getNetworkChainId;}();_proto.getNetworkImpl=function(){var _getNetworkImpl=_asyncToGenerator(function*(){return networkUtils.getNetworkImpl({networkId:this.networkId});});function getNetworkImpl(){return _getNetworkImpl.apply(this,arguments);}return getNetworkImpl;}();_proto.getVaultSettings=function(){var _getVaultSettings2=_asyncToGenerator(function*(){return _getVaultSettings({networkId:this.networkId});});function getVaultSettings(){return _getVaultSettings2.apply(this,arguments);}return getVaultSettings;}();_proto.getNetworkInfo=function(){var _getNetworkInfo=_asyncToGenerator(function*(){return getVaultSettingsNetworkInfo({networkId:this.networkId});});function getNetworkInfo(){return _getNetworkInfo.apply(this,arguments);}return getNetworkInfo;}();_proto.getCoreApiNetworkInfo=function(){var _getCoreApiNetworkInfo=_asyncToGenerator(function*(){var network=yield this.getNetwork();var networkInfo=yield this.getNetworkInfo();var{addressPrefix,curve}=networkInfo;var networkImpl=yield this.getNetworkImpl();var chainId=yield this.getNetworkChainId({hex:false});var{isTestnet}=network;var{networkId}=this;return{isTestnet,networkChainCode:network.code,chainId,networkId,networkImpl,addressPrefix,curve};});function getCoreApiNetworkInfo(){return _getCoreApiNetworkInfo.apply(this,arguments);}return getCoreApiNetworkInfo;}();_proto.getRpcUrl=function(){var _getRpcUrl=_asyncToGenerator(function*(){return'';});function getRpcUrl(){return _getRpcUrl.apply(this,arguments);}return getRpcUrl;}();_proto.destroy=function(){var _destroy=_asyncToGenerator(function*(){});function destroy(){return _destroy.apply(this,arguments);}return destroy;}();return _createClass(VaultContext);}();","import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import BigNumber from'bignumber.js';import*as BitcoinJS from'bitcoinjs-lib';import{checkBtcAddressIsUsed,getBtcForkNetwork,isTaprootPath}from'@onekeyhq/core/src/chains/btc/sdkBtc';import{AddressNotSupportSignMethodError}from'@onekeyhq/shared/src/errors';import{convertDeviceError,convertDeviceResponse}from'@onekeyhq/shared/src/errors/utils/deviceErrorUtils';import{CoreSDKLoader}from'@onekeyhq/shared/src/hardware/instance';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import bufferUtils from'@onekeyhq/shared/src/utils/bufferUtils';import{KeyringHardwareBase}from\"../../base/KeyringHardwareBase\";export var KeyringHardwareBtcBase=function(_KeyringHardwareBase){_inherits(KeyringHardwareBtcBase,_KeyringHardwareBase);var _super=_createSuper(KeyringHardwareBtcBase);function KeyringHardwareBtcBase(...args){var _this;_this=_super.call(this,...args);_this.buildHardwareInput=function(){var _ref=_asyncToGenerator(function*(input,path){var{getHDPath,getScriptType}=yield CoreSDKLoader();var addressN=getHDPath(path);var scriptType=getScriptType(addressN);return{prev_index:input.vout,prev_hash:input.txid,amount:new BigNumber(input.value).toFixed(),address_n:addressN,script_type:scriptType};});return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.buildHardwareOutput=function(){var _ref2=_asyncToGenerator(function*(output){var{isChange,bip44Path,opReturn}=output.payload||{};if(opReturn&&typeof opReturn==='string'&&opReturn.length>0){return{script_type:'PAYTOOPRETURN',amount:'0',op_return_data:bufferUtils.bytesToHex(Buffer.from(opReturn))};}if(isChange&&bip44Path){var{getHDPath,getOutputScriptType}=yield CoreSDKLoader();var addressN=getHDPath(bip44Path);var scriptType=getOutputScriptType(addressN);return{script_type:scriptType,address_n:addressN,amount:new BigNumber(output.value).toFixed()};}return{script_type:'PAYTOADDRESS',address:output.address,amount:new BigNumber(output.value).toFixed()};});return function(_x3){return _ref2.apply(this,arguments);};}();_this.buildPrevTx=function(rawTx){var tx=BitcoinJS.Transaction.fromHex(rawTx);return{hash:tx.getId(),version:tx.version,inputs:tx.ins.map(function(i){return{prev_hash:Buffer.from(i.hash.reverse()).toString('hex'),prev_index:i.index,script_sig:Buffer.from(i.script).toString('hex'),sequence:i.sequence};}),bin_outputs:tx.outs.map(function(o){return{amount:o.value.toString(),script_pubkey:Buffer.from(o.script).toString('hex')};}),lock_time:tx.locktime};};return _this;}var _proto=KeyringHardwareBtcBase.prototype;_proto.buildPrepareAccountsPrefixedPath=function buildPrepareAccountsPrefixedPath(params){var fullPath=accountUtils.buildPathFromTemplate({template:params.template,index:params.index});return accountUtils.removePathLastSegment({path:fullPath,removeCount:2});};_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _this2=this;var{unsignedTx}=params;var{psbtHex,inputsToSign}=unsignedTx.encodedTx;if(psbtHex&&inputsToSign){return this.signPsbt(params);}var{inputs,outputs}=unsignedTx.encodedTx;var{dbDevice,deviceCommonParams}=checkIsDefined(params.deviceParams);var network=yield this.getNetwork();var vault=this.vault;var coinName=yield checkIsDefined(this.coreApi).getCoinName({network});var addresses=inputs.map(function(input){return input.address;});var{utxoList:utxosInfo}=yield vault._collectUTXOsInfoByApi();var signers={};for(var utxo of utxosInfo){var{address,path}=utxo;if(addresses.includes(address)){signers[address]=path;}}var prevTxids=Array.from(new Set(inputs.map(function(i){return i.txid;}))).filter(Boolean);var prevTxs=yield vault.collectTxsByApi(prevTxids);var sdk=yield this.getHardwareSDKInstance();var{connectId,deviceId}=dbDevice;var response=yield sdk.btcSignTransaction(connectId,deviceId,_objectSpread({coin:coinName.toLowerCase(),inputs:yield Promise.all(inputs.map(function(){var _ref3=_asyncToGenerator(function*(i){return _this2.buildHardwareInput(i,signers[i.address]);});return function(_x5){return _ref3.apply(this,arguments);};}())),outputs:yield Promise.all(outputs.map(function(){var _ref4=_asyncToGenerator(function*(o){return _this2.buildHardwareOutput(o);});return function(_x6){return _ref4.apply(this,arguments);};}())),refTxs:Object.values(prevTxs).map(function(i){return _this2.buildPrevTx(i);})},deviceCommonParams));if(response.success){var{serializedTx}=response.payload;var tx=BitcoinJS.Transaction.fromHex(serializedTx);return{txid:tx.getId(),rawTx:serializedTx,encodedTx:unsignedTx.encodedTx};}throw convertDeviceError(response.payload);});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signPsbt=function(){var _signPsbt=_asyncToGenerator(function*(params){var{unsignedTx,signOnly}=params;var{psbtHex,inputsToSign}=unsignedTx.encodedTx;if(!psbtHex||!inputsToSign){throw new Error('invalid psbt');}var dbAccount=yield this.vault.getAccount();if(!isTaprootPath(dbAccount.path)){throw new AddressNotSupportSignMethodError();}var network=yield this.getNetwork();var coinName=yield checkIsDefined(this.coreApi).getCoinName({network});var sdk=yield this.getHardwareSDKInstance();var{dbDevice,deviceCommonParams}=checkIsDefined(params.deviceParams);var{connectId,deviceId}=dbDevice;var pubkeyResult=yield convertDeviceResponse(function(){return sdk.btcGetPublicKey(connectId,deviceId,_objectSpread(_objectSpread({},deviceCommonParams),{},{path:dbAccount.path,showOnOneKey:false}));});var fingerprint=Number(pubkeyResult.root_fingerprint||0).toString(16).padStart(8,'0');var networkInfo=yield this.getCoreApiNetworkInfo();var btcNetwork=getBtcForkNetwork(networkInfo.networkChainCode);var psbt=BitcoinJS.Psbt.fromHex(psbtHex,{network:btcNetwork,maximumFeeRate:btcNetwork.maximumFeeRate});for(var i=0,len=inputsToSign.length;i<len;i+=1){var _dbAccount$relPath;var input=inputsToSign[i];psbt.updateInput(input.index,{tapBip32Derivation:[{masterFingerprint:Buffer.from(fingerprint,'hex'),pubkey:Buffer.from(input.publicKey,'hex').subarray(1,33),path:`${dbAccount.path}/${(_dbAccount$relPath=dbAccount.relPath)!=null?_dbAccount$relPath:'0/0'}`,leafHashes:[]}]});}for(var _i=0,_len=psbt.txOutputs.length;_i<_len;_i+=1){var output=psbt.txOutputs[_i];try{if(output.address===dbAccount.address&&_len>1){var _dbAccount$relPath2;psbt.updateOutput(_i,{tapInternalKey:Buffer.from(checkIsDefined(dbAccount.pub),'hex').subarray(1,33),tapBip32Derivation:[{masterFingerprint:Buffer.from(fingerprint,'hex'),pubkey:Buffer.from(checkIsDefined(dbAccount.pub),'hex').subarray(1,33),path:`${dbAccount.path}/${(_dbAccount$relPath2=dbAccount.relPath)!=null?_dbAccount$relPath2:'0/0'}`,leafHashes:[]}]});}}catch(err){}}var response=yield convertDeviceResponse(function(){return sdk.btcSignPsbt(connectId,deviceId,_objectSpread(_objectSpread({},deviceCommonParams),{},{psbt:psbt.toHex(),coin:coinName?.toLowerCase()}));});var signedPsbt=response.psbt;var rawTx='';var finalizedPsbt=BitcoinJS.Psbt.fromHex(signedPsbt,{network:btcNetwork});inputsToSign.forEach(function(v){finalizedPsbt.finalizeInput(v.index);});if(!signOnly){rawTx=finalizedPsbt.extractTransaction().toHex();}return{encodedTx:unsignedTx.encodedTx,txid:'',rawTx,psbtHex:signedPsbt,finalizedPsbtHex:finalizedPsbt.toHex()};});function signPsbt(_x7){return _signPsbt.apply(this,arguments);}return signPsbt;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){var network=yield this.getNetwork();var coinName=yield checkIsDefined(this.coreApi).getCoinName({network});var dbAccount=yield this.vault.getAccount();var deviceParams=checkIsDefined(params.deviceParams);var{connectId,deviceId}=deviceParams.dbDevice;var sdk=yield this.getHardwareSDKInstance();var result=yield Promise.all(params.messages.map(function(){var _ref5=_asyncToGenerator(function*({message,type}){var _dbAccount$relPath3;var dAppSignType=type||undefined;if(dAppSignType&&!isTaprootPath(dbAccount.path)){throw new AddressNotSupportSignMethodError();}var response=yield sdk.btcSignMessage(connectId,deviceId,_objectSpread(_objectSpread({},params.deviceParams?.deviceCommonParams),{},{path:`${dbAccount.path}/${(_dbAccount$relPath3=dbAccount.relPath)!=null?_dbAccount$relPath3:'0/0'}`,coin:coinName,messageHex:Buffer.from(message).toString('hex'),dAppSignType}));if(!response.success){throw convertDeviceError(response.payload);}return{message,signature:response.payload.signature};});return function(_x9){return _ref5.apply(this,arguments);};}()));return result.map(function(ret){return ret.signature;});});function signMessage(_x8){return _signMessage.apply(this,arguments);}return signMessage;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var _this3=this;var networkInfo=yield this.getCoreApiNetworkInfo();var network=getBtcForkNetwork(networkInfo.networkChainCode);var addressEncoding=params.deriveInfo?.addressEncoding;var addressRelPath=accountUtils.buildUtxoAddressRelPath();return this.basePrepareHdUtxoAccounts(params,{checkIsAccountUsed:checkBtcAddressIsUsed,buildAddressesInfo:function(){var _ref6=_asyncToGenerator(function*({usedIndexes}){var publicKeys=yield _this3.baseGetDeviceAccountPublicKeys({params,usedIndexes,sdkGetPublicKeysFn:function(){var _ref7=_asyncToGenerator(function*({connectId,deviceId,template,coinName,showOnOnekeyFn}){var buildFullPath=function(p){return accountUtils.buildPathFromTemplate({template,index:p.index});};var buildPrefixedPath=function(p){return _this3.buildPrepareAccountsPrefixedPath({template,index:p.index});};var allNetworkAccounts=yield _this3.getAllNetworkPrepareAccounts({params,usedIndexes,hwSdkNetwork:_this3.hwSdkNetwork,buildPath:buildPrefixedPath,buildResultAccount:function({account,index}){return{path:account.path,xpub:account.payload?.xpub||'',xpubSegwit:account.payload?.xpubSegwit||'',node:account.payload?.node||{}};}});if(allNetworkAccounts){return allNetworkAccounts;}throw new Error('use sdk allNetworkGetAddress instead');});return function sdkGetPublicKeysFn(_x12){return _ref7.apply(this,arguments);};}()});var ret=[];for(var i=0;i<publicKeys.length;i+=1){var item=publicKeys[i];var{path,xpub,xpubSegwit}=item;var{addresses:addressFromXpub,publicKeys:publicKeysMap}=yield checkIsDefined(_this3.coreApi).getAddressFromXpub({network,xpub,relativePaths:[addressRelPath],addressEncoding});var{[addressRelPath]:publicKey}=publicKeysMap;var{[addressRelPath]:address}=addressFromXpub;var addressInfo={address,publicKey,path,relPath:addressRelPath,xpub,xpubSegwit,addresses:{[addressRelPath]:address}};ret.push(addressInfo);}return ret;});return function buildAddressesInfo(_x11){return _ref6.apply(this,arguments);};}()});});function prepareAccounts(_x10){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.batchGetAddresses=function(){var _batchGetAddresses=_asyncToGenerator(function*(params){var _this4=this;var{indexes}=params;var addresses=yield this.baseGetDeviceAccountAddresses({params,usedIndexes:indexes,sdkGetAddressFn:function(){var _ref8=_asyncToGenerator(function*({connectId,deviceId,pathPrefix,pathSuffix,coinName,showOnOnekeyFn}){var sdk=yield _this4.getHardwareSDKInstance();var response=yield sdk.btcGetAddress(connectId,deviceId,_objectSpread(_objectSpread({},params.deviceParams.deviceCommonParams),{},{bundle:indexes.map(function(index,arrIndex){return{path:`${pathPrefix}/${pathSuffix.replace('{index}',`${index}`)}`,coin:coinName?.toLowerCase(),showOnOneKey:showOnOnekeyFn(arrIndex)};})}));return response;});return function sdkGetAddressFn(_x14){return _ref8.apply(this,arguments);};}()});return addresses.map(function(item){var _item$path,_item$address;return{path:(_item$path=item.path)!=null?_item$path:'',address:(_item$address=item.address)!=null?_item$address:''};});});function batchGetAddresses(_x13){return _batchGetAddresses.apply(this,arguments);}return batchGetAddresses;}();return _createClass(KeyringHardwareBtcBase);}(KeyringHardwareBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{checkBtcAddressIsUsed}from'@onekeyhq/core/src/chains/btc/sdkBtc';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{defaultLogger}from'@onekeyhq/shared/src/logger/logger';import{KeyringHdBase}from\"../../base/KeyringHdBase\";export var KeyringHd=function(_KeyringHdBase){_inherits(KeyringHd,_KeyringHdBase);var _super=_createSuper(KeyringHd);function KeyringHd(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.btc.hd;return _this;}var _proto=KeyringHd.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x2){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){defaultLogger.account.accountCreatePerf.prepareAccountsStartBtc({networkId:this.networkId,indexes:params.indexes});var sdkBtc=yield import('@onekeyhq/core/src/chains/btc/sdkBtc');sdkBtc.initBitcoinEcc();defaultLogger.account.accountCreatePerf.initBitcoinEccDone();return this.basePrepareAccountsHdUtxo(params,{checkIsAccountUsed:checkBtcAddressIsUsed});});function prepareAccounts(_x3){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){return this.baseSignTransactionBtc(params);});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessageBtc(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringHd);}(KeyringHdBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringImportedBase}from\"../../base/KeyringImportedBase\";export var KeyringImported=function(_KeyringImportedBase){_inherits(KeyringImported,_KeyringImportedBase);var _super=_createSuper(KeyringImported);function KeyringImported(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.btc.imported;return _this;}var _proto=KeyringImported.prototype;_proto.getPrivateKeys=function(){var _getPrivateKeys=_asyncToGenerator(function*(params){return this.baseGetPrivateKeys(params);});function getPrivateKeys(_x){return _getPrivateKeys.apply(this,arguments);}return getPrivateKeys;}();_proto.exportAccountSecretKeys=function(){var _exportAccountSecretKeys=_asyncToGenerator(function*(params){return this.baseExportAccountSecretKeys(params);});function exportAccountSecretKeys(_x2){return _exportAccountSecretKeys.apply(this,arguments);}return exportAccountSecretKeys;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){return this.basePrepareAccountsImportedUtxo(params);});function prepareAccounts(_x3){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){return this.baseSignTransactionBtc(params);});function signTransaction(_x4){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function(){var _signMessage=_asyncToGenerator(function*(params){return this.baseSignMessageBtc(params);});function signMessage(_x5){return _signMessage.apply(this,arguments);}return signMessage;}();return _createClass(KeyringImported);}(KeyringImportedBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{Psbt}from'bitcoinjs-lib';import{convertBtcForkXpub,convertBtcScriptTypeForHardware,getBtcForkNetwork}from'@onekeyhq/core/src/chains/btc/sdkBtc';import{buildPsbt}from'@onekeyhq/core/src/chains/btc/sdkBtc/providerUtils';import{verifyBtcSignedPsbtMatched}from'@onekeyhq/core/src/chains/btc/sdkBtc/verify';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{getAirGapSdk}from'@onekeyhq/qr-wallet-sdk';import{NotImplemented,OneKeyErrorAirGapAccountNotFound,OneKeyErrorAirGapInvalidQrCode}from'@onekeyhq/shared/src/errors';import{CoreSDKLoader}from'@onekeyhq/shared/src/hardware/instance';import accountUtils from'@onekeyhq/shared/src/utils/accountUtils';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import localDb from\"../../../dbs/local/localDb\";import{KeyringQrBase}from\"../../base/KeyringQrBase\";export var KeyringQr=function(_KeyringQrBase){_inherits(KeyringQr,_KeyringQrBase);var _super=_createSuper(KeyringQr);function KeyringQr(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.btc.hd;return _this;}var _proto=KeyringQr.prototype;_proto.verifySignedTxMatched=function(){var _verifySignedTxMatched=_asyncToGenerator(function*({unsignedPsbt,signedPsbt}){return verifyBtcSignedPsbtMatched({unsignedPsbt,signedPsbt});});function verifySignedTxMatched(_x){return _verifySignedTxMatched.apply(this,arguments);}return verifySignedTxMatched;}();_proto.getChildPathTemplates=function getChildPathTemplates(params){return{childPathTemplates:[accountUtils.buildUtxoAddressRelPath()]};};_proto.signTransaction=function(){var _signTransaction=_asyncToGenerator(function*(params){var _this2=this;var{unsignedTx}=params;var vault=this.vault;var networkInfo=yield this.getCoreApiNetworkInfo();var network=getBtcForkNetwork(networkInfo.networkChainCode);var{btcExtraInfo}=yield vault.prepareBtcSignExtraInfo({unsignedTx});var dbAccount=yield this.vault.getAccount();var wallet=yield localDb.getWallet({walletId:this.walletId});var{airGapAccount}=yield this.findAirGapAccountByDbAccount({dbAccount,wallet});var xpub=airGapAccount?.extendedPublicKey;if(!xpub){throw new Error('xpub not found');}var deriveType=yield this.backgroundApi.serviceNetwork.getDeriveTypeByTemplate({networkId:this.networkId,template:dbAccount.template});var addressEncoding=deriveType.deriveInfo?.addressEncoding;if(!addressEncoding){throw new Error('addressEncoding not found');}var unsignedPsbt;var signedTx=yield this.baseSignByQrcode(params,{signRequestUrBuilder:function(){var _ref=_asyncToGenerator(function*({path,account,chainId,requestId,xfp}){unsignedPsbt=yield buildPsbt({network:getBtcForkNetwork(networkInfo.networkChainCode),unsignedTx,btcExtraInfo,buildInputMixinInfo:function(){var _ref2=_asyncToGenerator(function*({address}){var relPath=btcExtraInfo?.addressToPath?.[address]?.relPath;var fullPath=btcExtraInfo?.addressToPath?.[address]?.fullPath;if(!relPath){throw new Error('relPath not found');}var xpubAddressInfo=yield _this2.coreApi.getAddressFromXpub({network,xpub,relativePaths:[relPath],addressEncoding});var{[relPath]:publicKey}=xpubAddressInfo.publicKeys;if(publicKey){var pubkeyBuffer=Buffer.from(publicKey,'hex');return{pubkey:pubkeyBuffer,bip32Derivation:[{masterFingerprint:Buffer.from(xfp,'hex'),pubkey:pubkeyBuffer,path:fullPath}]};}return{pubkey:undefined};});return function buildInputMixinInfo(_x4){return _ref2.apply(this,arguments);};}()});var sdk=getAirGapSdk();return sdk.btc.generatePSBT(Buffer.from(unsignedPsbt.toBuffer()));});return function signRequestUrBuilder(_x3){return _ref.apply(this,arguments);};}(),signedResultBuilder:function(){var _ref3=_asyncToGenerator(function*({signatureUr}){var sdk=getAirGapSdk();var psbtHex='';try{psbtHex=sdk.btc.parsePSBT(checkIsDefined(signatureUr));}catch(error){throw new OneKeyErrorAirGapInvalidQrCode();}if(!psbtHex){throw new Error('BTC QR sign ERROR: psbtHex not found');}var signedPsbt=Psbt.fromHex(psbtHex,{network,maximumFeeRate:network.maximumFeeRate});yield _this2.verifySignedTxMatched({unsignedPsbt,signedPsbt});var{rawTx,txid}=yield _this2.coreApi.extractPsbtToSignedTx({psbt:signedPsbt});return Promise.resolve({txid,rawTx,encodedTx:params.unsignedTx.encodedTx});});return function signedResultBuilder(_x5){return _ref3.apply(this,arguments);};}()});return signedTx;});function signTransaction(_x2){return _signTransaction.apply(this,arguments);}return signTransaction;}();_proto.signMessage=function signMessage(params){throw new NotImplemented();};_proto.getVerifyAddressChainParams=function(){var _getVerifyAddressChainParams=_asyncToGenerator(function*(query){var{fullPath}=query;var{getHDPath,getScriptType}=yield CoreSDKLoader();var addressN=getHDPath(fullPath);var scriptType=getScriptType(addressN);return{scriptType:String(convertBtcScriptTypeForHardware(scriptType))};});function getVerifyAddressChainParams(_x6){return _getVerifyAddressChainParams.apply(this,arguments);}return getVerifyAddressChainParams;}();_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var _this3=this;var wallet=yield localDb.getWallet({walletId:this.walletId});var networkInfo=yield this.getCoreApiNetworkInfo();var network=getBtcForkNetwork(networkInfo.networkChainCode);var addressEncoding=params.deriveInfo?.addressEncoding;return this.basePrepareHdUtxoAccounts(params,{buildAddressesInfo:function(){var _ref4=_asyncToGenerator(function*({usedIndexes}){if(params?.isVerifyAddressAction){return _this3.verifyQrWalletAddressByTwoWayScan(params,{indexes:usedIndexes});}var ret=[];for(var index of usedIndexes){var{fullPath,airGapAccount,childPathTemplate}=yield _this3.findAirGapAccountInPrepareAccounts(params,{index,wallet});if(!airGapAccount){throw new OneKeyErrorAirGapAccountNotFound();}var xpub='';var addressRelPath=void 0;if(childPathTemplate){var childPath=accountUtils.buildPathFromTemplate({template:childPathTemplate,index});addressRelPath=childPath;var extendedPublicKey=airGapAccount?.extendedPublicKey;if(!extendedPublicKey){throw new Error('xpub not found');}xpub=convertBtcForkXpub({btcForkNetwork:network,addressEncoding,xpub:extendedPublicKey});}if(!xpub){throw new Error('publicKey not found');}if(!addressRelPath){throw new Error('addressRelPath not found');}var xpubAddressInfo=yield _this3.coreApi.getAddressFromXpub({network,xpub,relativePaths:[addressRelPath],addressEncoding});var{[addressRelPath]:address}=xpubAddressInfo.addresses;var{[addressRelPath]:publicKey}=xpubAddressInfo.publicKeys;var addressInfo={address,publicKey,path:airGapAccount.path,relPath:addressRelPath,xpub,xpubSegwit:xpubAddressInfo.xpubSegwit,addresses:{[addressRelPath]:address}};ret.push(addressInfo);}return ret;});return function buildAddressesInfo(_x8){return _ref4.apply(this,arguments);};}()});});function prepareAccounts(_x7){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringQr);}(KeyringQrBase);","import _isEqual from\"lodash/isEqual\";import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';export function verifyBtcSignedPsbtMatched({unsignedPsbt,signedPsbt}){if(!unsignedPsbt||!signedPsbt){throw new Error(appLocale.intl.formatMessage({id:ETranslations.feedback_psbt_not_found}));}var isEqualFn=_isEqual;if(!isEqualFn(unsignedPsbt.txInputs,signedPsbt.txInputs)){throw new Error(appLocale.intl.formatMessage({id:ETranslations.feedback_psbt_inputs_mismatch}));}if(!isEqualFn(unsignedPsbt.txOutputs,signedPsbt.txOutputs)){throw new Error(appLocale.intl.formatMessage({id:ETranslations.feedback_psbt_outputs_mismatch}));}if(!isEqualFn(unsignedPsbt.data.globalMap,signedPsbt.data.globalMap)){throw new Error(appLocale.intl.formatMessage({id:ETranslations.feedback_psbt_uuid_mismatch}));}}","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import{getBtcForkNetwork,getPublicKeyFromXpub}from'@onekeyhq/core/src/chains/btc/sdkBtc';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringWatchingBase}from\"../../base/KeyringWatchingBase\";export var KeyringWatching=function(_KeyringWatchingBase){_inherits(KeyringWatching,_KeyringWatchingBase);var _super=_createSuper(KeyringWatching);function KeyringWatching(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.btc.hd;return _this;}var _proto=KeyringWatching.prototype;_proto.prepareAccounts=function(){var _prepareAccounts=_asyncToGenerator(function*(params){var accounts=yield _get(_getPrototypeOf(KeyringWatching.prototype),\"basePrepareUtxoWatchingAccounts\",this).call(this,params);var networkInfo=yield this.getCoreApiNetworkInfo();var network=getBtcForkNetwork(networkInfo.networkChainCode);for(var account of accounts){if(!account.pub&&account.xpub){var pub=getPublicKeyFromXpub({xpub:account.xpub,network,relPath:'0/0'});account.pub=pub;}}return accounts;});function prepareAccounts(_x){return _prepareAccounts.apply(this,arguments);}return prepareAccounts;}();return _createClass(KeyringWatching);}(KeyringWatchingBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{KeyringHardwareBtcBase}from\"./KeyringHardwareBtcBase\";export var KeyringHardware=function(_KeyringHardwareBtcBa){_inherits(KeyringHardware,_KeyringHardwareBtcBa);var _super=_createSuper(KeyringHardware);function KeyringHardware(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.btc.hd;_this.hwSdkNetwork='btc';return _this;}var _proto=KeyringHardware.prototype;_proto.buildHwAllNetworkPrepareAccountsParams=function(){var _buildHwAllNetworkPrepareAccountsParams=_asyncToGenerator(function*({template,index}){return{network:this.hwSdkNetwork,path:this.buildPrepareAccountsPrefixedPath({template,index}),showOnOneKey:false};});function buildHwAllNetworkPrepareAccountsParams(_x){return _buildHwAllNetworkPrepareAccountsParams.apply(this,arguments);}return buildHwAllNetworkPrepareAccountsParams;}();return _createClass(KeyringHardware);}(KeyringHardwareBtcBase);","import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import axios from'axios';import{InvalidTransferValue}from'@onekeyhq/shared/src/errors';var ClientBtc=function(){function ClientBtc(url){this.request=axios.create({baseURL:url,timeout:30_000});}var _proto=ClientBtc.prototype;_proto.getInfo=function(){var _getInfo=_asyncToGenerator(function*(){var res=yield this.request.get('/api/v2').then(function(i){return i.data;});var bestBlockNumber=Number(res.blockbook.bestHeight);return{bestBlockNumber,isReady:Number.isFinite(bestBlockNumber)&&bestBlockNumber>0,coin:res.blockbook.coin};});function getInfo(){return _getInfo.apply(this,arguments);}return getInfo;}();_proto.broadcastTransaction=function(){var _broadcastTransaction=_asyncToGenerator(function*(rawTx){try{var _res$result;var res=null;if(rawTx.length<500){res=yield this.request.get(`/api/v2/sendtx/${rawTx}`).then(function(i){return i.data;});}else{res=yield this.request.post(`/api/v2/sendtx/`,rawTx,{headers:{'Content-Type':'text/plain'}}).then(function(i){return i.data;});}return(_res$result=res?.result)!=null?_res$result:'';}catch(e){var err=e;if(err.response?.data?.error?.includes('-26: dust')){throw new InvalidTransferValue();}if(err.response?.data?.error?.includes('transaction already in block chain')){throw new Error('Transaction already in block');}if(err.response?.data?.error){throw new Error(err.response?.data?.error);}throw err;}});function broadcastTransaction(_x){return _broadcastTransaction.apply(this,arguments);}return broadcastTransaction;}();return _createClass(ClientBtc);}();export{ClientBtc};","import _uniq from\"lodash/uniq\";import _cloneDeep from\"lodash/cloneDeep\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _isNil from\"lodash/isNil\";import _isEmpty from\"lodash/isEmpty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"txId\",\"value\"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function(){return!!t;})();}import BigNumber from'bignumber.js';import{Psbt}from'bitcoinjs-lib';import{convertBtcXprvtToHex,getBtcForkNetwork as _getBtcForkNetwork,getBtcXpubFromXprvt,getBtcXpubSupportedAddressEncodings,getInputsToSignFromPsbt,validateBtcAddress}from'@onekeyhq/core/src/chains/btc/sdkBtc';import{decodedPsbt as decodedPsbtFN,formatPsbtHex,toPsbtNetwork}from'@onekeyhq/core/src/chains/btc/sdkBtc/providerUtils';import coreChainApi from'@onekeyhq/core/src/instance/coreChainApi';import{decodeSensitiveText,encodeSensitiveText}from'@onekeyhq/core/src/secret';import{EAddressEncodings}from'@onekeyhq/core/src/types';import{estimateTxSize,getBIP44Path}from'@onekeyhq/core/src/utils';import{coinSelect}from'@onekeyhq/core/src/utils/coinSelectUtils';import{BTC_TX_PLACEHOLDER_VSIZE}from'@onekeyhq/shared/src/consts/chainConsts';import{InsufficientBalance,OneKeyInternalError}from'@onekeyhq/shared/src/errors';import{ETranslations}from'@onekeyhq/shared/src/locale';import{appLocale}from'@onekeyhq/shared/src/locale/appLocale';import{checkIsDefined}from'@onekeyhq/shared/src/utils/assertUtils';import{memoizee}from'@onekeyhq/shared/src/utils/cacheUtils';import timerUtils from'@onekeyhq/shared/src/utils/timerUtils';import{EDecodedTxActionType,EDecodedTxStatus}from'@onekeyhq/shared/types/tx';import{VaultBase}from\"../../base/VaultBase\";import{KeyringHardware}from\"./KeyringHardware\";import{KeyringHd}from\"./KeyringHd\";import{KeyringImported}from\"./KeyringImported\";import{KeyringQr}from\"./KeyringQr\";import{KeyringWatching}from\"./KeyringWatching\";import{ClientBtc}from\"./sdkBtc/ClientBtc\";var VaultBtc=function(_VaultBase){_inherits(VaultBtc,_VaultBase);var _super=_createSuper(VaultBtc);function VaultBtc(...args){var _this;_this=_super.call(this,...args);_this.coreApi=coreChainApi.btc.hd;_this.keyringMap={hd:KeyringHd,qr:KeyringQr,hw:KeyringHardware,imported:KeyringImported,watching:KeyringWatching,external:KeyringWatching};_this._getFeeRate=memoizee(_asyncToGenerator(function*(){try{var feeInfo=yield _this.backgroundApi.serviceGas.estimateFee({accountId:_this.accountId,networkId:_this.networkId,accountAddress:yield _this.getAccountAddress()});var{feeUTXO}=feeInfo;if(!feeUTXO||_isEmpty(feeUTXO)){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.feedback_failed_to_fet_fee_rate}));}var fees=feeUTXO.map(function(item){var _item$feeRate;return new BigNumber((_item$feeRate=item.feeRate)!=null?_item$feeRate:0).toFixed(0);});var negativeIndex=fees.findIndex(function(val){return new BigNumber(val).lt(0);});while(negativeIndex>=0){var leftIndex=negativeIndex-1;var rightIndex=negativeIndex+1;while(true){if(leftIndex>=0&&new BigNumber(fees[leftIndex]).gte(0)){fees[negativeIndex]=fees[leftIndex];break;}if(rightIndex<fees.length&&new BigNumber(fees[rightIndex]).gte(0)){fees[negativeIndex]=fees[rightIndex];break;}leftIndex-=1;rightIndex+=1;if(leftIndex<0&&rightIndex>=fees.length){break;}}negativeIndex=fees.findIndex(function(val){return new BigNumber(val).lt(0);});}return fees.sort(function(a,b){return new BigNumber(a).comparedTo(new BigNumber(b));});}catch(e){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.feedback_failed_to_fet_fee_rate}));}}),{promise:true,max:1,maxAge:1000*30});_this._collectUTXOsInfoByApi=memoizee(_asyncToGenerator(function*(){try{var inscriptionProtection=yield _this.backgroundApi.serviceSetting.getInscriptionProtection();var checkInscriptionProtectionEnabled=yield _this.backgroundApi.serviceSetting.checkInscriptionProtectionEnabled({networkId:_this.networkId,accountId:_this.accountId});var withCheckInscription=checkInscriptionProtectionEnabled&&inscriptionProtection;var{utxoList,frozenUtxoList,allUtxoList}=yield _this.backgroundApi.serviceAccountProfile.fetchAccountDetails({networkId:_this.networkId,accountId:_this.accountId,withUTXOList:true,withFrozenBalance:true,withCheckInscription});if(!utxoList){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.feedback_failed_to_get_utxos}));}return{utxoList,frozenUtxoList,allUtxoList};}catch(e){throw new OneKeyInternalError(appLocale.intl.formatMessage({id:ETranslations.feedback_failed_to_get_utxos}));}}),{promise:true,max:1,maxAge:timerUtils.getTimeDurationMs({seconds:30})});return _this;}var _proto=VaultBtc.prototype;_proto.buildAccountAddressDetail=function(){var _buildAccountAddressDetail=_asyncToGenerator(function*(params){var{account,networkId}=params;var{address}=account;return{networkId,normalizedAddress:address,displayAddress:address,address,baseAddress:address,isValid:true,allowEmptyAddress:false};});function buildAccountAddressDetail(_x){return _buildAccountAddressDetail.apply(this,arguments);}return buildAccountAddressDetail;}();_proto.buildDecodedTx=function(){var _buildDecodedTx=_asyncToGenerator(function*(params){var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var{swapInfo,stakingInfo}=unsignedTx;var{inputs,outputs,inputsToSign,psbtHex}=encodedTx;if(psbtHex&&Array.isArray(inputsToSign)){var decodedPsbt=yield this.buildDecodedPsbtTx(params);var decodedPsbtAction=decodedPsbt.actions[0];if(stakingInfo){var accountAddress=yield this.getAccountAddress();var{send}=stakingInfo;var action=yield this.buildInternalStakingAction({accountAddress,stakingInfo,stakingToAddress:decodedPsbtAction.assetTransfer?.to});var _sendNativeTokenAmountBN=new BigNumber(0);var _sendNativeTokenAmountValueBN=new BigNumber(0);if(send&&send.token.isNative){_sendNativeTokenAmountBN=new BigNumber(send.amount);_sendNativeTokenAmountValueBN=_sendNativeTokenAmountBN.shiftedBy(send.token.decimals);decodedPsbt.nativeAmount=_sendNativeTokenAmountBN.toFixed();decodedPsbt.nativeAmountValue=_sendNativeTokenAmountValueBN.toFixed();}if(action.assetTransfer){action.assetTransfer.utxoFrom=decodedPsbtAction.assetTransfer?.utxoFrom;action.assetTransfer.utxoTo=decodedPsbtAction.assetTransfer?.utxoTo;}decodedPsbt.actions=[action];}return decodedPsbt;}var network=yield this.getNetwork();var account=yield this.getAccount();var nativeToken=yield this.backgroundApi.serviceToken.getToken({accountId:this.accountId,networkId:this.networkId,tokenIdOnNetwork:''});var utxoFrom=inputs.map(function(input){return{address:input.address,balance:new BigNumber(input.value).shiftedBy(-network.decimals).toFixed(),balanceValue:input.value,symbol:network.symbol,isMine:true};});var originalUtxoTo=outputs.map(function(output){return{address:output.address,balance:new BigNumber(output.value).shiftedBy(-network.decimals).toFixed(),balanceValue:output.value,symbol:network.symbol,isMine:output.address===account.address};});var utxoTo=outputs.length>1?outputs.filter(function(output){return!output.payload?.isChange&&output.address;}).map(function(output){return{address:output.address,balance:new BigNumber(output.value).shiftedBy(-network.decimals).toFixed(),balanceValue:output.value,symbol:network.symbol,isMine:output.address===account.address};}):outputs.map(function(output){return{address:output.address,balance:new BigNumber(output.value).shiftedBy(-network.decimals).toFixed(),balanceValue:output.value,symbol:network.symbol,isMine:output.address===account.address};});var sendNativeTokenAmountBN=new BigNumber(0);var sendNativeTokenAmountValueBN=new BigNumber(0);var actions=[{type:EDecodedTxActionType.UNKNOWN,unknownAction:{from:account.address,to:utxoTo[0].address}}];if(swapInfo){var _providerInfo$provide,_swapSendToken$logoUR,_swapSendToken$name,_swapReceiveToken$log,_swapReceiveToken$nam;var swapSendToken=swapInfo.sender.token;var swapReceiveToken=swapInfo.receiver.token;var providerInfo=swapInfo.swapBuildResData.result.info;var _action=yield this.buildTxTransferAssetAction({from:swapInfo.accountAddress,to:utxoTo[0].address,application:{name:providerInfo.providerName,icon:(_providerInfo$provide=providerInfo.providerLogo)!=null?_providerInfo$provide:''},transfers:[{from:swapInfo.accountAddress,to:'',tokenIdOnNetwork:swapSendToken.contractAddress,icon:(_swapSendToken$logoUR=swapSendToken.logoURI)!=null?_swapSendToken$logoUR:'',name:(_swapSendToken$name=swapSendToken.name)!=null?_swapSendToken$name:'',symbol:swapSendToken.symbol,amount:swapInfo.sender.amount,isNFT:false,isNative:swapSendToken.isNative},{from:'',to:swapInfo.receivingAddress,tokenIdOnNetwork:swapReceiveToken.contractAddress,icon:(_swapReceiveToken$log=swapReceiveToken.logoURI)!=null?_swapReceiveToken$log:'',name:(_swapReceiveToken$nam=swapReceiveToken.name)!=null?_swapReceiveToken$nam:'',symbol:swapReceiveToken.symbol,amount:swapInfo.receiver.amount,isNFT:false,isNative:swapReceiveToken.isNative}],isInternalSwap:true,swapReceivedAddress:swapInfo.receivingAddress,swapReceivedNetworkId:swapInfo.receiver.token.networkId});if(swapSendToken.isNative){sendNativeTokenAmountBN=new BigNumber(swapInfo.sender.amount);sendNativeTokenAmountValueBN=sendNativeTokenAmountBN.shiftedBy(swapSendToken.decimals);}if(_action.assetTransfer){_action.assetTransfer.utxoFrom=utxoFrom;_action.assetTransfer.utxoTo=originalUtxoTo;}actions=[_action];}else if(stakingInfo){var _accountAddress=yield this.getAccountAddress();var{send:_send}=stakingInfo;var _action2=yield this.buildInternalStakingAction({accountAddress:_accountAddress,stakingInfo,stakingToAddress:utxoTo[0].address});if(_send&&_send.token.isNative){sendNativeTokenAmountBN=new BigNumber(_send.amount);sendNativeTokenAmountValueBN=sendNativeTokenAmountBN.shiftedBy(_send.token.decimals);}if(_action2.assetTransfer){_action2.assetTransfer.utxoFrom=utxoFrom;_action2.assetTransfer.utxoTo=originalUtxoTo;}actions=[_action2];}else if(nativeToken){actions=[{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:account.address,to:utxoTo[0].address,sends:utxoTo.map(function(utxo){var _nativeToken$logoURI;sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(utxo.balance);sendNativeTokenAmountValueBN=sendNativeTokenAmountValueBN.plus(utxo.balanceValue);return{from:account.address,to:utxo.address,isNative:true,tokenIdOnNetwork:'',name:nativeToken.name,icon:(_nativeToken$logoURI=nativeToken.logoURI)!=null?_nativeToken$logoURI:'',amount:utxo.balance,amountValue:utxo.balanceValue,symbol:network.symbol};}),receives:[],utxoFrom,utxoTo:originalUtxoTo}}];}var totalFeeInNative=new BigNumber(encodedTx.fee).shiftedBy(-1*network.feeMeta.decimals).toFixed();return{txid:'',owner:account.address,signer:account.address,nonce:0,actions,status:EDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,xpub:account.xpub,extraInfo:null,encodedTx,totalFeeInNative,nativeAmount:sendNativeTokenAmountBN.toFixed(),nativeAmountValue:sendNativeTokenAmountValueBN.toFixed()};});function buildDecodedTx(_x2){return _buildDecodedTx.apply(this,arguments);}return buildDecodedTx;}();_proto.buildDecodedPsbtTx=function(){var _buildDecodedPsbtTx=_asyncToGenerator(function*(params){var{unsignedTx}=params;var encodedTx=unsignedTx.encodedTx;var{inputs,outputs,inputsToSign}=encodedTx;if(!inputsToSign||Array.isArray(inputsToSign)&&!inputsToSign.length){throw new OneKeyInternalError('inputsToSign is empty');}var network=yield this.getNetwork();var account=yield this.getAccount();var nativeToken=yield this.backgroundApi.serviceToken.getToken({accountId:this.accountId,networkId:this.networkId,tokenIdOnNetwork:''});if(!nativeToken){throw new OneKeyInternalError('Native token not found');}var{allUtxoList}=yield this._collectUTXOsInfoByApi();var utxoFrom=[];inputsToSign.forEach(function(inputToSign){var index=inputToSign.index;var input=inputs[index];var existUtxo=allUtxoList?.find(function(i){return i.txid===input.txid&&i.vout===input.vout;});if(existUtxo){utxoFrom.push({address:input.address,balance:new BigNumber(input.value).shiftedBy(-network.decimals).toFixed(),balanceValue:input.value,symbol:network.symbol,isMine:true});}});var originalUtxoTo=outputs.map(function(output){return{address:output.address,balance:new BigNumber(output.value).shiftedBy(-network.decimals).toFixed(),balanceValue:output.value,symbol:network.symbol,isMine:output.address===account.address};});var utxoTo=outputs.length>1?outputs.filter(function(output){return!output.payload?.isChange&&output.address;}).map(function(output){return{address:output.address,balance:new BigNumber(output.value).shiftedBy(-network.decimals).toFixed(),balanceValue:output.value,symbol:network.symbol,isMine:output.address===account.address};}):outputs.map(function(output){return{address:output.address,balance:new BigNumber(output.value).shiftedBy(-network.decimals).toFixed(),balanceValue:output.value,symbol:network.symbol,isMine:output.address===account.address};});var sendNativeTokenAmountBN=new BigNumber(0);var sendNativeTokenAmountValueBN=new BigNumber(0);var actions=[{type:EDecodedTxActionType.ASSET_TRANSFER,assetTransfer:{from:utxoFrom.length?utxoFrom[0].address:inputs[0].address,to:utxoTo[0].address,sends:utxoTo.map(function(utxo){var _nativeToken$logoURI2;return{from:account.address,to:utxo.address,isNative:true,tokenIdOnNetwork:'',name:nativeToken.name,icon:(_nativeToken$logoURI2=nativeToken.logoURI)!=null?_nativeToken$logoURI2:'',amount:utxo.balance,amountValue:utxo.balanceValue,symbol:network.symbol};}),receives:[],utxoFrom,utxoTo:originalUtxoTo}}];var shouldCalculateNativeTokenAmount=utxoFrom.length>=1;utxoTo.forEach(function(utxo){if(!utxo.isMine&&shouldCalculateNativeTokenAmount){sendNativeTokenAmountBN=sendNativeTokenAmountBN.plus(utxo.balance);sendNativeTokenAmountValueBN=sendNativeTokenAmountValueBN.plus(utxo.balanceValue);}});var totalFeeInNative=new BigNumber(encodedTx.fee).shiftedBy(-1*network.feeMeta.decimals).toFixed();return{txid:'',owner:account.address,signer:account.address,nonce:0,actions,status:EDecodedTxStatus.Pending,networkId:this.networkId,accountId:this.accountId,xpub:account.xpub,extraInfo:null,encodedTx,totalFeeInNative,nativeAmount:sendNativeTokenAmountBN.toFixed(),nativeAmountValue:sendNativeTokenAmountValueBN.toFixed()};});function buildDecodedPsbtTx(_x3){return _buildDecodedPsbtTx.apply(this,arguments);}return buildDecodedPsbtTx;}();_proto.buildEncodedTx=function(){var _buildEncodedTx=_asyncToGenerator(function*(params){var{transfersInfo,specifiedFeeRate}=params;if(!transfersInfo||_isEmpty(transfersInfo)){throw new OneKeyInternalError('transfersInfo is required');}return this._buildEncodedTxFromTransfer({transfersInfo,specifiedFeeRate});});function buildEncodedTx(_x4){return _buildEncodedTx.apply(this,arguments);}return buildEncodedTx;}();_proto.buildUnsignedTx=function(){var _buildUnsignedTx=_asyncToGenerator(function*(params){var _ref3;var encodedTx=(_ref3=params.encodedTx)!=null?_ref3:yield this.buildEncodedTx(params);if(encodedTx){var _params$transfersInfo;return this._buildUnsignedTxFromEncodedTx({encodedTx,transfersInfo:(_params$transfersInfo=params.transfersInfo)!=null?_params$transfersInfo:[]});}throw new OneKeyInternalError();});function buildUnsignedTx(_x5){return _buildUnsignedTx.apply(this,arguments);}return buildUnsignedTx;}();_proto.updateUnsignedTx=function(){var _updateUnsignedTx=_asyncToGenerator(function*(options){var{unsignedTx,feeInfo}=options;var encodedTxNew=unsignedTx.encodedTx;var{psbtHex,inputsToSign}=encodedTxNew;var isPsbtTx=psbtHex&&inputsToSign;if(feeInfo&&!isPsbtTx){if(!unsignedTx.transfersInfo||_isEmpty(unsignedTx.transfersInfo)){throw new OneKeyInternalError('transfersInfo is required');}encodedTxNew=yield this._attachFeeInfoToEncodedTx({encodedTx:unsignedTx.encodedTx,transfersInfo:unsignedTx.transfersInfo,feeInfo});}unsignedTx.encodedTx=encodedTxNew;return Promise.resolve(unsignedTx);});function updateUnsignedTx(_x6){return _updateUnsignedTx.apply(this,arguments);}return updateUnsignedTx;}();_proto._attachFeeInfoToEncodedTx=function(){var _attachFeeInfoToEncodedTx2=_asyncToGenerator(function*({encodedTx,feeInfo,transfersInfo}){var network=yield this.getNetwork();if(feeInfo.feeUTXO?.feeRate){var feeRate=new BigNumber(feeInfo.feeUTXO.feeRate).shiftedBy(-network.feeMeta.decimals).toFixed();if(typeof feeRate==='string'){return this._buildEncodedTxFromTransfer({transfersInfo,specifiedFeeRate:feeRate});}}return Promise.resolve(encodedTx);});function _attachFeeInfoToEncodedTx(_x7){return _attachFeeInfoToEncodedTx2.apply(this,arguments);}return _attachFeeInfoToEncodedTx;}();_proto.getBtcForkNetwork=function(){var _getBtcForkNetwork2=_asyncToGenerator(function*(){return _getBtcForkNetwork(yield this.getNetworkImpl());});function getBtcForkNetwork(){return _getBtcForkNetwork2.apply(this,arguments);}return getBtcForkNetwork;}();_proto.validatePrivateKey=function validatePrivateKey(){return Promise.resolve({isValid:false});};_proto.validateXpub=function(){var _validateXpub=_asyncToGenerator(function*(xpub){var btcForkNetwork=yield this.getBtcForkNetwork();return Promise.resolve(this.coreApi.validateXpub({xpub,btcForkNetwork}));});function validateXpub(_x8){return _validateXpub.apply(this,arguments);}return validateXpub;}();_proto.validateXprvt=function(){var _validateXprvt=_asyncToGenerator(function*(xprvt){var btcForkNetwork=yield this.getBtcForkNetwork();return Promise.resolve(this.coreApi.validateXprvt({xprvt,btcForkNetwork}));});function validateXprvt(_x9){return _validateXprvt.apply(this,arguments);}return validateXprvt;}();_proto.validateAddress=function(){var _validateAddress=_asyncToGenerator(function*(address){return validateBtcAddress({address,network:yield this.getBtcForkNetwork()});});function validateAddress(_x10){return _validateAddress.apply(this,arguments);}return validateAddress;}();_proto.validateGeneralInput=function(){var _validateGeneralInput=_asyncToGenerator(function*(params){var{result,inputDecoded:input}=yield this.baseValidateGeneralInput(params);if(result.addressResult?.isValid&&result.addressResult?.encoding){var settings=yield this.getVaultSettings();var items=Object.values(settings.accountDeriveInfo);result.deriveInfoItems=items.filter(function(item){return item.addressEncoding&&result.addressResult?.encoding===item.addressEncoding;});}else{var xpub='';if(result.xpubResult?.isValid){xpub=input;}var network=yield this.getBtcForkNetwork();if(!xpub&&result.xprvtResult?.isValid){({xpub}=getBtcXpubFromXprvt({network,privateKeyRaw:convertBtcXprvtToHex({xprvt:input})}));}if(xpub){var{supportEncodings}=getBtcXpubSupportedAddressEncodings({xpub,network});if(supportEncodings&&supportEncodings.length){var _settings=yield this.getVaultSettings();var _items=Object.values(_settings.accountDeriveInfo);result.deriveInfoItems=_items.filter(function(item){return item.addressEncoding&&supportEncodings.includes(item.addressEncoding);});}}}return result;});function validateGeneralInput(_x11){return _validateGeneralInput.apply(this,arguments);}return validateGeneralInput;}();_proto.parseAddressEncodings=function parseAddressEncodings(addresses){var _this2=this;return Promise.all(addresses.map(function(address){return _this2.validateAddress(address);})).then(function(results){return results.map(function(i){return i.encoding;});});};_proto._buildEncodedTxFromTransfer=function(){var _buildEncodedTxFromTransfer2=_asyncToGenerator(function*(params){var{transfersInfo}=params;if(transfersInfo.length===1){var transferInfo=transfersInfo[0];if(!transferInfo.to){throw new Error('buildEncodedTx ERROR: transferInfo.to is missing');}}return this._buildEncodedTxFromBatchTransfer(params);});function _buildEncodedTxFromTransfer(_x12){return _buildEncodedTxFromTransfer2.apply(this,arguments);}return _buildEncodedTxFromTransfer;}();_proto._buildEncodedTxFromBatchTransfer=function(){var _buildEncodedTxFromBatchTransfer2=_asyncToGenerator(function*(params){var{transfersInfo}=params;var transferInfo=transfersInfo[0];var account=yield this.getAccount();var{inputs,outputs,fee,inputsForCoinSelect,outputsForCoinSelect}=yield this._buildTransferParamsWithCoinSelector(params);if(!inputs||!outputs||_isNil(fee)){var insufficientBalance=appLocale.intl.formatMessage({id:ETranslations.earn_insufficient_balance});var description=appLocale.intl.formatMessage({id:ETranslations.send_toast_btc_fork_insufficient_fund});throw new InsufficientBalance({message:`${insufficientBalance} ${description}`});}return{inputs:inputs.map(function(_ref4){var{txId,value}=_ref4,keep=_objectWithoutProperties(_ref4,_excluded);return _objectSpread(_objectSpread({address:account.address,path:''},keep),{},{txid:txId,value:value.toString()});}),outputs:outputs.map(function({value,address,script}){var valueText=value?.toString();if(valueText&&new BigNumber(valueText).eq(0)&&!address&&script===transferInfo.opReturn){return{address:'',value:valueText,payload:{opReturn:transferInfo.opReturn}};}var addressOrChangeAddress=address||account.address;if(!addressOrChangeAddress){throw new Error('buildEncodedTxFromBatchTransfer ERROR: Invalid change address');}if(!valueText||new BigNumber(valueText).lte(0)){throw new Error('buildEncodedTxFromBatchTransfer ERROR: Invalid value');}return{address:addressOrChangeAddress,value:valueText,payload:address?undefined:{isChange:true,bip44Path:getBIP44Path(account,account.address)}};}),inputsForCoinSelect,outputsForCoinSelect,fee:fee.toString()};});function _buildEncodedTxFromBatchTransfer(_x13){return _buildEncodedTxFromBatchTransfer2.apply(this,arguments);}return _buildEncodedTxFromBatchTransfer;}();_proto._buildTransferParamsWithCoinSelector=function(){var _buildTransferParamsWithCoinSelector2=_asyncToGenerator(function*({transfersInfo,specifiedFeeRate}){var network=yield this.getNetwork();if(!transfersInfo.length){throw new Error('buildTransferParamsWithCoinSelector ERROR: transferInfos is required');}var isBatchTransfer=transfersInfo.length>1;var{utxoList:utxosInfo}=yield this._collectUTXOsInfoByApi();var feeRate=typeof specifiedFeeRate!=='undefined'?new BigNumber(specifiedFeeRate).shiftedBy(network.feeMeta.decimals).toFixed():(yield this._getFeeRate())[1];var inputsForCoinSelect=utxosInfo.map(function({txid,vout,value,address,path}){return{txId:txid,vout,value:parseInt(value,10),address,path};});var outputsForCoinSelect=[];if(isBatchTransfer){outputsForCoinSelect=transfersInfo.map(function({to,amount}){return{address:to,value:parseInt(new BigNumber(amount).shiftedBy(network.decimals).toFixed(),10)};});}else{var transferInfo=transfersInfo[0];var{to,amount}=transferInfo;var allUtxoAmount=utxosInfo.reduce(function(v,{value}){return v.plus(value);},new BigNumber('0')).shiftedBy(-network.decimals);if(allUtxoAmount.lt(amount)){throw new InsufficientBalance({info:{symbol:network.symbol}});}var max=allUtxoAmount.lte(amount);var value=parseInt(new BigNumber(amount).shiftedBy(network.decimals).toFixed(),10);outputsForCoinSelect=[max?{address:to,isMax:true}:{address:to,value}];if(transferInfo.opReturn&&typeof transferInfo.opReturn==='string'&&transferInfo.opReturn.length){outputsForCoinSelect.push({address:'',value:0,script:transferInfo.opReturn});}}var algorithm=!isBatchTransfer?transfersInfo[0].coinSelectAlgorithm:undefined;if(!isBatchTransfer&&outputsForCoinSelect.length>2){throw new Error('single transfer should only have one output');}var{inputs,outputs,fee}=coinSelect({inputsForCoinSelect,outputsForCoinSelect,feeRate,algorithm});return{inputs,outputs,fee,inputsForCoinSelect,outputsForCoinSelect,feeRate};});function _buildTransferParamsWithCoinSelector(_x14){return _buildTransferParamsWithCoinSelector2.apply(this,arguments);}return _buildTransferParamsWithCoinSelector;}();_proto._buildUnsignedTxFromEncodedTx=function(){var _buildUnsignedTxFromEncodedTx2=_asyncToGenerator(function*({encodedTx,transfersInfo}){var{inputs,outputs,inputsForCoinSelect}=encodedTx;var txSize=BTC_TX_PLACEHOLDER_VSIZE;var inputsInUnsignedTx=[];for(var input of inputs){var value=new BigNumber(input.value);inputsInUnsignedTx.push({address:input.address,value,utxo:{txid:input.txid,vout:input.vout,value}});}var selectedInputs=inputsForCoinSelect?.filter(function(input){return inputsInUnsignedTx.some(function(i){return i.utxo?.txid===input.txId&&i.utxo.vout===input.vout;});});if(Number(selectedInputs?.length)>0&&outputs.length>0){var _outputs$map;txSize=estimateTxSize(selectedInputs!=null?selectedInputs:[],(_outputs$map=outputs.map(function(o){return{address:o.address,value:parseInt(o.value,10)};}))!=null?_outputs$map:[]);}var ret={txSize,encodedTx,transfersInfo};return Promise.resolve(ret);});function _buildUnsignedTxFromEncodedTx(_x15){return _buildUnsignedTxFromEncodedTx2.apply(this,arguments);}return _buildUnsignedTxFromEncodedTx;}();_proto.collectTxsByApi=function(){var _collectTxsByApi=_asyncToGenerator(function*(txids){try{var lookup={};var txs=yield this.backgroundApi.serviceSend.getRawTransactions({networkId:this.networkId,txids});Object.keys(txs).forEach(function(txid){return lookup[txid]=txs[txid].rawTx;});return lookup;}catch(e){throw new OneKeyInternalError('Failed to get raw transactions.');}});function collectTxsByApi(_x16){return _collectTxsByApi.apply(this,arguments);}return collectTxsByApi;}();_proto._getRelPathsToAddressByApi=function(){var _getRelPathsToAddressByApi2=_asyncToGenerator(function*({addresses,account}){var{utxoList:utxos}=yield this._collectUTXOsInfoByApi();var pathToAddresses={};var addressToPath={};for(var utxo of utxos){var{address:_address,path:_fullPath}=utxo;if(addresses.includes(_address)){var relPath=_fullPath.split('/').slice(-2).join('/');pathToAddresses[_fullPath]={address:_address,relPath,fullPath:_fullPath};}}var firstRelPath='0/0';var firstFullPath=[account.path,firstRelPath].join('/');if(!pathToAddresses[firstFullPath]){pathToAddresses[firstFullPath]={address:account.address,relPath:firstRelPath,fullPath:firstFullPath};}var relPaths=[];Object.values(pathToAddresses).forEach(function(item){relPaths.push(item.relPath);addressToPath[item.address]=_cloneDeep(item);});return{relPaths:_uniq(relPaths),pathToAddresses,addressToPath};});function _getRelPathsToAddressByApi(_x17){return _getRelPathsToAddressByApi2.apply(this,arguments);}return _getRelPathsToAddressByApi;}();_proto._collectInfoForSoftwareSign=function(){var _collectInfoForSoftwareSign2=_asyncToGenerator(function*(unsignedTx){var{inputs}=unsignedTx.encodedTx;var inputAddressesEncodings=yield this.parseAddressEncodings(inputs.map(function(i){return i.address;}));var nonWitnessInputPrevTxids=Array.from(new Set(inputAddressesEncodings.map(function(encoding,index){if(encoding===EAddressEncodings.P2PKH){return checkIsDefined(inputs[index]).txid;}return undefined;}).filter(function(i){return!!i;})));var nonWitnessPrevTxs=yield this.collectTxsByApi(nonWitnessInputPrevTxids);return[inputAddressesEncodings,nonWitnessPrevTxs];});function _collectInfoForSoftwareSign(_x18){return _collectInfoForSoftwareSign2.apply(this,arguments);}return _collectInfoForSoftwareSign;}();_proto.prepareBtcSignExtraInfo=function(){var _prepareBtcSignExtraInfo=_asyncToGenerator(function*({unsignedTx,unsignedMessage}){var account=yield this.getAccount();var addresses=[];if(unsignedMessage){addresses=[account.address];}if(unsignedTx){var{inputs,inputsToSign}=unsignedTx.encodedTx;var emptyInputs=[];addresses=emptyInputs.concat(inputsToSign!=null?inputsToSign:[],inputs!=null?inputs:[]).filter(Boolean).map(function(input){return input.address;}).concat(account.address);}var{relPaths,pathToAddresses,addressToPath}=yield this._getRelPathsToAddressByApi({addresses,account});var btcExtraInfo={pathToAddresses,addressToPath};if(unsignedTx){var[inputAddressesEncodings,nonWitnessPrevTxs]=yield this._collectInfoForSoftwareSign(unsignedTx);btcExtraInfo.inputAddressesEncodings=inputAddressesEncodings;btcExtraInfo.nonWitnessPrevTxs=nonWitnessPrevTxs;}var signerAccount=account;return{btcExtraInfo,account:signerAccount,relPaths};});function prepareBtcSignExtraInfo(_x19){return _prepareBtcSignExtraInfo.apply(this,arguments);}return prepareBtcSignExtraInfo;}();_proto.getPrivateKeyFromImported=function getPrivateKeyFromImported(params){var input=decodeSensitiveText({encodedText:params.input});var privateKey=convertBtcXprvtToHex({xprvt:input});privateKey=encodeSensitiveText({text:privateKey});return Promise.resolve({privateKey});};_proto.getXpubFromAccount=function(){var _getXpubFromAccount=_asyncToGenerator(function*(networkAccount){var account=networkAccount;return account.xpubSegwit||account.xpub;});function getXpubFromAccount(_x20){return _getXpubFromAccount.apply(this,arguments);}return getXpubFromAccount;}();_proto.buildEstimateFeeParams=function(){var _buildEstimateFeeParams=_asyncToGenerator(function*(){return Promise.resolve({encodedTx:undefined});});function buildEstimateFeeParams(){return _buildEstimateFeeParams.apply(this,arguments);}return buildEstimateFeeParams;}();_proto.precheckUnsignedTx=function(){var _precheckUnsignedTx=_asyncToGenerator(function*(params){var{frozenUtxoList}=yield this._collectUTXOsInfoByApi();var encodedTx=params.unsignedTx.encodedTx;var{inputs}=encodedTx;if(Array.isArray(frozenUtxoList)&&frozenUtxoList.length>0){if(inputs.some(function(input){return frozenUtxoList.find(function(u){return u.txid===input.txid&&u.vout===input.vout;});})){throw new OneKeyInternalError({key:ETranslations.feedback_unable_to_send_frozen_balance});}}return true;});function precheckUnsignedTx(_x21){return _precheckUnsignedTx.apply(this,arguments);}return precheckUnsignedTx;}();_proto.getBlockbookCoinName=function getBlockbookCoinName(){return'Bitcoin';};_proto.getCustomRpcEndpointStatus=function(){var _getCustomRpcEndpointStatus=_asyncToGenerator(function*(params){var client=new ClientBtc(params.rpcUrl);var start=performance.now();var result=yield client.getInfo();if(result.coin!==this.getBlockbookCoinName()){throw new OneKeyInternalError('Invalid coin name');}return{responseTime:Math.floor(performance.now()-start),bestBlockNumber:result.bestBlockNumber};});function getCustomRpcEndpointStatus(_x22){return _getCustomRpcEndpointStatus.apply(this,arguments);}return getCustomRpcEndpointStatus;}();_proto.broadcastTransactionFromCustomRpc=function(){var _broadcastTransactionFromCustomRpc=_asyncToGenerator(function*(params){var{customRpcInfo,signedTx}=params;var rpcUrl=customRpcInfo.rpc;if(!rpcUrl){throw new OneKeyInternalError('Invalid rpc url');}var client=new ClientBtc(rpcUrl);var txid=yield client.broadcastTransaction(signedTx.rawTx);return _objectSpread(_objectSpread({},signedTx),{},{txid,encodedTx:signedTx.encodedTx});});function broadcastTransactionFromCustomRpc(_x23){return _broadcastTransactionFromCustomRpc.apply(this,arguments);}return broadcastTransactionFromCustomRpc;}();_proto.getAddressType=function(){var _getAddressType=_asyncToGenerator(function*({address}){var{encoding,isValid}=yield this.validateAddress(address);if(isValid&&encoding){var deriveInfo=yield this.backgroundApi.serviceNetwork.getDeriveInfoByAddressEncoding({networkId:this.networkId,encoding});return{type:deriveInfo?.label};}return{};});function getAddressType(_x24){return _getAddressType.apply(this,arguments);}return getAddressType;}();_proto.attachFeeInfoToDAppEncodedTx=function(){var _attachFeeInfoToDAppEncodedTx=_asyncToGenerator(function*(params){var{encodedTx}=params;if(encodedTx.psbtHex&&Array.isArray(encodedTx.inputsToSign)){return'';}return encodedTx;});function attachFeeInfoToDAppEncodedTx(_x25){return _attachFeeInfoToDAppEncodedTx.apply(this,arguments);}return attachFeeInfoToDAppEncodedTx;}();_proto.buildStakeEncodedTx=function(){var _buildStakeEncodedTx=_asyncToGenerator(function*(params){var _decodedPsbt$outputIn,_decodedPsbt$inputInf,_decodedPsbt$outputIn2;var{psbtHex}=params;var network=yield this.getNetwork();var formattedPsbtHex=formatPsbtHex(psbtHex);var psbtNetwork=toPsbtNetwork(network);var psbt=Psbt.fromHex(formattedPsbtHex,{network:psbtNetwork});var decodedPsbt=decodedPsbtFN({psbt,psbtNetwork});var account=yield this.backgroundApi.serviceAccount.getAccount({accountId:this.accountId,networkId:this.networkId});var inputsToSign=getInputsToSignFromPsbt({psbt,psbtNetwork,account,isBtcWalletProvider:true});var hasChangeAddress=decodedPsbt.outputInfos.length>1&&!((_decodedPsbt$outputIn=decodedPsbt.outputInfos)!=null?_decodedPsbt$outputIn:[]).every(function(v){return v.address===account.address;});var encodedTx={inputs:((_decodedPsbt$inputInf=decodedPsbt.inputInfos)!=null?_decodedPsbt$inputInf:[]).map(function(v){var _v$value$toString;return _objectSpread(_objectSpread({},v),{},{path:'',value:new BigNumber((_v$value$toString=v.value?.toString())!=null?_v$value$toString:0).toFixed()});}),outputs:((_decodedPsbt$outputIn2=decodedPsbt.outputInfos)!=null?_decodedPsbt$outputIn2:[]).map(function(v){var _v$value$toString2;return _objectSpread(_objectSpread({},v),{},{value:new BigNumber((_v$value$toString2=v.value?.toString())!=null?_v$value$toString2:0).toFixed(),payload:hasChangeAddress?{isChange:v.address===account.address}:undefined});}),inputsForCoinSelect:[],outputsForCoinSelect:[],fee:new BigNumber(decodedPsbt.fee).toFixed(),inputsToSign,psbtHex:psbt.toHex(),disabledCoinSelect:true};return encodedTx;});function buildStakeEncodedTx(_x26){return _buildStakeEncodedTx.apply(this,arguments);}return buildStakeEncodedTx;}();return _createClass(VaultBtc);}(VaultBase);export{VaultBtc as default};","export var BTC_TX_PLACEHOLDER_VSIZE=79;","export var EVaultKeyringTypes=function(EVaultKeyringTypes){EVaultKeyringTypes[\"hd\"]=\"hd\";EVaultKeyringTypes[\"qr\"]=\"qr\";EVaultKeyringTypes[\"hardware\"]=\"hardware\";EVaultKeyringTypes[\"imported\"]=\"imported\";EVaultKeyringTypes[\"watching\"]=\"watching\";EVaultKeyringTypes[\"external\"]=\"external\";return EVaultKeyringTypes;}({});export var EWrappedType=function(EWrappedType){EWrappedType[\"DEPOSIT\"]=\"deposit\";EWrappedType[\"WITHDRAW\"]=\"withdraw\";return EWrappedType;}({});","var utils = require('./utils')\n\n// add inputs until we reach or surpass the target value (or deplete)\n// worst-case: O(n)\nmodule.exports = function accumulative (utxos, outputs, feeRate) {\n  if (!isFinite(utils.uintOrNaN(feeRate))) return {}\n  var bytesAccum = utils.transactionBytes([], outputs)\n\n  var inAccum = 0\n  var inputs = []\n  var outAccum = utils.sumOrNaN(outputs)\n\n  for (var i = 0; i < utxos.length; ++i) {\n    var utxo = utxos[i]\n    var utxoBytes = utils.inputBytes(utxo)\n    var utxoFee = feeRate * utxoBytes\n    var utxoValue = utils.uintOrNaN(utxo.value)\n\n    // skip detrimental input\n    if (utxoFee > utxo.value) {\n      if (i === utxos.length - 1) return { fee: feeRate * (bytesAccum + utxoBytes) }\n      continue\n    }\n\n    bytesAccum += utxoBytes\n    inAccum += utxoValue\n    inputs.push(utxo)\n\n    var fee = feeRate * bytesAccum\n\n    // go again?\n    if (inAccum < outAccum + fee) continue\n\n    return utils.finalize(inputs, outputs, feeRate)\n  }\n\n  return { fee: feeRate * bytesAccum }\n}\n","var utils = require('./utils')\n\n// only add inputs if they don't bust the target value (aka, exact match)\n// worst-case: O(n)\nmodule.exports = function blackjack (utxos, outputs, feeRate) {\n  if (!isFinite(utils.uintOrNaN(feeRate))) return {}\n\n  var bytesAccum = utils.transactionBytes([], outputs)\n\n  var inAccum = 0\n  var inputs = []\n  var outAccum = utils.sumOrNaN(outputs)\n  var threshold = utils.dustThreshold({}, feeRate)\n\n  for (var i = 0; i < utxos.length; ++i) {\n    var input = utxos[i]\n    var inputBytes = utils.inputBytes(input)\n    var fee = feeRate * (bytesAccum + inputBytes)\n    var inputValue = utils.uintOrNaN(input.value)\n\n    // would it waste value?\n    if ((inAccum + inputValue) > (outAccum + fee + threshold)) continue\n\n    bytesAccum += inputBytes\n    inAccum += inputValue\n    inputs.push(input)\n\n    // go again?\n    if (inAccum < outAccum + fee) continue\n\n    return utils.finalize(inputs, outputs, feeRate)\n  }\n\n  return { fee: feeRate * bytesAccum }\n}\n","var utils = require('./utils')\n\n// break utxos into the maximum number of 'output' possible\nmodule.exports = function broken (utxos, output, feeRate) {\n  if (!isFinite(utils.uintOrNaN(feeRate))) return {}\n\n  var bytesAccum = utils.transactionBytes(utxos, [])\n  var value = utils.uintOrNaN(output.value)\n  var inAccum = utils.sumOrNaN(utxos)\n  if (!isFinite(value) ||\n      !isFinite(inAccum)) return { fee: feeRate * bytesAccum }\n\n  var outputBytes = utils.outputBytes(output)\n  var outAccum = 0\n  var outputs = []\n\n  while (true) {\n    var fee = feeRate * (bytesAccum + outputBytes)\n\n    // did we bust?\n    if (inAccum < (outAccum + fee + value)) {\n      // premature?\n      if (outAccum === 0) return { fee: fee }\n\n      break\n    }\n\n    bytesAccum += outputBytes\n    outAccum += value\n    outputs.push(output)\n  }\n\n  return utils.finalize(utxos, outputs, feeRate)\n}\n","var accumulative = require('./accumulative')\nvar blackjack = require('./blackjack')\nvar utils = require('./utils')\n\n// order by descending value, minus the inputs approximate fee\nfunction utxoScore (x, feeRate) {\n  return x.value - (feeRate * utils.inputBytes(x))\n}\n\nmodule.exports = function coinSelect (utxos, outputs, feeRate) {\n  utxos = utxos.concat().sort(function (a, b) {\n    return utxoScore(b, feeRate) - utxoScore(a, feeRate)\n  })\n\n  // attempt to use the blackjack strategy first (no change output)\n  var base = blackjack(utxos, outputs, feeRate)\n  if (base.inputs) return base\n\n  // else, try the accumulative strategy\n  return accumulative(utxos, outputs, feeRate)\n}\n","var utils = require('./utils')\n\n// split utxos between each output, ignores outputs with .value defined\nmodule.exports = function split (utxos, outputs, feeRate) {\n  if (!isFinite(utils.uintOrNaN(feeRate))) return {}\n\n  var bytesAccum = utils.transactionBytes(utxos, outputs)\n  var fee = feeRate * bytesAccum\n  if (outputs.length === 0) return { fee: fee }\n\n  var inAccum = utils.sumOrNaN(utxos)\n  var outAccum = utils.sumForgiving(outputs)\n  var remaining = inAccum - outAccum - fee\n  if (!isFinite(remaining) || remaining < 0) return { fee: fee }\n\n  var unspecified = outputs.reduce(function (a, x) {\n    return a + !isFinite(x.value)\n  }, 0)\n\n  if (remaining === 0 && unspecified === 0) return utils.finalize(utxos, outputs, feeRate)\n\n  var splitOutputsCount = outputs.reduce(function (a, x) {\n    if (x.value !== undefined) return a\n    return a + 1\n  }, 0)\n  var splitValue = Math.floor(remaining / splitOutputsCount)\n\n  // ensure every output is either user defined, or over the threshold\n  if (!outputs.every(function (x) {\n    return x.value !== undefined || (splitValue > utils.dustThreshold(x, feeRate))\n  })) return { fee: fee }\n\n  // assign splitValue to outputs not user defined\n  outputs = outputs.map(function (x) {\n    if (x.value !== undefined) return x\n\n    // not user defined, but still copy over any non-value fields\n    var y = {}\n    for (var k in x) y[k] = x[k]\n    y.value = splitValue\n    return y\n  })\n\n  return utils.finalize(utxos, outputs, feeRate)\n}\n","// baseline estimates, used to improve performance\nvar TX_EMPTY_SIZE = 4 + 1 + 1 + 4\nvar TX_INPUT_BASE = 32 + 4 + 1 + 4\nvar TX_INPUT_PUBKEYHASH = 107\nvar TX_OUTPUT_BASE = 8 + 1\nvar TX_OUTPUT_PUBKEYHASH = 25\nvar OP_RETURN_OVERHEAD = 1 + 8 + 1\n\nfunction inputBytes (input) {\n  return TX_INPUT_BASE + (input.script ? input.script.length : TX_INPUT_PUBKEYHASH)\n}\n\nfunction outputBytes (output) {\n  if (output.script) {\n    return OP_RETURN_OVERHEAD + output.script.length + (output.script.length >= 74 ? 2 : 1);\n  }\n  return TX_OUTPUT_BASE + (output.script ? output.script.length : TX_OUTPUT_PUBKEYHASH)\n}\n\nfunction dustThreshold (output, feeRate) {\n  /* ... classify the output for input estimate  */\n  return inputBytes({}) * 3\n}\n\nfunction transactionBytes (inputs, outputs) {\n  return TX_EMPTY_SIZE +\n    inputs.reduce(function (a, x) { return a + inputBytes(x) }, 0) +\n    outputs.reduce(function (a, x) { return a + outputBytes(x) }, 0)\n}\n\nfunction uintOrNaN (v) {\n  if (typeof v !== 'number') return NaN\n  if (!isFinite(v)) return NaN\n  if (Math.floor(v) !== v) return NaN\n  if (v < 0) return NaN\n  return v\n}\n\nfunction sumForgiving (range) {\n  return range.reduce(function (a, x) { return a + (isFinite(x.value) ? x.value : 0) }, 0)\n}\n\nfunction sumOrNaN (range) {\n  return range.reduce(function (a, x) { return a + uintOrNaN(x.value) }, 0)\n}\n\nvar BLANK_OUTPUT = outputBytes({})\n\nfunction finalize (inputs, outputs, feeRate) {\n  var bytesAccum = transactionBytes(inputs, outputs)\n  var feeAfterExtraOutput = feeRate * (bytesAccum + BLANK_OUTPUT)\n  var remainderAfterExtraOutput = sumOrNaN(inputs) - (sumOrNaN(outputs) + feeAfterExtraOutput)\n\n  // is it worth a change output?\n  if (remainderAfterExtraOutput > dustThreshold({}, feeRate)) {\n    outputs = outputs.concat({ value: remainderAfterExtraOutput })\n  }\n\n  var fee = sumOrNaN(inputs) - sumOrNaN(outputs)\n  if (!isFinite(fee)) return { fee: feeRate * bytesAccum }\n\n  return {\n    inputs: inputs,\n    outputs: outputs,\n    fee: fee\n  }\n}\n\nmodule.exports = {\n  dustThreshold: dustThreshold,\n  finalize: finalize,\n  inputBytes: inputBytes,\n  outputBytes: outputBytes,\n  sumOrNaN: sumOrNaN,\n  sumForgiving: sumForgiving,\n  transactionBytes: transactionBytes,\n  uintOrNaN: uintOrNaN\n}\n"],"names":["utxoScore","x","feeRate","value","sortUtxo","utxos","concat","sort","a","b","forceSelect","coinSelectAccumulativeDesc","outputs","coinSelect","inputsForCoinSelect","outputsForCoinSelect","algorithm","max","some","o","isMax","every","Number","isNaN","Error","finalOutputs","map","address","undefined","script","unspentSelectFn","inputs","fee","parseInt","slicePathTemplate","template","getUtxoAccountPrefixPath","fullPath","pathComponent","split","pop","join","getBIP44Path","account","realPath","key","Object","entries","addresses","path","estimateTxSize","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","result","Super","NewTarget","this","constructor","Reflect","construct","arguments","apply","t","Boolean","prototype","valueOf","call","KeyringBase","_VaultContext","_super","vault","_this","options","networkId","_basePrepareHdNormalAccounts","_basePrepareHdUtxoAccounts","_batchGetAddresses","_exportAccountSecretKeys","_buildHwAllNetworkPrepareAccountsParams","_proto","isKeyringImported","keyringType","imported","isKeyringHd","hd","isKeyringHardware","hardware","isKeyringWatching","watching","basePrepareHdNormalAccounts","params","walletId","names","deriveInfo","indexes","coinType","namePrefix","idSuffix","settings","getVaultSettings","accountType","buildAddressesInfo","usedIndexes","addressInfos","ret","idx","length","publicKey","relPath","VARIANT","pathIndex","name","buildHDAccountName","id","buildHDAccountId","indexedAccountId","buildIndexedAccountId","index","push","type","impl","pub","_x","_x2","basePrepareHdUtxoAccounts","skipCheckAccountExist","UTXO","checkIsAccountUsed","accountCreatePerf","utxoBuildAddressesInfo","addressesInfo","utxoBuildAddressesInfoDone","buildDBUtxoAccounts","xpub","xpubSegwit","prefix","isLast","isUsed","wait","buildDBUtxoAccountsDone","_x3","_x4","batchGetAddresses","_x5","exportAccountSecretKeys","_x6","buildHwAllNetworkPrepareAccountsParams","_x7","buildPrepareAccountsPrefixedPath","_KeyringBase","KeyringBaseMock","_super2","KeyringHardwareBase","args","_getHardwareSDKInstance","_baseGetDeviceAccountData","_baseGetDeviceAccountPublicKeys","_baseGetDeviceAccountAddresses","_getAllNetworkPrepareAccounts","getHardwareSDKInstance","_ref","r","$backgroundApiProxy","backgroundApi","serviceHardware","getSDKInstance","getHardwareSDKInstanceDone","baseGetDeviceAccountData","sdkGetDataFn","errorMessage","deviceParams","dbDevice","confirmOnDevice","connectId","deviceId","coinName","pathPrefix","pathSuffix","showOnOnekeyFn","arrIndex","EveryItem","LastItem","baseGetDeviceAccountPublicKeys","sdkGetPublicKeysFn","baseGetDeviceAccountAddresses","sdkGetAddressFn","getAllNetworkPrepareAccounts","hwSdkNetwork","buildPath","buildResultAccount","hwAllNetworkPrepareAccountsResponse","resultAccounts","_loop","find","item","network","success","payload","hasErrorItem","error","indexOf","KeyringHdBase","_KeyringSoftwareBase","KeyringImportedBase","ownKeys","e","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","KeyringQrBase","qr","_getVerifyAddressChainParams","_baseSignByQrcode","_findAirGapAccountByPath","_findAirGapAccountInPrepareAccounts","_findAirGapAccountByDbAccount","_verifyQrWalletAddressByTwoWayScan","getChildPathTemplates","getVerifyAddressChainParams","query","baseSignByQrcode","wallet","getWallet","associatedDevice","getDevice","getAccountPath","getAccount","chainId","getNetworkChainId","requestId","airGapAccount","findAirGapAccountByPath","xfp","signRequestUr","signRequestUrBuilder","responseUr","signatureUr","serviceQrWallet","startTwoWayAirGapScanUr","requestUr","signedResultBuilder","childPathTemplate","_this2","airGapAccountsInfo","accounts","eachAirGapAccount","childPathTemplates","childPathTpl","buildPathFromTemplate","findAirGapAccountInPrepareAccounts","findAirGapAccountByDbAccount","dbAccount","verifyQrWalletAddressByTwoWayScan","chain","getDeviceChainNameByNetworkId","serviceAccount","origin","method","toUR","raw","allowPlainTextResponse","toLowerCase","startsWith","buildUtxoAddressRelPath","_x8","_x9","KeyringSoftwareBase","_baseGetCredentialsInfo","_baseSignTransactionBtc","_baseSignTransaction","_baseSignMessage","_baseSignMessageBtc","_basePrepareAccountsImported","_basePrepareAccountsImportedUtxo","_basePrepareAccountsHd","_basePrepareAccountsHdUtxo","_baseExportAccountSecretKeys","_baseGetPrivateKeys","baseGetCredentialsInfo","password","getCredential","credential","accountId","baseSignTransactionBtc","coreApi","unsignedTx","signOnly","credentials","networkInfo","getCoreApiNetworkInfo","btcExtraInfo","relPaths","prepareBtcSignExtraInfo","signTransaction","baseSignTransaction","baseSignMessage","messages","Promise","all","msg","signMessage","unsignedMsg","baseSignMessageBtc","unsignedMessage","basePrepareAccountsImported","importedCredential","networks","createAtNetwork","privateKey","onlyAvailableOnCertainNetworks","coinTypeDefault","privateKeyRaw","getAddressFromPrivate","addressEncoding","addressUsed","buildImportedAccountId","resolve","basePrepareAccountsImportedUtxo","basePrepareAccountsHd","_ref2","_this3","getAddressesFromHd","hdCredential","_x10","basePrepareAccountsHdUtxo","_ref3","_this4","getCredentialsInfo","getAddressesFromHdDone","_x13","_x11","_x12","baseExportAccountSecretKeys","keyType","serviceNetwork","getDeriveTypeByTemplate","getExportedSecretKey","_x14","baseGetPrivateKeys","getPrivateKeys","_x15","KeyringWatchingBase","_signTransaction","_signMessage","_basePrepareUtxoWatchingAccounts","_basePrepareSimpleWatchingAccounts","intl","formatMessage","ETranslations","wallet_error_trade_with_watched_acocunt","basePrepareUtxoWatchingAccounts","isUrlAccount","buildWatchingAccountId","addressFromXpub","getAddressFromPublic","basePrepareSimpleWatchingAccounts","SIMPLE","_excluded","_excluded2","VaultBase","_VaultBaseChainOnly","uuid","_init","_initKeyring","_broadcastTransaction","_broadcastTransactionFromCustomRpc","_validateSendAmount","_buildOnChainHistoryTxExtraInfo","_precheckUnsignedTx","_buildEstimateFeeParams","_buildParseTransactionParams","_buildFetchHistoryListParams","_buildHistoryTx","_buildOnChainHistoryTx","_buildHistoryTxAction","_buildHistoryTxFunctionCallAction","_buildHistoryTxUnknownAction","_buildHistoryTransferAction","_buildTxTransferAssetAction","_buildInternalSwapAction","_buildInternalStakingAction","_getAccount","_getAccountAddress","_getAccountPath","_getAccountXpub","_fillTokensDetails","_fillAccountDetails","_isEarliestLocalPendingTx","_buildReplaceEncodedTx","_attachFeeInfoToDAppEncodedTx","_activateToken","_getAddressType","_fetchAccountDetails","_fetchAccountDetailsByApi","_fetchAccountDetailsByRpc","_fetchTokenList","_fetchTokenListByApi","_fetchTokenListByRpc","_estimateFee","_estimateFeeByApi","_estimateFeeByRpc","_fetchAccountHistoryDetail","_fetchAccountHistoryDetailByApi","_fetchAccountHistoryDetailByRpc","_buildOkxSwapEncodedTx","_proto2","init","config","initKeyring","_x16","isChainOnly","keyring","keyringCreator","_x17","broadcastTransaction","signedTx","txid","serviceSend","encodedTx","_x18","broadcastTransactionFromCustomRpc","_x19","validateSendAmount","_x20","buildOnChainHistoryTxExtraInfo","onChainHistoryTx","_x21","precheckUnsignedTx","_x22","buildEstimateFeeParams","_x23","buildParseTransactionParams","_x24","buildFetchHistoryListParams","_x25","buildHistoryTx","historyTxToMerge","decodedTx","isSigner","isLocalCreated","accountAddress","getAccountAddressForApi","getAccountXpub","owner","signer","historyTx","buildLocalHistoryId","_x26","buildOnChainHistoryTx","originAccountId","originNetworkId","tokens","nfts","originAccountAddress","originXpub","allNetworkHistoryExtraItems","onekeyall","allNetworkAccount","i","_","txXpub","accountXpub","vaultSettings","action","buildHistoryTxAction","tx","from","to","nonce","actions","status","totalFeeInNative","gasFee","totalFeeFiatValue","gasFeeFiatValue","nativeAmount","isUtxo","extraInfo","label","updatedAt","Date","timestamp","getTime","createdAt","isFinal","_x27","Approve","tokenApprove","buildHistoryTxApproveAction","sends","receives","buildHistoryTxFunctionCallAction","buildHistoryTxUnknownAction","buildHistoryTransferAction","_x28","getNetwork","FUNCTION_CALL","functionCall","functionName","functionHash","functionCode","_x29","UNKNOWN","unknownAction","_x30","ASSET_TRANSFER","assetTransfer","send","buildHistoryTransfer","transfer","receive","_x31","icon","symbol","isNFT","isNative","price","tokenAddress","token","tokenIdOnNetwork","amount","isOwn","decimals","TOKEN_APPROVE","spender","shiftedBy","toFixed","isInfiniteAmount","buildTxTransferAssetAction","transfers","data","application","isInternalSwap","isInternalStaking","internalStakingLabel","swapReceivedAddress","swapReceivedNetworkId","getAccountAddress","sendNativeTokenAmountBN","OUT","plus","nativeAmountValue","convertAmountToChainValue","_x32","buildInternalSwapAction","_swapSendToken$logoUR","_swapSendToken$name","_swapReceiveToken$log","_swapReceiveToken$nam","_providerInfo$provide","swapData","swapInfo","swapToAddress","swapSendToken","sender","swapReceiveToken","receiver","providerInfo","swapBuildResData","info","otherFeeInfos","otherFeeInfoTransfers","contractAddress","logoURI","receivingAddress","feeInfo","_feeInfo$token$logoUR","_feeInfo$token$name","providerName","providerLogo","_x33","buildInternalStakingAction","_send$token$logoURI","_send$token$name","_receive$token$logoUR","_receive$token$name","stakingInfo","stakingData","stakingToAddress","protocol","protocolLogoURI","_x34","_params$signOnly","_signedTx$encodedTx","_x35","getDBAccount","isAccountCompatibleWithNetwork","slice","getNetworkInfo","externalAccount","externalAccountAddress","connectedAddresses","buildExternalAccountAddress","fallbackIndex","_externalAccount$sele","selectedAddress","getNetworkImpl","addressDetail","buildAccountAddressDetail","allowEmptyAddress","isValid","networkAccount","getXpubFromAccount","fillTokensDetails","tokensDetails","_x36","fillAccountDetails","accountDetails","_x37","isEarliestLocalPendingTx","_x38","buildReplaceEncodedTx","replaceType","_x39","attachFeeInfoToDAppEncodedTx","_x40","activateToken","_x41","getAddressType","_x42","buildStakeEncodedTx","fetchAccountDetails","isCustomNetwork","fetchAccountDetailsByRpc","fetchAccountDetailsByApi","_x43","queryParams","client","serviceAccountProfile","getClient","Wallet","get","headers","_getWalletTypeHeader","signal","_x44","_x45","fetchTokenList","fetchTokenListByRpc","fetchTokenListByApi","_x46","serviceToken","requestApiParams","flag","contractList","contract","post","_x47","_x48","estimateFee","estimateFeeByRpc","estimateFeeByApi","_x49","rest","serviceGas","_x50","_x51","fetchAccountHistoryDetail","fetchAccountHistoryDetailByRpc","fetchAccountHistoryDetailByApi","_x52","_x53","_x54","buildOkxSwapEncodedTx","_x55","VaultBaseChainOnly","_getXpubFromAccount","_proxyJsonRPCCall","_addressFromBase","_addressToBase","_baseValidatePrivateKey","_baseValidateGeneralInput","_baseGetPrivateKeyFromImported","_validateAmountInputShown","_checkIsDomainName","_resolveDomainName","_getCustomRpcEndpointStatus","_checkFeeSupportInfo","_fetchTokenDetails","_fetchTokenDetailsByApi","_fetchTokenDetailsByRpc","proxyJsonRPCCall","request","addressFromBase","addressToBase","baseValidatePrivateKey","baseValidateGeneralInput","addressResult","xpubResult","xprvtResult","privateKeyResult","input","encodedText","validateAddress","validateXprvt","validateXpub","validatePrivateKey","inputDecoded","baseGetPrivateKeyFromImported","stripHexPrefix","text","validateAmountInputShown","toAddress","checkIsDomainName","resolveDomainName","getCustomRpcEndpointStatus","checkFeeSupportInfo","fetchTokenDetails","fetchTokenDetailsByRpc","fetchTokenDetailsByApi","_params$signal","VaultContext","getWalletIdFromAccountId","_getNetworkId","_getNetwork","_getNetworkChainId","_getNetworkImpl","_getVaultSettings2","_getNetworkInfo","_getCoreApiNetworkInfo","_getRpcUrl","_destroy","getNetworkId","cached","_network","hex","addressPrefix","curve","networkImpl","isTestnet","networkChainCode","code","getRpcUrl","destroy","KeyringHardwareBtcBase","_KeyringHardwareBase","buildHardwareInput","getHDPath","getScriptType","addressN","scriptType","prev_index","vout","prev_hash","address_n","script_type","buildHardwareOutput","output","isChange","bip44Path","opReturn","op_return_data","bytesToHex","Buffer","getOutputScriptType","buildPrevTx","rawTx","fromHex","hash","getId","version","ins","reverse","toString","script_sig","sequence","bin_outputs","outs","script_pubkey","lock_time","locktime","_signPsbt","_prepareAccounts","removePathLastSegment","removeCount","psbtHex","inputsToSign","signPsbt","deviceCommonParams","getCoinName","utxoList","utxosInfo","_collectUTXOsInfoByApi","signers","utxo","includes","_ref4","prevTxids","Array","Set","prevTxs","collectTxsByApi","sdk","response","btcSignTransaction","coin","refTxs","values","serializedTx","isTaprootPath","pubkeyResult","btcGetPublicKey","showOnOneKey","fingerprint","root_fingerprint","padStart","btcNetwork","getBtcForkNetwork","psbt","maximumFeeRate","len","_dbAccount$relPath","updateInput","tapBip32Derivation","masterFingerprint","pubkey","subarray","leafHashes","_i","_len","txOutputs","_dbAccount$relPath2","updateOutput","tapInternalKey","err","signedPsbt","btcSignPsbt","toHex","finalizedPsbt","v","finalizeInput","extractTransaction","finalizedPsbtHex","_ref5","message","_dbAccount$relPath3","dAppSignType","btcSignMessage","messageHex","signature","prepareAccounts","_ref6","addressRelPath","checkBtcAddressIsUsed","_ref7","publicKeys","allNetworkAccounts","p","node","publicKeysMap","getAddressFromXpub","relativePaths","addressInfo","_ref8","btcGetAddress","bundle","replace","_item$path","_item$address","KeyringHd","_KeyringHdBase","btc","_getPrivateKeys","prepareAccountsStartBtc","initBitcoinEcc","initBitcoinEccDone","KeyringImported","_KeyringImportedBase","KeyringQr","_KeyringQrBase","coreChainApi","_verifySignedTxMatched","verifySignedTxMatched","unsignedPsbt","verifyBtcSignedPsbtMatched","appLocale","feedback_psbt_not_found","isEqualFn","txInputs","feedback_psbt_inputs_mismatch","feedback_psbt_outputs_mismatch","globalMap","feedback_psbt_uuid_mismatch","accountUtils","localDb","extendedPublicKey","deriveType","buildInputMixinInfo","addressToPath","xpubAddressInfo","pubkeyBuffer","bip32Derivation","generatePSBT","toBuffer","parsePSBT","extractPsbtToSignedTx","String","convertBtcScriptTypeForHardware","isVerifyAddressAction","convertBtcForkXpub","btcForkNetwork","KeyringWatching","_KeyringWatchingBase","getPublicKeyFromXpub","KeyringHardware","_KeyringHardwareBtcBa","ClientBtc","url","axios","create","baseURL","timeout","_getInfo","getInfo","res","then","bestBlockNumber","blockbook","bestHeight","isReady","isFinite","_res$result","VaultBtc","_VaultBase","keyringMap","hw","external","_getFeeRate","feeUTXO","feedback_failed_to_fet_fee_rate","fees","_item$feeRate","negativeIndex","findIndex","val","lt","leftIndex","rightIndex","gte","comparedTo","promise","maxAge","inscriptionProtection","serviceSetting","getInscriptionProtection","withCheckInscription","checkInscriptionProtectionEnabled","frozenUtxoList","allUtxoList","withUTXOList","withFrozenBalance","feedback_failed_to_get_utxos","timerUtils","getTimeDurationMs","seconds","_buildAccountAddressDetail","_buildDecodedTx","_buildDecodedPsbtTx","_buildEncodedTx","_buildUnsignedTx","_updateUnsignedTx","_attachFeeInfoToEncodedTx2","_getBtcForkNetwork2","_validateXpub","_validateXprvt","_validateAddress","_validateGeneralInput","_buildEncodedTxFromTransfer2","_buildEncodedTxFromBatchTransfer2","_buildTransferParamsWithCoinSelector2","_buildUnsignedTxFromEncodedTx2","_collectTxsByApi","_getRelPathsToAddressByApi2","_collectInfoForSoftwareSign2","_prepareBtcSignExtraInfo","_buildStakeEncodedTx","normalizedAddress","displayAddress","baseAddress","buildDecodedTx","isArray","decodedPsbt","buildDecodedPsbtTx","decodedPsbtAction","_sendNativeTokenAmountBN","_sendNativeTokenAmountValueBN","utxoFrom","utxoTo","nativeToken","getToken","balance","balanceValue","isMine","originalUtxoTo","sendNativeTokenAmountValueBN","_action","_accountAddress","_send","_action2","_nativeToken$logoURI","amountValue","feeMeta","Pending","inputToSign","existUtxo","_nativeToken$logoURI2","shouldCalculateNativeTokenAmount","buildEncodedTx","transfersInfo","specifiedFeeRate","_buildEncodedTxFromTransfer","buildUnsignedTx","_params$transfersInfo","_buildUnsignedTxFromEncodedTx","updateUnsignedTx","encodedTxNew","_attachFeeInfoToEncodedTx","xprvt","validateBtcAddress","validateGeneralInput","encoding","items","accountDeriveInfo","deriveInfoItems","getBtcXpubFromXprvt","convertBtcXprvtToHex","supportEncodings","getBtcXpubSupportedAddressEncodings","_settings","_items","parseAddressEncodings","results","_buildEncodedTxFromBatchTransfer","transferInfo","_buildTransferParamsWithCoinSelector","insufficientBalance","earn_insufficient_balance","description","send_toast_btc_fork_insufficient_fund","txId","keep","valueText","eq","addressOrChangeAddress","lte","isBatchTransfer","allUtxoAmount","reduce","coinSelectAlgorithm","txSize","inputsInUnsignedTx","_outputs$map","selectedInputs","txids","lookup","txs","getRawTransactions","_getRelPathsToAddressByApi","pathToAddresses","_address","_fullPath","firstRelPath","firstFullPath","_collectInfoForSoftwareSign","inputAddressesEncodings","nonWitnessInputPrevTxids","EAddressEncodings","P2PKH","nonWitnessPrevTxs","getPrivateKeyFromImported","u","feedback_unable_to_send_frozen_balance","getBlockbookCoinName","rpcUrl","start","performance","now","responseTime","Math","floor","customRpcInfo","rpc","getDeriveInfoByAddressEncoding","_decodedPsbt$outputIn","_decodedPsbt$inputInf","_decodedPsbt$outputIn2","formattedPsbtHex","psbtNetwork","getInputsToSignFromPsbt","isBtcWalletProvider","hasChangeAddress","outputInfos","inputInfos","_v$value$toString","_v$value$toString2","disabledCoinSelect","EVaultKeyringTypes","EWrappedType","utils","module","exports","accumulative","uintOrNaN","bytesAccum","transactionBytes","inAccum","outAccum","sumOrNaN","utxoBytes","inputBytes","utxoFee","utxoValue","finalize","blackjack","threshold","dustThreshold","inputValue","broken","outputBytes","base","remaining","sumForgiving","unspecified","splitOutputsCount","splitValue","y","k","TX_EMPTY_SIZE","TX_INPUT_BASE","TX_INPUT_PUBKEYHASH","TX_OUTPUT_BASE","TX_OUTPUT_PUBKEYHASH","OP_RETURN_OVERHEAD","NaN","range","BLANK_OUTPUT","feeAfterExtraOutput","remainderAfterExtraOutput"],"sourceRoot":""}