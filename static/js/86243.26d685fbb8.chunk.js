!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="83a2f27e-7dda-4f17-b0f5-eac63a0cb8d1",e._sentryDebugIdIdentifier="sentry-dbid-83a2f27e-7dda-4f17-b0f5-eac63a0cb8d1")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.0 (2024112814)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[86243],{686243:(e,t,r)=>{r.r(t),r.d(t,{default:()=>TokenSelectorModal});var o=r(324586),n=r(586330),c=r(514041),a=r(654266),s=r(908867),i=r(578104),l=r(490343),d=r(547669),p=r(284781),u=r(498356),k=r(384013),f=r(227428),w=r(334439),y=r(491180),b=r(714191),g=r(325809),m=r(353203),v=r(298254),S=r(918120),h=r(831085);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=0;function TokenSelector(){var e,t,r=(0,s.A)(),{updateTokenSelectorSearchKey:o,updateTokenSelectorSearchTokenState:b,refreshTokenSelectorSearchTokenList:g,updateCreateAccountState:S}=(0,k.WE)().current,j=(0,a.lq)(),I=(0,u.A)(),{createAddress:A}=(0,m.m)(),{title:O,networkId:T,accountId:P,closeAfterSelect:_=!0,onSelect:x,searchAll:E,isAllNetworks:N,searchPlaceholder:D,footerTipText:L}=j.params,{network:H,account:M}=(0,v.b)({networkId:T,accountId:P}),[C]=(0,k._N)(),K=(0,c.useCallback)((e=(0,n.A)((function*(e){if(H?.isAllNetworks){var t;e.networkId&&(t=yield d.A.serviceNetwork.getVaultSettings({networkId:e.networkId}));var r=[];try{if((e.accountId||M?.id)&&(e.networkId||H?.id)){var o,n,c,a,s,i=e.accountId?{accountId:null!=(o=e.accountId)?o:"",networkId:null!=(n=e.networkId)?n:""}:{accountId:null!=(c=M?.id)?c:"",networkId:null!=(a=H?.id)?a:""};if(e.accountId&&e.networkId){var l,p,u=yield d.A.serviceAccount.getAccount({accountId:null!=(l=e.accountId)?l:"",networkId:null!=(p=e.networkId)?p:""});s=(yield d.A.serviceNetwork.getDeriveTypeByTemplate({networkId:e.networkId,template:u.template})).deriveType}var{accountsInfo:k}=yield d.A.serviceAllNetwork.getAllNetworkAccounts(_objectSpread(_objectSpread({},i),{},{includingNonExistingAccount:!0,deriveType:s,excludeTestNetwork:!1}));r=k}}catch{}var f=r.find((function(t){return e.accountId?t.accountId===e.accountId:t.networkId===e.networkId}));if(t?.mergeDeriveAssetsEnabled||f?.accountId)x?.(f?.accountId?_objectSpread(_objectSpread({},e),{},{accountId:f.accountId}):e);else if(M){S({isCreating:!0,token:e});var w=y.A.getWalletIdFromAccountId({accountId:M.id});try{var b=yield A({num:0,account:{walletId:w,networkId:e.networkId,indexedAccountId:M.indexedAccountId,deriveType:"default"}});S({isCreatingAccount:!1,token:null}),b&&x?.(_objectSpread(_objectSpread({},e),{},{accountId:b.accounts[0]?.id}))}catch(e){S({isCreatingAccount:!1,token:null})}}}else x?.(e);_&&I.pop()})),function(t){return e.apply(this,arguments)}),[M,_,A,I,H?.id,H?.isAllNetworks,x,S]),W=(0,i.YQ)(o,E?1e3:200),B=(0,c.useMemo)((function(){return{placeholder:null!=D?D:r.formatMessage({id:w.ETranslations.send_token_selector_search_placeholder}),onChangeText:function({nativeEvent:e}){W(e.text)}}}),[W,r,D]),U=(0,c.useCallback)((t=(0,n.A)((function*(e){b({isSearching:!0}),yield d.A.serviceToken.abortSearchTokens();try{var t=yield d.A.serviceToken.searchTokens({accountId:P,networkId:T,keywords:e});g({tokens:t})}catch(e){}b({isSearching:!1})})),function(e){return t.apply(this,arguments)}),[P,T,g,b]);return(0,c.useEffect)((function(){E&&C&&C.length>=f.NZ?U(C):(b({isSearching:!1}),g({tokens:[]}),d.A.serviceToken.abortSearchTokens())}),[g,E,C,U,b]),(0,h.jsxs)(l.Page,{safeAreaEnabled:!1,onClose:function(){return o("")},onUnmounted:function(){return o("")},"data-sentry-element":"Page","data-sentry-component":"TokenSelector","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetSelector/pages/TokenSelector.tsx",children:[(0,h.jsx)(l.Page.Header,{title:null!=O?O:r.formatMessage({id:w.ETranslations.global_select_crypto}),headerSearchBarOptions:B,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetSelector/pages/TokenSelector.tsx"}),(0,h.jsx)(l.Page.Body,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetSelector/pages/TokenSelector.tsx",children:(0,h.jsx)(p.x,{withPresetVerticalPadding:!1,onPressToken:K,isAllNetworks:null!=N?N:H?.isAllNetworks,withNetwork:null!=N?N:H?.isAllNetworks,searchAll:E,isTokenSelector:!0,footerTipText:L,"data-sentry-element":"TokenListView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetSelector/pages/TokenSelector.tsx"})})]})}function TokenSelectorModal(){var e=(0,a.lq)(),{accountId:t}=e.params;return(0,h.jsx)(g.b8,{config:{sceneName:b.Zs.home},enabledNum:[j],"data-sentry-element":"AccountSelectorProviderMirror","data-sentry-component":"TokenSelectorModal","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetSelector/pages/TokenSelector.tsx",children:(0,h.jsx)(S.m,{accountId:t,"data-sentry-element":"HomeTokenListProviderMirrorWrapper","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetSelector/pages/TokenSelector.tsx",children:(0,h.jsx)(TokenSelector,{"data-sentry-element":"TokenSelector","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetSelector/pages/TokenSelector.tsx"})})})}},918120:(e,t,r)=>{r.d(t,{m:()=>HomeTokenListProviderMirrorWrapper});var o=r(324586),n=r(839850),c=r(491180),a=r(208257),s=r(514041),i=r(641106),l=r(727476),d=r(831085);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=(0,s.memo)((function(e){var t=(0,l.y)();return(0,d.jsx)(i.m,_objectSpread(_objectSpread({},e),{},{data:t}))}));p.displayName="UrlAccountHomeTokenListProviderMirror";var u=["accountId"];function HomeTokenListProvider_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function HomeTokenListProvider_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HomeTokenListProvider_ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HomeTokenListProvider_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function HomeTokenListProviderMirrorWrapper(e){var{accountId:t}=e,r=(0,n.A)(e,u);return c.A.isUrlAccountFn({accountId:t})?(0,d.jsx)(p,HomeTokenListProvider_objectSpread({},r)):(0,d.jsx)(a.p,HomeTokenListProvider_objectSpread({},r))}}}]);
//# sourceMappingURL=86243.26d685fbb8.chunk.js.map